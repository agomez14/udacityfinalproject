/*!CK:2992022778!*//*1438357743,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["OFIqt"]); }

__d("MessagingRealtimeConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={VIEWER_FBID:"realtime_viewer_fbid"};},null);
__d("CallbackManagerController",["ErrorUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this.$CallbackManagerController0=[];this.$CallbackManagerController1=[(void 0)];this.$CallbackManagerController2=i;}h.prototype.executeOrEnqueue=function(i,j,k){"use strict";k=k||{};var l=this.$CallbackManagerController3(j,i,k);if(l)return 0;this.$CallbackManagerController1.push({fn:j,request:i,options:k});var m=this.$CallbackManagerController1.length-1;this.$CallbackManagerController0.push(m);return m;};h.prototype.unsubscribe=function(i){"use strict";delete this.$CallbackManagerController1[i];};h.prototype.reset=function(){"use strict";this.$CallbackManagerController1=[];};h.prototype.getRequest=function(i){"use strict";return this.$CallbackManagerController1[i];};h.prototype.runPossibleCallbacks=function(){"use strict";var i=this.$CallbackManagerController0;this.$CallbackManagerController0=[];var j=[];i.forEach(function(k){var l=this.$CallbackManagerController1[k];if(!l)return;if(this.$CallbackManagerController2(l.request,l.options)){j.push(k);}else this.$CallbackManagerController0.push(k);}.bind(this));j.forEach(function(k){var l=this.$CallbackManagerController1[k];delete this.$CallbackManagerController1[k];this.$CallbackManagerController3(l.fn,l.request,l.options);}.bind(this));};h.prototype.$CallbackManagerController3=function(i,j,k){"use strict";var l=this.$CallbackManagerController2(j,k);if(l){var m={ids:j};g.applyWithGuard(i,m,l);}return !!l;};e.exports=h;},null);
__d("KeyedCallbackManager",["CallbackManagerController","ErrorUtils"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){"use strict";this.$KeyedCallbackManager0={};this.$KeyedCallbackManager1=new g(this.$KeyedCallbackManager2.bind(this));}i.prototype.executeOrEnqueue=function(j,k){"use strict";if(!(j instanceof Array)){var l=j,m=k;j=[j];k=function(n){m(n[l]);};}j=j.filter(function(n){var o=(n!==null&&n!==(void 0));if(!o)h.applyWithGuard(function(){throw new Error('KeyedCallbackManager.executeOrEnqueue: key '+JSON.stringify(n)+' is invalid');});return o;});return this.$KeyedCallbackManager1.executeOrEnqueue(j,k);};i.prototype.unsubscribe=function(j){"use strict";this.$KeyedCallbackManager1.unsubscribe(j);};i.prototype.reset=function(){"use strict";this.$KeyedCallbackManager1.reset();this.$KeyedCallbackManager0={};};i.prototype.getUnavailableResources=function(j){"use strict";var k=this.$KeyedCallbackManager1.getRequest(j),l=[];if(k)l=k.request.filter(function(m){return !this.$KeyedCallbackManager0[m];}.bind(this));return l;};i.prototype.getUnavailableResourcesFromRequest=function(j){"use strict";var k=Array.isArray(j)?j:[j];return k.filter(function(l){if(l!==null&&l!==(void 0))return !this.$KeyedCallbackManager0[l];},this);};i.prototype.addResourcesAndExecute=function(j){"use strict";Object.assign(this.$KeyedCallbackManager0,j);this.$KeyedCallbackManager1.runPossibleCallbacks();};i.prototype.setResource=function(j,k){"use strict";this.$KeyedCallbackManager0[j]=k;this.$KeyedCallbackManager1.runPossibleCallbacks();};i.prototype.getResource=function(j){"use strict";return this.$KeyedCallbackManager0[j];};i.prototype.getAllResources=function(){"use strict";return this.$KeyedCallbackManager0;};i.prototype.dumpResources=function(){"use strict";var j={};for(var k in this.$KeyedCallbackManager0){var l=this.$KeyedCallbackManager0[k];if(typeof l==='object')l=Object.assign({},l);j[k]=l;}return j;};i.prototype.$KeyedCallbackManager2=function(j){"use strict";var k={};for(var l=0;l<j.length;l++){var m=j[l],n=this.$KeyedCallbackManager0[m];if(typeof n=='undefined')return false;k[m]=n;}return [k];};e.exports=i;},null);
__d("BaseAsyncLoader",["KeyedCallbackManager"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={};function i(k,l,m){var n=new g(),o=false,p=[];function q(){if(!p.length||o)return;o=true;setTimeout(s,0);}function r(v){o=false;v.forEach(n.unsubscribe.bind(n));q();}function s(){var v={},w=[];p=p.filter(function(y){var z=n.getUnavailableResources(y);if(z.length){z.forEach(function(aa){v[aa]=true;});w.push(y);return true;}return false;});var x=Object.keys(v);if(x.length){m(k,x,w,t.bind(null,w),u.bind(null,w));}else o=false;}function t(v,w){var x=w.payload[l]||w.payload;n.addResourcesAndExecute(x);r(v);}function u(v){r(v);}return {get:function(v,w){var x=n.executeOrEnqueue(v,w),y=n.getUnavailableResources(x);if(y.length){p.push(x);q();}},getCachedKeys:function(){return Object.keys(n.getAllResources());},getNow:function(v){return n.getResource(v)||null;},set:function(v){n.addResourcesAndExecute(v);}};}function j(k,l){throw ('BaseAsyncLoader can\'t be instantiated');}Object.assign(j.prototype,{_getLoader:function(){if(!h[this._endpoint])h[this._endpoint]=i(this._endpoint,this._type,this.send);return h[this._endpoint];},get:function(k,l){return this._getLoader().get(k,l);},getCachedKeys:function(){return this._getLoader().getCachedKeys();},getNow:function(k){return this._getLoader().getNow(k);},reset:function(){h[this._endpoint]=null;},set:function(k){this._getLoader().set(k);}});e.exports=j;},null);
__d("LogHistory",["CircularBuffer","createArrayFromMixed"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=500,j={},k=new g(i);function l(t,u,v){var event=v.shift();k.write({date:Date.now(),level:t,category:u,event:event,args:v});}function m(t){"use strict";this.category=t;}m.prototype.debug=function(event){"use strict";l('debug',this.category,h(arguments));return this;};m.prototype.log=function(event){"use strict";l('log',this.category,h(arguments));return this;};m.prototype.warn=function(event){"use strict";l('warn',this.category,h(arguments));return this;};m.prototype.error=function(event){"use strict";l('error',this.category,h(arguments));return this;};function n(t){if(!j[t])j[t]=new m(t);return j[t];}function o(){return k.read();}function p(){k.clear();}function q(t){}function r(t){return t.map(function(u){var v=/\d\d:\d\d:\d\d/.exec(new Date(u.date));return [v&&v[0],u.level,u.category,u.event,JSON.stringify(u.args)].join(' | ');}).join('\n');}var s={MAX:i,getInstance:n,getEntries:o,clearEntries:p,toConsole:q,formatEntries:r};e.exports=s;},null);
__d("AjaxLoader",["AsyncRequest","BaseAsyncLoader","LogHistory"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i.getInstance('ajax_loader');function k(l,m){this._endpoint=l;this._type=m;}Object.assign(k.prototype,h.prototype);k.prototype.send=function(l,m,n,o,p){new g().setURI(l).setData({ids:m}).setMethod('POST').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(q){j.debug('fetch_success',{payload:q.payload});o(q);}).setErrorHandler(function(q){p();j.error('fetch_error',{error_type:q.errorSummary,error_text:q.errorDescription});}).send();j.debug('fetch_start',{ids:m,endpoint:l});};e.exports=k;},null);
__d("Keys",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105};},null);
__d("AjaxRequest",["ErrorUtils","Keys","URI","UserAgent_DEPRECATED","getSameOriginTransport","setTimeoutAcrossTransitions","PHPQuerySerializer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();function n(r,s,t){this.xhr=k();if(!(s instanceof i))s=new i(s);if(t&&r=='GET'){s.setQueryData(t);}else this._params=t;this.method=r;this.uri=s;this.xhr.open(r,s);}var o=window.XMLHttpRequest&&('withCredentials' in new XMLHttpRequest());n.supportsCORS=function(){return o;};n.ERROR='ar:error';n.TIMEOUT='ar:timeout';n.PROXY_ERROR='ar:proxy error';n.TRANSPORT_ERROR='ar:transport error';n.SERVER_ERROR='ar:http error';n.PARSE_ERROR='ar:parse error';n.SERVICE_UNAVAILABLE='ar:noservice';n._inflight=[];function p(){var r=n._inflight;n._inflight=[];r.forEach(function(s){s.abort();});}function q(r){r.onJSON=r.onError=r.onSuccess=null;clearTimeout(r._timer);if(r.xhr&&r.xhr.readyState<4){r.xhr.abort();r.xhr=null;}n._inflight=n._inflight.filter(function(s){return s&&s!=r&&s.xhr&&s.xhr.readyState<4;});}Object.assign(n.prototype,{timeout:60000,streamMode:true,prelude:/^for \(;;\);/,status:null,_eol:-1,_call:function(r){if(this[r])this[r](this);},_parseStatus:function(){var r;try{this.status=this.xhr.status;r=this.xhr.statusText;}catch(s){if(this.xhr.readyState>=4){this.errorType=n.TRANSPORT_ERROR;this.errorText=s.message;}return;}if(this.status===0&&!(/^(file|ftp)/.test(this.uri))){this.errorType=n.TRANSPORT_ERROR;}else if(this.status>=100&&this.status<200){this.errorType=n.PROXY_ERROR;}else if(this.status>=200&&this.status<300){return;}else if(this.status>=300&&this.status<400){this.errorType=n.PROXY_ERROR;}else if(this.status>=400&&this.status<500){this.errorType=n.SERVER_ERROR;}else if(this.status===503){this.errorType=n.SERVICE_UNAVAILABLE;}else if(this.status>500&&this.status<600){this.errorType=n.PROXY_ERROR;}else if(this.status==1223){return;}else if(this.status>=12001&&this.status<=12156){this.errorType=n.TRANSPORT_ERROR;}else{r='unrecognized status code: '+this.status;this.errorType=n.ERROR;}if(!this.errorText)this.errorText=r;},_parseResponse:function(){var r,s=this.xhr.readyState;try{r=this.xhr.responseText||'';}catch(t){if(s>=4){this.errorType=n.ERROR;this.errorText='responseText not available - '+t.message;}return;}while(this.xhr){var u=this._eol+1,v=this.streamMode?r.indexOf('\n',u):r.length;if(v<0&&s==4)v=r.length;if(v<=this._eol)break;var w=r;if(this.streamMode)w=r.substr(u,v-u).replace(/^\s*|\s*$/g,'');if(u===0&&this.prelude)if(this.prelude.test(w))w=w.replace(this.prelude,'');this._eol=v;if(w){try{this.json=JSON.parse(w);}catch(t){var x=(/(<body[\S\s]+?<\/body>)/i).test(r)&&RegExp.$1,y={message:t.message,'char':u,excerpt:((u===0&&x)||w).substr(512)};this.errorType=n.PARSE_ERROR;this.errorText='parse error - '+JSON.stringify(y);return;}g.applyWithGuard(this._call,this,['onJSON']);}}},_onReadyState:function(){var r=this.xhr&&this.xhr.readyState||0;if(this.status==null&&r>=2)this._parseStatus();if(!this.errorType&&this.status!=null)if((r==3&&this.streamMode)||r==4)this._parseResponse();if(this.errorType||r==4){this._time=Date.now()-this._sentAt;this._call(!this.errorType?'onSuccess':'onError');q(this);}},send:function(r){this.xhr.onreadystatechange=function(){g.applyWithGuard(this._onReadyState,this,arguments);}.bind(this);var s=this.timeout;if(s)this._timer=l((function(){this.errorType=n.TIMEOUT;this.errorText='timeout';this._time=Date.now()-this._sentAt;this._call('onError');q(this);}).bind(this),s);n._inflight.push(this);if(this.method=='POST')this.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');this._sentAt=Date.now();this.xhr.send(r?m.serialize(r):'');},abort:function(){q(this);},toString:function(){var r='[AjaxRequest readyState='+this.xhr.readyState;if(this.errorType)r+=' errorType='+this.errorType+' ('+this.errorText+')';return r+']';},toJSON:function(){var r={json:this.json,status:this.status,errorType:this.errorType,errorText:this.errorText,time:this._time};if(this.errorType)r.uri=this.uri;for(var s in r)if(r[s]==null)delete r[s];return r;}});if(window.addEventListener&&j.firefox())window.addEventListener('keydown',function(event){if(event.keyCode===h.ESC)event.prevent();},false);if(window.attachEvent)window.attachEvent('onunload',p);e.exports=n;},null);
__d("ChannelSubdomain",["Event","JSLogger","Run","setTimeoutAcrossTransitions","LogHistory","WebStorage"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=b('LogHistory').getInstance('channel'),l=b('WebStorage').getLocalStorage(),m=h.create('channel'),n='channel_sub:',o=7,p=100*1000,q=null,r;function s(){if(r){clearTimeout(r);r=null;}if(l&&q!=null)l.removeItem(n+q);q=null;}function t(u,v,w){var x=(u-1)*o;if(w){if(r)clearTimeout(r);q=r=null;}if(v==null)v=Math.floor(Math.random()*x);if(q==null)if(l){var y=[];for(var z=0;z<l.length;z++){var aa=l.key(z);if(aa.indexOf(n)===0){var ba=parseInt(aa.substr(n.length),10);y[ba]=parseInt(l.getItem(aa),10);}}var ca=Date.now()-p;for(z=0;z<x;z++){var da=(z+v)%x;if(!y[da]||y[da]<ca){q=da;break;}}if(q!=null){var ea=function(){try{l.setItem(n+q,Date.now());}catch(fa){k.warn('subdomain set failed',fa.message);}r=j(ea,p/2);};ea();}else{k.warn('no channel subdomain',y);m.error('subdomain_overflow');}if(typeof window.onpageshow!='undefined'){g.listen(window,'pagehide',s);}else i.onUnload(s);}else q=v;return q==null?null:q%o;}e.exports={allocate:t,clear:s};},null);
__d("DocRPC",["ErrorUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={_apis:{},_dispatch:function(i){var j;try{i=JSON.parse(i);}catch(k){throw new Error('DocRPC unparsable dispatch: "'+i+'"');}if(h._apis.hasOwnProperty(i.api)){var l=h._apis[i.api];if(l[i.method])j=g.applyWithGuard(l[i.method],l,i.args);}if(j===(void 0))j=null;return JSON.stringify(j);},publish:function(i,j){h._apis[j]=i;},proxy:function(i,j,k){var l={};k.forEach(function(m){l[m]=function(){var n={api:j,method:m,args:Array.prototype.slice.call(arguments)},o;try{if(i.closed)throw new Error('DocRPC window closed');o=i.DocRPC._dispatch(JSON.stringify(n));}catch(p){g.reportError(p);return;}if(typeof(o)=='string')try{o=JSON.parse(o);}catch(p){throw new Error('DocRPC '+j+'.'+m+' unparsable return: "'+o+'"');}return o;};});return l;}};e.exports=a.DocRPC=h;},null);
__d("ChannelTransport",["AjaxRequest","ChannelConstants","DocRPC","LogHistory","URI","bind","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=j.getInstance('channel');function o(){return (1048576*Math.random()|0).toString(36);}function p(y,z){var aa=y.subdomain;aa=aa===null?'':(aa+'-');var ba=new k(z).setDomain(aa+y.host+'.'+y.domain).setPort(y.port).setSecure(new k(window.location.href).isSecure());return ba;}function q(y){var z={partition:y.partition,cb:o()};if(y.sticky_token)z.sticky_token=y.sticky_token;var aa=p(y,'/p').setQueryData(z);n.log('start_p',{uri:aa.toString()});var ba=new g('GET',aa);if(g.supportsCORS())ba.xhr.withCredentials=true;var ca=function(da){n.log('finish_p',{xhr:da.toJSON?da.toJSON():da});};ba.timeout=y.P_TIMEOUT;ba.onError=ba.onSuccess=ca;ba.send();}function r(y,z,aa){var ba=new Image(),ca=0,da=function(ga){ba.abort();return ga?z():aa();};ba.onload=function(){n.log('ping_ok',{duration:Date.now()-ca});da(true);};ba.onerror=function(){q(y);da(false);};var ea=m(ba.onerror,10000);ba.abort=function(){if(ea){clearTimeout(ea);ea=null;}ba.onload=ba.onerror=null;};var fa={partition:y.partition,cb:o()};if(y.sticky_token)fa.sticky_token=y.sticky_token;if(y.sticky_pool)fa.sticky_pool=y.sticky_pool;if(y.lastRequestErrorReason){fa.reason=y.lastRequestErrorReason;y.lastRequestErrorReason=null;}if(y.uid&&y.viewerUid){fa.uid=y.uid;fa.viewer_uid=y.viewerUid;}if(y.watchdog&&y.watchdog.enabled)fa.wtc=y.watchdog.doSerialize();ca=Date.now();ba.src=p(y,'/ping').setQueryData(fa);return ba;}function s(y){var z={channel:y.user_channel,partition:y.partition,clientid:y.sessionID,cb:o(),cap:0,uid:y.uid,viewer_uid:y.viewerUid};if(y.sticky_token)z.sticky_token=y.sticky_token;if(y.sticky_pool)z.sticky_pool=y.sticky_pool;if(y.is_offline||y.shouldSuppressPresence){z.state='offline';}else z.state='active';if(z.state===y.lastPresenceState)return;y.lastPresenceState=z.state;if(y.profile)z.profile=y.profile;if(y.capabilities)z.cap=y.capabilities;var aa=p(y,'/active_ping').setQueryData(z),ba=new g('GET',aa);if(g.supportsCORS())ba.xhr.withCredentials=true;ba.onError=function(ca){n.warn('active_ping_error');};ba.onSuccess=function(ca){n.log('active_ping_ok');};ba.timeout=y.P_TIMEOUT;ba.send();}function t(y,z,aa,ba){var ca=new Date(),da=-1;if(y.userActive>0){da=(ca-y.userActive)/1000|0;if(da<0)n.warn('idle_regression',{idleTime:da,now:ca.getTime(),userActive:y.userActive});}var ea={channel:y.user_channel,seq:y.seq,partition:y.partition,clientid:y.sessionID,cb:o(),idle:da,cap:0};if(!!y.watchdog&&y.watchdog.enabled)ea.wtc=y.watchdog.doSerialize();ea.msgs_recv=y.estimatedReceived;if(y.uid&&y.viewerUid){ea.uid=y.uid;ea.viewer_uid=y.viewerUid;}if(y.stableDeviceId)ea.sdi=1;if(y.sticky_token){ea.sticky_token=y.sticky_token;}else if(y.msgr_region)ea.msgr_region=y.msgr_region;if(y.sticky_pool)ea.sticky_pool=y.sticky_pool;if('trace_id' in y)ea.traceid=y.trace_id;if(y.is_offline||y.shouldSuppressPresence){ea.state='offline';}else if(y.userActive>0&&da<60)ea.state='active';y.lastPresenceState=ea.state;if(y.streamingCapable){ea.mode='stream';ea.format='json';}if(y.profile)ea.profile=y.profile;if(y.capabilities)ea.cap=y.capabilities;var fa=p(y,'/pull').setQueryData(ea),ga=y.fantail_enabled?'POST':'GET',ha=new g(ga,fa);if(g.supportsCORS())ha.xhr.withCredentials=true;ha.timeout=y.streamingCapable?y.STREAMING_TIMEOUT:y.LONGPOLL_TIMEOUT;ha.onJSON=z;ha.onSuccess=aa;ha.onError=function(){var ka=(this.status==12002&&this._time>=y.MIN_12002_TIMEOUT)||(this.status==504&&this._time>=y.MIN_504_TIMEOUT),la=ka?aa:ba;return la&&la.apply(this,arguments);};if(y.fantail_logs&&y.fantail_logs.length>0){var ia={};for(var ja=0;ja<y.fantail_logs.length;ja++)Object.assign(ia,y.fantail_logs[ja]);ha.send(ia);y.fantail_logs=[];}else ha.send();y.inStreaming=y.streamingCapable;return ha;}function u(y){this.manager=y;(this.init&&this.init());}function v(y){u.apply(this,arguments);}Object.assign(v.prototype,{logName:'CORS',enterState:function(y,z){if(this._request){this._request.abort();this._request=null;}if(y=='init')m(l(this.manager,'exitState',{status:h.OK,stateId:z.stateId}),3000);if(!/pull|ping/.test(y))return;var aa=this.manager;if(y=='ping'){this._request=r(z,l(aa,'exitState',{status:h.OK,stateId:z.stateId}),l(aa,'exitState',{status:h.ERROR,stateId:z.stateId}));}else if(y=='pull')this._request=t(z,l(aa,'_processTransportData',z.stateId),l(aa,'exitState',{status:h.OK,stateId:z.stateId}),l(aa,'exitState',{status:h.ERROR,stateId:z.stateId}));}});function w(y){n.log('iframe_init_constructor');u.apply(this,arguments);this._iframe=document.createElement('iframe');this._iframe.style.display='none';document.body.appendChild(this._iframe);i.publish(this,'outerTransport');}Object.assign(w.prototype,{logName:'iframe',_initIframe:function(y){n.log('iframe_init_start');window.onchanneliframeready=function(){n.log('iframe_resources');return y.resources;};window.onchanneliframeloaded=function(){n.log('iframe_loaded');};if(y){this._iframeURI=p(y,y.path);if(y.resources){var z=this._iframeURI.getDomain();y.resources=y.resources.map(function(ca){var da=new k(ca);if(da.getPath().startsWith('/intern/rsrc.php')&&da.getQueryData().origin!==(void 0))return da.addQueryData('origin',z).toString();return ca;});}if(y.bustIframe){var aa={partition:y.partition,cb:o()};this._iframeURI.setQueryData(aa);}}else this._iframeURI='about:blank';this._iframeProxy=null;try{this._iframe.contentWindow.location.replace(this._iframeURI);n.log('iframe_uri_set');}catch(ba){n.error('iframe_uri_set_error',ba);this.exitState({status:h.ERROR,stateId:y.stateId},ba+'');}},enterState:function(y,z){if(y=='init'){this._initIframe(z);}else if(/idle|ping|pull/.test(y)){if(this._iframeProxy){this._iframeProxy.enterState.apply(this._iframeProxy,arguments);}else if(y!='idle')this.exitState({status:h.ERROR,stateId:z.stateId},'iframe not yet loaded');}else if(y=='shutdown')this._initIframe();},_processTransportData:function(){this.manager._processTransportData.apply(this.manager,arguments);},exitState:function(y){if(this.manager.state=='init'&&y.status==h.OK)this._iframeProxy=i.proxy(this._iframe.contentWindow,'innerTransport',['enterState'],(this._iframeURI+'').replace(/iframe.*/,''));if(/ping|pull/.test(this.manager.state)&&!this._iframeProxy)return;this.manager.exitState.apply(this.manager,arguments);}});function x(){this.init=this.init.bind(this);u.apply(this,arguments);}Object.assign(x.prototype,{logName:'iframe(inner)',init:function(){i.publish(this,'innerTransport');try{var z=i.proxy(window.parent,'outerTransport',['_processTransportData','exitState'],top.DocRPC.origin);Object.assign(this,z);this.exitState({status:h.OK,stateId:1e+06});}catch(y){n.error('iframe_inner_init_error',y);}},enterState:function(y,z){if(this._request){this._request.abort();this._request=null;}if(y=='ping'){this._request=r(z,l(this,'exitState',{status:h.OK,stateId:z.stateId}),l(this,'exitState',{status:h.ERROR,stateId:z.stateId}));}else if(y=='pull')this._request=t(z,l(this,'_processTransportData',z.stateId),l(this,'exitState',{status:h.OK,stateId:z.stateId}),l(this,'exitState',{status:h.ERROR,stateId:z.stateId}));}});e.exports={getURI:p,Transport:u,CORSTransport:v,IframeTransport:w,IframeInnerTransport:x,sendActivePing:s};},null);
__d("randomInt",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){var k=arguments.length;g(k>0&&k<=2);if(k===1){j=i;i=0;}g(j>i);var l=this.random||Math.random;return Math.floor(i+l()*(j-i));}e.exports=h;},null);
__d("PresenceUtil",["CurrentUser","randomInt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h(0,4294967295)+1;function j(){return i;}function k(){return g.isLoggedInNow();}e.exports={getSessionID:j,hasUserCookie:k};},null);
__d("PresencePrivacy",["Arbiter","AsyncRequest","ChannelConstants","CurrentUser","PresencePrivacyInitialData","JSLogger","PresenceUtil"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n='/ajax/chat/privacy/settings.php',o='/ajax/chat/privacy/online_policy.php',p='/ajax/chat/privacy/visibility.php',q='friend_visibility',r='visibility',s='online_policy',t=Object.assign({},k.privacyData),u=k.visibility,v=Object.assign({},k.privacyData),w=u,x=k.onlinePolicy,y=x,z=[],aa=false;function ba(){return l.create('blackbird');}var ca=Object.assign(new g(),{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1});function da(pa){var qa;for(qa in pa){var ra=pa[qa];if(qa==j.getID()){ba().error('set_viewer_visibility');throw new Error("Invalid to set current user's visibility");}switch(ra){case ca.WHITELISTED:case ca.BLACKLISTED:case ca.UNLISTED:break;default:ba().error('set_invalid_friend_visibility',{id:qa,value:ra});throw new Error("Invalid state: "+ra);}}for(qa in pa)t[qa]=pa[qa];ca.inform('privacy-changed');}function ea(pa,qa){var ra={};ra[pa]=qa;da(ra);}function fa(pa){switch(pa){case ca.ONLINE:case ca.OFFLINE:break;default:ba().error('set_invalid_visibility',{value:pa});throw new Error("Invalid visibility: "+pa);}u=pa;ca.inform('privacy-changed');ca.inform('privacy-user-presence-changed');g.inform('chat/visibility-changed',{sender:this});}function ga(pa){switch(pa){case ca.ONLINE_TO_WHITELIST:case ca.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+pa);}x=pa;ca.inform('privacy-user-presence-changed');ca.inform('privacy-changed');}function ha(pa,qa){aa=true;pa.send();}function ia(pa,qa){z.push({request:pa,data:qa});if(!aa){var ra=z.shift();ha(ra.request,ra.data);}}function ja(pa,qa){var ra=pa.type;if(ra===q){var sa=qa.payload.user_availabilities;if(!Array.isArray(sa)){ca.inform('privacy-availability-changed',{user_availabilities:sa});for(var ta in pa.settings)v[ta]=pa.settings[ta];}}else{if(ra===r){w=pa.visibility;}else if(ra===s)y=pa.online_policy;ca.inform('privacy-user-presence-response');}ba().log('set_update_response',{data:pa,response:qa});}function ka(pa,qa){if(u!==w)fa(w);if(x!==y)ga(y);Object.assign(t,v);ca.inform('privacy-changed');z=[];ba().log('set_error_response',{data:pa,response:qa});}function la(pa){aa=false;if(z.length>0){var qa=z.shift();ha(qa.request,qa.data);}}function ma(pa,qa){if(m!=null){var ra=pa.getData();ra.window_id=m.getSessionID();pa.setData(ra);}pa.setHandler(ja.bind(this,qa)).setErrorHandler(ka.bind(this,qa)).setTransportErrorHandler(ka.bind(this,qa)).setFinallyHandler(la.bind(this)).setAllowCrossPageTransition(true);return pa;}function na(pa,qa,ra){return ma(new h(pa).setData(qa),ra);}function oa(pa,qa){var ra=qa.obj;if(ra.viewer_id!=j.getID()){ba().error('invalid_viewer_for_channel_message',{type:pa,data:qa});throw new Error("Viewer got from the channel is not the real viewer");}if(ra.window_id===m.getSessionID())return;var sa=ra.data;if(ra.event=='access_control_entry'){sa.target_ids.forEach(function(ua){ea(ua,sa.setting);v[ua]=sa.setting;});}else{if(ra.event=='visibility_update'){var ta=!!sa.visibility?ca.ONLINE:ca.OFFLINE;fa(ta);w=ta;}else if(ra.event=='online_policy_update'){ga(sa.online_policy);y=sa.online_policy;}ca.inform('privacy-user-presence-response');}ba().log('channel_message_received',{data:qa.obj});}Object.assign(ca,{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1,init:function(pa,qa,ra){},setVisibility:function(pa){w=u;fa(pa);var qa={visibility:pa},ra={type:r,visibility:pa},sa=na(p,qa,ra);ia(sa,ra);ba().log('set_visibility',{data:qa});return pa;},getVisibility:function(){return u;},setOnlinePolicy:function(pa){y=x;ga(pa);var qa={online_policy:pa},ra={type:s,online_policy:pa},sa=na(o,qa,ra);ia(sa,ra);ba().log('set_online_policy',{data:qa});return pa;},getOnlinePolicy:function(){return x;},getFriendVisibility:function(pa){return t[pa]||ca.UNLISTED;},isUserOffline:function(){return this.getVisibility()===ca.OFFLINE;},allows:function(pa){if(this.isUserOffline())return false;var qa=this.getOnlinePolicy();return qa===ca.ONLINE_TO_WHITELIST?t[pa]==ca.WHITELISTED:t[pa]!=ca.BLACKLISTED;},setFriendsVisibility:function(pa,qa){if(pa.length>0){var ra={};for(var sa=0;sa<pa.length;sa++){var ta=pa[sa];v[ta]=t[ta];ra[ta]=qa;}da(ra);var ua=qa;if(ua==ca.UNLISTED)ua=v[pa[0]];var va={users:pa,setting:qa,setting_type:ua},wa={type:q,settings:ra},xa=na(n,va,wa);ia(xa,wa);ba().log('set_friend_visibility',{data:va});}return qa;},setFriendVisibilityMap:function(pa,qa){for(var ra in pa)v[ra]=t[ra];da(pa);var sa={type:q,settings:pa};ia(ma(qa,sa),sa);ba().log('set_friend_visibility_from_map',{data:pa});},allow:function(pa){if(this.allows(pa)){ba().error('allow_already_allowed');throw new Error("allow() should only be called for users that "+"are not already allowed");}if(this.getVisibility()===ca.OFFLINE){ba().error('allow_called_while_offline');throw new Error("allow() should only be called when the user is already online");}var qa=this.getOnlinePolicy()===ca.ONLINE_TO_WHITELIST?ca.WHITELISTED:ca.UNLISTED;return this.setFriendsVisibility([pa],qa);},disallow:function(pa){if(!this.allows(pa)){ba().error('disallow_already_disallowed');throw new Error("disallow() should only be called for users that "+"are not already disallowed");}if(this.getVisibility()===ca.OFFLINE){ba().error('disallow_called_while_offline');throw new Error("disallow() should only be called when the user is already online");}var qa=this.getOnlinePolicy()===ca.ONLINE_TO_BLACKLIST?ca.BLACKLISTED:ca.UNLISTED;return this.setFriendsVisibility([pa],qa);},getBlacklist:function(){var pa=[];for(var qa in t)if(t[qa]===ca.BLACKLISTED)pa.push(qa);return pa;},getWhitelist:function(){var pa=[];for(var qa in t)if(t[qa]===ca.WHITELISTED)pa.push(qa);return pa;},getMapForTest:function(){return t;},setMapForTest:function(pa){t=pa;}});ca.inform('privacy-changed');ca.inform('privacy-user-presence-changed',g.BEHAVIOR_STATE);ba().log('initialized',{visibility:u,policy:x});g.subscribe(l.DUMP_EVENT,function(pa,qa){qa.presence_privacy={initial:k.privacyData,current:t};});g.subscribe(i.getArbiterType('privacy_changed'),oa.bind(this));g.subscribe(i.ON_CONFIG,function(pa,qa){var ra=qa.getConfig('visibility',null);if(ra!==null&&typeof(ra)!=='undefined'){var sa=ra?ca.ONLINE:ca.OFFLINE;fa(sa);ba().log('config_visibility',{vis:sa});}}.bind(this));a.PresencePrivacy=e.exports=ca;},3);
__d("ChatVisibility",["Arbiter","JSLogger","PresencePrivacy"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={isOnline:function(){return i.getVisibility()===i.ONLINE;},hasBlackbirdEnabled:function(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends();},isVisibleToMostFriends:function(){return i.getOnlinePolicy()===i.ONLINE_TO_BLACKLIST&&i.getBlacklist().length>0;},isVisibleToSomeFriends:function(){return i.getOnlinePolicy()===i.ONLINE_TO_WHITELIST&&i.getWhitelist().length>0;},goOnline:function(k){if(i.getVisibility()===i.OFFLINE){h.create('blackbird').log('chat_go_online');i.setVisibility(i.ONLINE);g.inform('chat-visibility/go-online');}k&&k();},goOffline:function(k){if(i.getVisibility()===i.ONLINE){h.create('blackbird').log('chat_go_offline');i.setVisibility(i.OFFLINE);g.inform('chat-visibility/go-offline');}k&&k();},toggleVisibility:function(){if(j.isOnline()){j.goOffline();}else j.goOnline();}};e.exports=j;},null);
__d("FBAjaxRequest",["AjaxRequest","getAsyncParams"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k,l){l=Object.assign({},h(j),l);var m=new g(j,k,l);m.streamMode=false;var n=m._call;m._call=function(o){if(o=='onJSON'&&this.json){if(this.json.error){this.errorType=g.SERVER_ERROR;this.errorText='AsyncResponse error: '+this.json.error;}this.json=this.json.payload;}n.apply(this,arguments);};m.ajaxReqSend=m.send;m.send=function(o){this.ajaxReqSend(Object.assign({},o,l));};return m;}e.exports=i;},null);
__d("MovingStat",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){h=h||60000;var i={t:new Date(),count:0,v:0},j=i,k=0,l=0;function m(){var n=new Date()-h;while(j&&j.next&&j.t<n){k-=j.v;l-=j.count;j=j.next;}}this.add=function(n){k+=n;l++;var o=new Date();if(o-i.t<1000){i.v+=n;i.count++;}else{i.next={t:o,v:n,count:1};i=i.next;m();}};this.tally=function(n){n=n||1000;m();return {sum:k,count:l,timeAverage:k*n/h};};}e.exports=g;},null);
__d("Dcode",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g,h={},i={_:'%',A:'%2',B:'000',C:'%7d',D:'%7b%22',E:'%2c%22',F:'%22%3a',G:'%2c%22ut%22%3a1',H:'%2c%22bls%22%3a',I:'%2c%22n%22%3a%22%',J:'%22%3a%7b%22i%22%3a0%7d',K:'%2c%22pt%22%3a0%2c%22vis%22%3a',L:'%2c%22ch%22%3a%7b%22h%22%3a%22',M:'%7b%22v%22%3a2%2c%22time%22%3a1',N:'.channel%22%2c%22sub%22%3a%5b',O:'%2c%22sb%22%3a1%2c%22t%22%3a%5b',P:'%2c%22ud%22%3a100%2c%22lc%22%3a0',Q:'%5d%2c%22f%22%3anull%2c%22uct%22%3a',R:'.channel%22%2c%22sub%22%3a%5b1%5d',S:'%22%2c%22m%22%3a0%7d%2c%7b%22i%22%3a',T:'%2c%22blc%22%3a1%2c%22snd%22%3a1%2c%22ct%22%3a',U:'%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a',V:'%2c%22blc%22%3a0%2c%22snd%22%3a0%2c%22ct%22%3a',W:'%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a',X:'%2c%22ri%22%3a0%7d%2c%22state%22%3a%7b%22p%22%3a0%2c%22ut%22%3a1',Y:'%2c%22pt%22%3a0%2c%22vis%22%3a1%2c%22bls%22%3a0%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a',Z:'%2c%22sb%22%3a1%2c%22t%22%3a%5b%5d%2c%22f%22%3anull%2c%22uct%22%3a0%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a'};(function(){var k=[];for(var l in i){h[i[l]]=l;k.push(i[l]);}k.reverse();g=new RegExp(k.join("|"),'g');})();var j={encode:function(k){return encodeURIComponent(k).replace(/([_A-Z])|%../g,function(l,m){return m?'%'+m.charCodeAt(0).toString(16):l;}).toLowerCase().replace(g,function(l){return h[l];});},decode:function(k){return decodeURIComponent(k.replace(/[_A-Z]/g,function(l){return i[l];}));}};e.exports=j;},null);
__d("PresenceCookieManager",["Cookie","CurrentUser","Dcode","ErrorUtils","JSLogger","PresenceInitialData","PresenceUtil","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=l.cookieVersion,p=l.dictEncode,q='presence',r={},s=null,t=null,u=k.create('presence_cookie');function v(){try{var z=g.get(q);if(s!==z){s=z;t=null;if(z&&z.charAt(0)=='E')z=i.decode(z.substring(1));if(z)t=JSON.parse(z);}if(t&&(!t.user||t.user===h.getID()))return t;}catch(y){u.warn('getcookie_error',y);}return null;}function w(){return parseInt(Date.now()/1000,10);}var x={register:function(y,z){r[y]=z;},store:function(){var y=v();if(y&&y.v&&o<y.v){u.debug('stale_cookie',o);return;}var z={v:o,time:w(),user:h.getID()};for(var aa in r)z[aa]=j.applyWithGuard(r[aa],r,[y&&y[aa]],function(ea){ea.presence_subcookie=aa;});var ba=JSON.stringify(z);if(p)ba='E'+i.encode(ba);if(m.hasUserCookie()){var ca=ba.length;if(ca>1024)u.warn('big_cookie',ca);var da=n.getRequestURI(false).isSecure()&&!!g.get('csm');g.set(q,ba,null,null,da);}},clear:function(){g.clear(q);},getSubCookie:function(y){var z=v();if(!z)return null;return z[y];}};e.exports=x;},null);
__d("PresenceState",["Arbiter","ErrorUtils","JSLogger","PresenceCookieManager","debounceAcrossTransitions","setIntervalAcrossTransitions","PresenceInitialData"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=m.cookiePollInterval||2000,o=m.shouldSuppress||false,p=[],q=[],r=null,s=null,t=0,u=null,v=0,w=['sb2','t2','lm2','uct2','tr','tw','at','wml'],x=i.create('presence_state');function y(){return j.getSubCookie('state');}function z(){t=Date.now();j.store();da(s);}var aa=k(z,0);function ba(ia){if(typeof ia=='undefined'||isNaN(ia)||ia==Number.POSITIVE_INFINITY||ia==Number.NEGATIVE_INFINITY)ia=0;return ia;}function ca(ia){var ja={};if(ia){w.forEach(function(ma){ja[ma]=ia[ma];});if(t<ia.ut)x.error('new_cookie',{cookie_time:ia.ut,local_time:t});}ja.ut=t;for(var ka=0,la=p.length;ka<la;ka++)h.applyWithGuard(p[ka],null,[ja]);s=ja;return s;}function da(ia){v++;t=ba(ia.ut);if(!r)r=l(ga,n);s=ia;if(u===null)u=ia;for(var ja=0,ka=q.length;ja<ka;ja++)h.applyWithGuard(q[ja],null,[ia]);v--;}function ea(ia){if(ia&&ia.ut)if(t<ia.ut){return true;}else if(ia.ut<t)x.error('old_cookie',{cookie_time:ia.ut,local_time:t});return false;}function fa(){var ia=y();if(ea(ia))s=ia;return s;}function ga(){var ia=y();if(ea(ia))da(ia);}j.register('state',ca);g.subscribe(i.DUMP_EVENT,function(ia,ja){ja.presence_state={initial:Object.assign({},u),state:Object.assign({},s),update_time:t,sync_paused:v,poll_time:n};});(function(){var ia=fa();if(ia){da(ia);}else{x.debug('no_cookie_initial');da(ca());return;}})();var ha={doSync:function(ia){if(v)return;if(ia){z();}else aa();},registerStateStorer:function(ia){p.push(ia);},registerStateLoader:function(ia){q.push(ia);},get:function(){return fa();},getInitial:function(){return u;},shouldSuppress:function(){return o;},verifyNumber:ba};e.exports=ha;},null);
__d("RTISession",["URI","AjaxRequest","invariant","ErrorUtils"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k='.facebook.com';function l(m,n,o,p,q,r,s,t,u){i(m);i(p);i(q);this.domain=m;this.port=n;this.edgePoolName=o;this.stickyToken=p;this.loggedInId=q;this.accountId=r;this.clientProfile=s||'desktop';this.clientId=t;this.capabilities=u;}l.prototype.issueRequest=function(m,n,o,p,q){i(m);i(n);i(p);var r=this.domain.length-k.length,s=r>0&&this.domain.indexOf(k,r)!==-1,t=s?this.domain:this.domain+k,u=(1048576*Math.random()|0).toString(36),v={cb:u,sticky_token:this.stickyToken,uid:this.loggedInId,viewer_uid:this.accountId,sticky_pool:this.edgePoolName,profile:this.clientProfile,clientid:this.clientId,cap:this.capabilities};for(var w in v)i(!n[w]);Object.assign(v,n);var x=new g(m).setDomain(t).setPort(this.port).setSecure(new g(window.location.href).isSecure()).setQueryData(v),y=o?'POST':'GET',z=new h(y,x);z.timeout=q?q*1000:30000;if(z.xhr)z.xhr.withCredentials=true;var aa={};z.onSuccess=function(){};z.onJSON=(function(){aa.data=z.json;aa.error=null;j.applyWithGuard(p,this,[aa]);}).bind(this);z.onError=(function(){aa.data=null;aa.error=z.errorType||'error';j.applyWithGuard(p,this,[aa]);}).bind(this);z.send(JSON.stringify(o));};e.exports=l;},null);
__d("ChannelManager",["AjaxRequest","Arbiter","AsyncRequest","ChannelConstants","ChannelInitialData","ChannelSubdomain","ChannelTransport","ChatVisibility","DTSG","Env","FBAjaxRequest","ISB","JSLogger","MessagingRealtimeConstants","MovingStat","PresenceCookieManager","PresenceState","PresenceUtil","Run","SystemEvents","URI","UserActivity","VideoCallSupport","RTISession","createArrayFromMixed","errorCode","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","WebStorage"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){b.__markCompiled&&b.__markCompiled();var ia=b('WebStorage').getSessionStorage(),ja='chproxy_base_sess',ka,la=s.create('channel'),ma=null;function na(cb){ma=cb;}var oa={idle:{ok:'init!'},init:{ok:'pull!',error:'reconnect',sys_online:'init',sys_timetravel:'init'},pull:{ok:'pull!',error:'ping',error_missing:'pull',error_msg_type:'pull',refresh_0:'reconnect',refresh_110:'reconnect',refresh_111:'reconnect',refresh_112:'pull',refresh_113:'pull',refresh_117:'reconnect'},ping:{ok:'pull!',error:'ping',error_stale:'reconnect!'},reconnect:{ok:'init!',error:'reconnect',sys_online:'reconnect',sys_timetravel:'reconnect'},shutdown:{},_all:{error_max:'shutdown!',error_shutdown:'shutdown!',sys_owner:'reconnect',sys_nonowner:'idle!',sys_online:'ping',sys_offline:'idle!',sys_timetravel:'ping'}},pa={reconnectOverrideTimeMillis:Date.now(),userActive:Date.now(),lastPresenceState:null,lastRequestErrorReason:null,seq:0,estimatedReceived:0,fantail_logs:[],sessionID:(Math.random()*2147483648|0).toString(16),stableDeviceId:false,capabilities:ca.getCapabilities(),streamingCapable:false,inStreaming:false,shouldSuppressPresence:w.shouldSuppress(),LONGPOLL_TIMEOUT:60000,STREAMING_TIMEOUT:60000,P_TIMEOUT:30000,IFRAME_LOAD_TIMEOUT:30000,MIN_RETRY_INTERVAL:5000,MAX_RETRY_INTERVAL:320000,MIN_12002_TIMEOUT:9000,MIN_504_TIMEOUT:20000,STALL_THRESHOLD:180000,JUMPSTART_THRESHOLD:90000,MIN_INIT_PROBE_DELAY:3000,INIT_PROBE_DELAY_RANDOMIZE_RANGE:12000,CHANNEL_PROXY_REPORTING_MIN_INTERVAL:10000,PROBE_DELAY:60000,PROBE_HEARTBEATS_INTERVAL_LOW:1000,PROBE_HEARTBEATS_INTERVAL_HIGH:5000,STREAMING_EXIT_STATE_ON_CONTINUE:false,FANTAIL_QUEUE_CAPACITY:50},qa={MAX_CONTINUOUS_PULL_FAILS:3,enabled:false,uptimeMillis:Date.now(),timeInGoodStatesStartMillis:Date.now(),timeInGoodStatesMillis:0,initialized:false,firstPullSentTimeMillis:Date.now(),accumulatedPullTimeMillis:0,pullStartTimeMillis:0,pingCount:0,pullCount:0,continuousPullFails:0,getTimeSinceFirstPullSentSeconds:function(){return (Date.now()-this.firstPullSentTimeMillis)/1000;},getUptimeSeconds:function(){return (Date.now()-this.uptimeMillis)/1000;},getAccumulatedPullTimeSeconds:function(){var cb=this.accumulatedPullTimeMillis,db=Date.now();if(this.pullStartTimeMillis>0&&db-this.pullStartTimeMillis<=pa.LONGPOLL_TIMEOUT)cb+=(db-this.pullStartTimeMillis);var eb=cb/1000;if(eb>=this.getTimeSinceFirstPullSentSeconds())this.initialize();return eb;},getPingToPullRatio:function(){return this.pullCount===0?0:this.pingCount/this.pullCount;},reportPullSent:function(){if(!this.enabled)return;if(!this.initialized)this.initialize();this.pullStartTimeMillis=Date.now();},initialize:function(){this.initialized=true;this.firstPullSentTimeMillis=Date.now();this.pullStartTimeMillis=0;this.accumulatedPullTimeMillis=0;this.pingCount=0;this.pullCount=0;this.timeInGoodStatesStartMillis=Date.now();this.timeInGoodStatesMillis=0;this.uptimeMillis=Date.now();},reportPullReturned:function(cb,db){if(!this.enabled)return;if(this.pullStartTimeMillis>0){this.accumulatedPullTimeMillis+=(Date.now()-this.pullStartTimeMillis);if(cb){this.pullCount++;this.continuousPullFails=0;}else this.continuousPullFails++;}this.pullStartTimeMillis=0;},reportPingSent:function(){if(!this.enabled)return;this.pingCount++;},isGoodState:function(cb){return cb.indexOf('pull')===0||cb.indexOf('init')===0||cb.indexOf('idle')===0;},getTotalTimeInGoodStatesSeconds:function(){var cb=this.timeInGoodStatesMillis;if(this.timeInGoodStatesStartMillis>0)cb+=(Date.now()-this.timeInGoodStatesStartMillis);return cb/1000;},clientEnteredState:function(cb){if(!this.enabled)return;var db=this.isGoodState(cb);if(db&&this.timeInGoodStatesStartMillis===0){this.timeInGoodStatesStartMillis=Date.now();}else if(!db&&this.timeInGoodStatesStartMillis>0){this.timeInGoodStatesMillis=Date.now()-this.timeInGoodStatesStartMillis;this.timeInGoodStatesStartMillis=0;}},transportEnteredState:function(cb){if(!this.enabled)return;if(cb.indexOf('pull')===0){this.reportPullSent();}else if(cb.indexOf('ping')===0&&pa.lastRequestErrorReason!==j.SYS_TIMETRAVEL&&pa.lastRequestErrorReason!==j.SYS_ONLINE&&pa.lastRequestErrorReason!==j.SYS_OWNER&&pa.lastRequestErrorReason!==j.SYS_NONOWNER)this.reportPingSent();},doSerialize:function(){if(!this.enabled)return "";return (this.getTimeSinceFirstPullSentSeconds()).toFixed(0)+','+(this.getAccumulatedPullTimeSeconds()).toFixed(0)+','+(this.getPingToPullRatio()).toFixed(3)+','+(this.getUptimeSeconds()).toFixed(0)+','+(this.getTotalTimeInGoodStatesSeconds()).toFixed(0);}},ra=1,sa={},ta=0;function ua(){return i.lastSuccessTime?Math.round((Date.now()-i.lastSuccessTime)/1000):-1;}function va(){var cb={};if(ka.getConfig('host'))cb[ka.getConfig('user_channel')]=ka.getConfig('seq',0);return cb;}function wa(){var cb=Date.now(),db=Date.now(),eb={total:0},fb='idle',gb=false;z.subscribe([z.USER,z.ONLINE,z.TIME_TRAVEL],function(jb,kb){ya(true);db=null;ka.lastPullTime=Date.now();var lb;switch(jb){case z.USER:lb=z.isPageOwner()?j.SYS_OWNER:j.SYS_NONOWNER;break;case z.ONLINE:lb=kb?j.SYS_ONLINE:j.SYS_OFFLINE;break;case z.TIME_TRAVEL:lb=j.SYS_TIMETRAVEL;break;}ka.exitState({status:lb,stateId:ra});});var hb=function(jb,kb){var lb=Date.now(),mb;if(kb){cb=lb;mb=kb.nextState||kb.state;}else mb=fb;z.checkTimeTravel();if(db){var nb=Math.round((lb-db)/1000);if(nb>0){eb[fb]=(eb[fb]||0)+nb;eb.total+=nb;}}fb=mb;db=lb;if(!jb){eb.lastSuccessTime=ua();eb.online=z.isOnline();la.log('rollup',eb);}};h.subscribe(j.ON_ENTER_STATE,hb);ga(hb,60000);h.subscribe(s.DUMP_EVENT,function(jb,kb){kb.channelRollup=eb;});var ib=function(){if(ka.isShutdown()||ka.shouldIdle())return;z.checkTimeTravel();var jb=Date.now()-(ka.lastPullTime||p.start);if(!gb&&jb>pa.STALL_THRESHOLD){var kb=ua();la.error('stall',{lastSuccessTime:kb,rollupState:fb});gb=true;}var lb=Date.now()-cb;if(ka.state=='pull'&&lb>pa.JUMPSTART_THRESHOLD){cb=null;la.warn('jumpstart',{state:ka.state,dormant:lb});ka.enterState('init');}};ga(ib,10000);}function xa(){var cb=Date.now(),db=1;function eb(){ha(eb,db*1000);var jb=ka.state;if(jb=='idle'&&ka.shouldIdle())return;la.bump('conn_t',db);if(jb=='pull')la.bump('conn_t_pull',db);}eb();var fb=[15,30,60,120,240],gb=false,hb=false;function ib(jb){ha(function(){la.rate('pullenter_'+jb,gb);la.rate('pullexit_'+jb,hb);},jb*1000);}while(fb.length)ib(fb.shift());h.subscribe(j.ON_ENTER_STATE,function(jb,kb){if(kb.state=='pull')gb=true;cb=Date.now();});h.subscribe(j.ON_EXIT_STATE,function(jb,kb){if(kb.state!='pull'||!cb)return;var lb='other';if(kb.status==j.OK){hb=true;lb='ok';}else if(kb.xhr&&kb.xhr.errorType){lb=/ar:(\w+)/.test(kb.xhr.errorType)&&RegExp.$1;}else if(/^sys_/.test(kb.status))return;var mb=(Date.now()-cb)/1000;if(mb<0){return;}else if(mb>3600)mb=3600;la.bump('conn_num');la.bump('conn_exit',mb);la.bump('conn_num_'+lb);la.bump('conn_exit_'+lb,mb);});}function ya(cb){if(cb){ta=0;sa={};}else ta++;}function za(){if(!pa.stableDeviceId)return;var cb={};cb.sessionID=pa.sessionID;cb.seq=pa.seq;cb.estimatedReceived=pa.estimatedReceived;ia.setItem(ja,JSON.stringify(cb));}function ab(cb){if(!cb)return false;cb=cb.trim();if(cb.length===0)return false;try{var eb=JSON.parse(cb),fb=function(hb){if(typeof(eb[hb])=="number")return eb[hb];la.error("not an integer: "+hb+"="+eb[hb]);throw "NotAnInteger";};pa.seq=fb('seq');pa.estimatedReceived=fb('estimatedReceived');var gb=eb.sessionID;if(gb&&gb.length&&gb.trim()){pa.sessionID=gb;return true;}return false;}catch(db){la.error("unable to parse state: "+cb);return false;}}ka={state:'idle',nextState:null,proxyDown:false,lastPullTime:Date.now(),lastReportOnMisguidedMsgTime:Date.now(),heartbeats:[],setTestCallback:na,backoff:false,init:function(cb){this.init=function(){};this._logFantail('client initialized',j.FANTAIL_INFO);var db=!!pa.use_sticky_session,eb=false;pa.stableDeviceId=false;if(db&&ia){pa.stableDeviceId=true;var fb=true;for(var gb=0;gb<ia.length;gb++){var hb=ia.key(gb);if(hb.indexOf(ja)===0){eb=ab(ia.getItem(hb));fb=!eb;break;}}if(fb)za();}this._logFantail('using session id: '+pa.sessionID+(eb?' [restored]':' [new]'),j.FANTAIL_INFO);qa.enabled=!!pa.watchdog_enabled;pa.watchdog=qa;if(typeof(ba)!='undefined'){ba.subscribe(function(){pa.userActive=Date.now();m.sendActivePing(pa);}.bind(this));}else la.error('user_activity_undefined');v.register('ch',va);var ib=this.getConfig('max_conn',2);pa.subdomain=l.allocate(ib);this._transportRate=new u(30000);var jb=(g.supportsCORS()&&!pa.forceIframe)?'CORSTransport':'IframeTransport';this.transport=new m[jb](this);if(cb)this.enterState.apply(this,arguments);h.subscribe(s.DUMP_EVENT,function(event,lb){lb.transportRate=this._transportRate.tally();lb.transportType=jb;lb.transportVersion=2;}.bind(this));wa();xa();if(ka.getConfig('tryStreaming')&&ka.getConfig('host')&&g.supportsCORS()&&!pa.forceIframe){var kb=pa.MIN_INIT_PROBE_DELAY+Math.random()*pa.INIT_PROBE_DELAY_RANDOMIZE_RANGE;ha(this._probeTest,kb);}},configure:function(){var cb=ea(arguments);la.log('configure',cb);cb.forEach(function(db){return Object.assign(pa,db);});h.inform(j.ON_CONFIG,this);},getConfig:function(cb,db){return cb in pa?pa[cb]:db;},getCompleteConfig:function(){return pa;},getWatchdog:function(){return qa;},isShutdown:function(){return this.state=='shutdown';},shouldIdle:function(){return !(z.isPageOwner()&&z.isOnline());},_sendIframeError:function(cb){var db=new i().setURI('/ajax/presence/reconnect.php').setData({reason:cb,fb_dtsg:o.getToken()}).setOption('suppressErrorHandlerWarning',true).setOption('retries',1).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true);db.specifiesWriteRequiredParams()&&db.send();},_getDelay:function(){var cb=Math.min(pa.MIN_RETRY_INTERVAL*Math.pow(2,Math.max(0,ta-1)),pa.MAX_RETRY_INTERVAL);if(this.proxyDown&&'proxy_down_delay_millis' in pa)cb=pa.proxy_down_delay_millis;this.proxyDown=false;return Math.floor(cb*(1+Math.random()*.5));},enterState:function(){if(this._inEnterState)la.warn('enterstate_recursion');this._inEnterState=true;try{this._enterState.apply(this,arguments);this._inEnterState=false;}catch(cb){this._inEnterState=false;throw cb;}},_enterState:function(cb){if((cb.indexOf('pull')===0||cb.indexOf('ping')===0||cb.indexOf('shutdown')===0)&&!!pa.active_config_refresh){var db=Date.now(),eb=(db-pa.reconnectOverrideTimeMillis)/1000;if('config_refresh_seconds' in pa&&pa.config_refresh_seconds>0&&eb>pa.config_refresh_seconds){cb='reconnect';this._logFantail('forcing reconnect to refresh config'+' - this is normal behavior',j.FANTAIL_DEBUG);}}if(cb.indexOf('reconnect')===0)pa.reconnectOverrideTimeMillis=Date.now();var fb=this.backoff?this._getDelay():0;this.backoff=false;var gb=ea(arguments);if(this.isShutdown()){this._logFantail('not executing state due to shutdown mode: '+cb,j.FANTAIL_WARN);return;}if(cb!='idle!'&&this.shouldIdle()){this._logFantail('forced idleness',j.FANTAIL_WARN);return;}ra++;pa.stateId=ra;clearTimeout(this._deferredTransition);this._deferredTransition=null;this.transport.enterState('idle');this.state='idle';this.nextState=null;if(/!$/.test(cb)){var hb=this._transportRate.tally().timeAverage,ib=ka.getConfig('MAX_CHANNEL_STATES_PER_SEC',1);if(hb>=ib){if(!this._throttled){this._throttled=true;la.warn('throttled');}la.bump('throttle');fb=1000/ib;}}else if(!(/#$/.test(cb)))fb=this._getDelay();cb=cb.replace(/\W*$/,'');if(!oa[cb]){this._logFantail('invalid state: '+cb,j.FANTAIL_ERROR);throw new Error('invalid state:'+cb);}var jb;if(fb<=0){jb={state:cb};this._transportRate.add(1);this.state=cb;var kb=this['_enter_'+this.state];if(kb){gb.shift();kb.apply(this,gb);}if(/init|idle|pull|ping/.test(this.state)){if(pa.streamingCapable&&/pull/.test(this.state))this.heartbeats=[];qa.transportEnteredState(cb);qa.clientEnteredState(cb);pa.is_offline=!n.isOnline();pa.capabilities=ca.getCapabilities();this._logFantail('entering transport state: '+this.state,j.FANTAIL_INFO);this.transport.enterState(this.state,pa);if(this.state=='ping'){jb.url=m.getURI(pa).toString();jb.port=pa.port||'undefined';}}}else{this.state='idle';this.nextState=cb;jb={state:this.state,delay:fb,nextState:cb};gb[0]=cb+'#';this._deferredTransition=ha((function(){this._deferredTransition=null;this.enterState.apply(this,gb);}).bind(this),fb);}if(/pull/.test(cb)){jb.client_id=pa.sessionID;jb.streaming=pa.inStreaming;}la.log('enter_'+this.state,jb);h.inform(j.ON_ENTER_STATE,jb);},exitState:function(cb,db){var eb=cb.stateId,fb=cb.status;if((fb==j.SYS_TIMETRAVEL||fb==j.SYS_ONLINE||fb==j.SYS_NONOWNER||fb==j.SYS_OWNER)&&qa)qa.initialize();if(this.isShutdown()||eb<ra)return;var gb=ea(arguments),hb=this.state;gb[0]=cb.status;var ib={state:hb,status:fb};if(/pull/.test(hb)){ib.client_id=pa.sessionID;ib.streaming=pa.inStreaming;}if(/ping/.test(hb)&&fb!=j.OK)ib.url=m.getURI(pa).toString();if(this.nextState)ib.nextState=this.nextState;if(db&&db.errorType){pa.lastRequestErrorReason=db.errorType;ib.xhr=db.toJSON?db.toJSON():db;if(db.errorType==g.SERVICE_UNAVAILABLE){this._logFantail('got 5xx http status code, setting long delay',j.FANTAIL_ERROR);this.proxyDown=true;}delete ib.xhr.json;}else if(fb!=j.OK)pa.lastRequestErrorReason=fb;if(db&&db.json){if(db.json.t)ib.t=db.json.t;if(db.json.reason)ib.reason=db.json.reason;if(db.json.seq)ib.seq=db.json.seq;}la.log('exit_'+hb,ib);h.inform(j.ON_EXIT_STATE,ib);var jb=this['_exit_'+hb];if(jb)fb=jb.apply(this,gb)||fb;if(fb!=j.OK){ya();sa[hb]=(sa[hb]||0)+1;}var kb=oa[this.nextState||hb][fb]||oa._all[fb],lb=kb&&kb.replace(/!*$/,'');if(!lb){la.error('terminal_transition',ib);this._shutdownHint=j.HINT_INVALID_STATE;kb='shutdown!';this._logFantail('entering shutdown state',j.FANTAIL_ERROR);}this._lastState=hb;this._lastStatus=fb;this.enterState(kb);},_processTransportData:function(cb,db){var eb=db.json,fb=eb.t;if('s' in eb){eb.seq=eb.s;delete eb.s;}if(eb.u&&pa.user&&eb.u!=pa.user){la.warn('misguided_msg',{user:pa.user,target:eb.u});this._reportProxyMisguidedMsg(eb.u,pa.user);return;}var gb=pa.seq;if('seq' in eb){pa.seq=eb.seq;w.doSync();}switch(fb){case 'continue':if(pa.inStreaming&&this.heartbeats.length<1){pa.streamingCapable=false;la.log('switch_to_longpoll');ha(this._probeTest,pa.PROBE_DELAY);}ya(true);if(!pa.inStreaming||pa.STREAMING_EXIT_STATE_ON_CONTINUE)this.exitState({status:j.OK,stateId:cb});break;case 'refresh':case 'refreshDelay':this._logFantail('got refresh with reason: '+eb.reason,j.FANTAIL_INFO);this.exitState({status:'refresh_'+(eb.reason||0),stateId:cb},db);break;case 'backoff':this._logFantail('server told client to back off',j.FANTAIL_WARN);ya();this.backoff=true;break;case 'lb':var hb=eb.lb_info;if(hb){pa.sticky_token=hb.sticky;if('pool' in hb){pa.sticky_pool=hb.pool;}else pa.host=hb.vip;if(g.supportsCORS()&&!pa.forceIframe){var ib=pa.subdomain===null?pa.host:(pa.subdomain+'-'+pa.host),jb=new da(ib,pa.port,pa.sticky_pool,pa.sticky_token,pa.uid,pa.viewer_uid,pa.profile,pa.sessionID,pa.capabilities);h.inform(j.RTI_SESSION,jb);}}else la.error('bad lb info');break;case 'test_streaming':ha(this._probeTest,500);break;case 'fullReload':v.clear();la.log('invalid_history');h.inform(j.ON_INVALID_HISTORY);ya(true);this._logFantail('full reload incurred',j.FANTAIL_INFO);var kb=j.ERROR_MISSING;if(pa.fullReloadAsSuccess)kb=j.OK;this.exitState({status:kb,stateId:cb},db);break;case 'msg':var lb,mb,nb,ob;ya(true);if('tr' in eb)pa.trace_id=eb.tr;mb=eb.ms;nb=pa.seq-mb.length;for(lb=0;lb<mb.length;lb++,nb++){pa.estimatedReceived++;if(nb>=gb){ob=mb[lb];if(ob.type){var pb=j.getArbiterType(ob.type);if(ob.type==='messaging'){var qb={type:'messaging',event:ob.event};if(ob.message){qb.inbox_unread=ob.unread_counts&&ob.unread_counts.inbox;qb.tid=ob.message.tid;qb.mid=ob.message.mid;this._logFantail('got message with id: '+ob.message.mid,j.FANTAIL_INFO);}la.debug('message',qb);}else if(ob.type==='m_messaging'){la.debug('message',{type:'m_messaging',tid:ob.tid,mid:ob.uuid});}else if(ob.type==='pages_messaging'){if(ob.unread_counts&&ob.unread_counts.inbox)h.inform(j.getArbiterType('pages_inbox_count_update'),{page_id:ob[t.VIEWER_FBID],inbox_unread:ob.unread_counts.inbox});}else if(ob.type==='skywalker'){pb=j.SKYWALKER;}else la.debug('message',{type:ob.type});h.inform(pb,{obj:ob});}}else la.warn('seq_regression',{seq:nb,last_seq:gb,messages:mb.length});}break;case 'heartbeat':if(pa.inStreaming){var rb=Date.now();if(this.heartbeats.length>0){var sb=rb-this.heartbeats[this.heartbeats.length-1];la.log('heartbeat_interval',{client_id:pa.sessionID,interval:sb});}this.heartbeats.push(rb);}break;default:this._logFantail('got an unknown protocol message: '+fb,j.FANTAIL_ERROR);la.error('unknown_msg_type',{type:fb});break;}za();},_enter_init:function(){if(sa.init>=ka.getConfig('MAX_INIT_FAILS',2))return setTimeout(this.exitState.bind(this,{status:j.ERROR_MAX,stateId:ra}),0);this._initTimer=ha(this.exitState.bind(this,{status:j.ERROR,stateId:ra},'timeout'),pa.IFRAME_LOAD_TIMEOUT);},_enter_reconnect:function(cb){this._logFantail('entered reconnect with reason: '+cb,j.FANTAIL_INFO);var db=ra;if(!x.hasUserCookie()){this._logFantail('user has no cookie???',j.FANTAIL_WARN);la.warn('no_user_cookie');setTimeout(function(){ka._shutdownHint=j.HINT_AUTH;ka.exitState({status:j.ERROR_SHUTDOWN,stateId:db});},0);return;}var eb={reason:cb,fb_dtsg:o.getToken()};if(r.token)eb.fb_isb=r.token;if(ma)ma(eb);var fb=new q('GET','/ajax/presence/reconnect.php',eb);fb.onSuccess=(function(){ka.configure(fb.json);v.store();this.exitState({status:j.OK,stateId:db});}).bind(this);fb.onError=(function(){var gb=fb.json&&fb.json.error;this._logFantail('reconnect error: '+fb.errorType,j.FANTAIL_ERROR);if(fb.errorType==g.TRANSPORT_ERROR||fb.errorType==g.PROXY_ERROR||fb.errorType==g.SERVICE_UNAVAILABLE)this._shutdownHint=j.HINT_CONN;if(gb&&gb==1356007){this._shutdownHint=j.HINT_MAINT;}else if(gb==1357001||gb==1357004||gb==1348009){this._shutdownHint=j.HINT_AUTH;}else this._shutdownHint=null;this.exitState({status:this._shutdownHint?j.ERROR_SHUTDOWN:j.ERROR,stateId:db},fb);}).bind(this);fb.send();},_enter_shutdown:function(){h.inform(j.ON_SHUTDOWN,{reason:this._shutdownHint});if(!!pa.shutdown_recovery_enabled&&'shutdown_recovery_interval_seconds' in pa&&pa.shutdown_recovery_interval_seconds>0){var cb=pa.shutdown_recovery_interval_seconds*1000;ha((function(){h.inform(j.ATTEMPT_RECONNECT);this.state='reconnect!';this.enterState('reconnect!');}).bind(this),cb);}},_exit_init:function(cb){if(this._initTimer)this._initTimer=clearTimeout(this._initTimer);if(cb==j.ERROR_MAX)this._sendIframeError(j.reason_IFrameLoadGiveUp);},_exit_pull:function(cb,db){var eb=cb==j.OK;qa.reportPullReturned(eb,this);if(eb){this.lastPullTime=Date.now();}else{var fb="exit status: "+cb;if(db&&db.errorType)fb+=" ajax request error: "+db.errorType;this._logFantail('pull failed with status: '+fb,j.FANTAIL_ERROR);}},_exit_ping:function(cb){if(cb==j.OK){var db=Date.now()-(this.lastPullTime||p.start);if(db>pa.STALL_THRESHOLD){this._logFantail('didnt complete a successful pull for too long',j.FANTAIL_ERROR);return j.ERROR_STALE;}}else this._logFantail('ping failed with status: '+cb,j.FANTAIL_ERROR);},_reportProxyMisguidedMsg:function(cb,db){this._logFantail('misguided message to '+db+' meant for '+cb,j.FANTAIL_ERROR);var eb=Date.now();if(eb-this.lastReportOnMisguidedMsgTime<=pa.CHANNEL_PROXY_REPORTING_MIN_INTERVAL)return;this.lastReportOnMisguidedMsgTime=eb;var fb={received_uid:cb,expected_uid:db};if(pa.sticky_token)fb.sticky_token=pa.sticky_token;var gb=new aa('/err_misguided_msg').setDomain(pa.host+'.'+pa.domain).setPort(pa.port).setSecure(new aa(window.location.href).isSecure()).setQueryData(fb),hb=new g('GET',gb);if(g.supportsCORS())hb.xhr.withCredentials=true;hb.onSuccess=function(ib){};hb.onError=function(ib){};hb.onJSON=function(ib,jb){};hb.send();},_probeTest:function(){pa.streamingCapable=false;var cb=[],db={mode:'stream',format:'json'};if(pa.sticky_token)db.sticky_token=pa.sticky_token;var eb=new aa('/probe').setDomain(pa.host+'.'+pa.domain).setPort(pa.port).setSecure(new aa(window.location.href).isSecure()).setQueryData(db),fb=new g('GET',eb);fb.onJSON=function(gb,hb){if(gb&&gb.json&&gb.json.t==='heartbeat'){cb.push(Date.now());if(cb.length>=2){var ib=cb[1]-cb[0];if(ib>=pa.PROBE_HEARTBEATS_INTERVAL_LOW&&ib<=pa.PROBE_HEARTBEATS_INTERVAL_HIGH){pa.streamingCapable=true;la.log('switch_to_streaming');}la.log('probe_ok',{time:ib});}}};fb.onSuccess=function(gb){if(cb.length!=2){pa.streamingCapable=false;la.error('probe_error',{error:'beats.length = '+cb.length});}};fb.onError=function(gb){pa.streamingCapable=false;la.error('probe_error',gb);};la.log('probe_request');fb.send();},_logFantail:function(cb,db){var eb=pa.fantail_queue_capacity||pa.FANTAIL_QUEUE_CAPACITY;if(!pa.fantail_enabled||pa.fantail_logs.length>eb)return;var fb='fantail queue size exceeded',gb=j.FANTAIL_WARN;if(pa.fantail_logs.length<eb){fb=cb;gb=db;}var hb=pa.fantail_logs.length,ib={};ib['time'+hb]=Date.now();ib['log'+hb]=fb;ib['severity'+hb]=gb;pa.fantail_logs.push(ib);}};e.exports=ka;function bb(){if(k.channelConfig){ka.configure(k.channelConfig);if(/shutdown/.test(k.state))ka._shutdownHint=j[k.reason];ka.init(k.state,k.reason);}}y.onAfterLoad(bb);},null);
__d("ChannelConnection",["Arbiter","Run","SystemEvents","ChannelConstants","ChannelManager","JSLogger","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=l.create('channel_connection'),o=null,p=null,q=null,r=null,s=0,t=Object.assign(new g(),{CONNECTED:'chat-connection/connected',RECONNECTING:'chat-connection/reconnecting',SHUTDOWN:'chat-connection/shutdown',MUTE_WARNING:'chat-connection/mute',UNMUTE_WARNING:'chat-connection/unmute'});h.onBeforeUnload(function(){});function u(){if(p){clearTimeout(p);p=null;}}function v(){u();n.log('unmute_warning');t.inform(t.UNMUTE_WARNING);}function w(ba){u();p=m(v,ba);n.log('mute_warning',{time:ba});t.inform(t.MUTE_WARNING);}function x(){if(q){clearTimeout(q);q=null;}}function y(ba,ca){x();if(ba===j.ON_ENTER_STATE&&(ca.nextState||ca.state)==='pull'){if(r!==t.CONNECTED){n.log('connected');var da=!r;r=t.CONNECTED;s=0;t.inform(t.CONNECTED,{init:da});}}else if(ba===j.ON_ENTER_STATE&&((ca.nextState||ca.state)==='ping'||(!ca.nextState&&ca.state==='idle'))){q=m(function(){var ea=null;if(!(ca.state==='idle'&&!ca.nextState))ea=(ca.delay||0);n.log('reconnecting',{delay:ea});if(t.disconnected())n.log('reconnecting_ui',{delay:ea});r=t.RECONNECTING;(ca.state==='idle')&&s++;if(s>1){t.inform(t.RECONNECTING,ea);}else if(!ca.nextState&&ca.state==='idle')y(ba,ca);},500);}else if(ba===j.ON_SHUTDOWN){n.log('shutdown',{reason:ca.reason});r=t.SHUTDOWN;s=0;t.inform(t.SHUTDOWN,ca.reason);}}function z(){if(k.isShutdown()){y(j.ON_SHUTDOWN,k._shutdownHint);}else y(j.ON_ENTER_STATE,{state:k.state,nextState:k.nextState,delay:0});}h.onAfterLoad(z);Object.assign(t,{disconnected:function(){return r===t.SHUTDOWN||(r===t.RECONNECTING&&!p&&s>1);},isShutdown:function(){return r===t.SHUTDOWN;},reconnect:function(ba){if(k.state==='ping'||k.isShutdown())return;n.log('reconnect',{now:ba});t.inform(t.RECONNECTING,0);if(!!ba){if(o!==null){clearTimeout(o);o=null;}k.enterState('ping!');}else if(!o)o=m(function(){k.enterState('ping!');o=null;},j.CHANNEL_MANUAL_RECONNECT_DEFER_MSEC);},unmuteWarning:v});function aa(){g.subscribe([j.ON_ENTER_STATE,j.ON_SHUTDOWN],y);g.subscribe(j.ATTEMPT_RECONNECT,function(){if(t.disconnected())t.reconnect();});i.subscribe(i.TIME_TRAVEL,function(){t.reconnect();w(j.MUTE_WARNING_TIME_MSEC);});h.onBeforeUnload(x,false);}h.onAfterLoad(aa);t.mockAfterLoad=function(){z();aa();};e.exports=t;},null);
__d("AvailableListConstants",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={ON_AVAILABILITY_CHANGED:'buddylist/availability-changed',ON_UPDATE_ERROR:'buddylist/update-error',ON_UPDATED:'buddylist/updated',ON_CHAT_NOTIFICATION_CHANGED:'chat-notification-changed',OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3,WEB_STATUS:'webStatus',FB_APP_STATUS:'fbAppStatus',MESSENGER_STATUS:'messengerStatus',OTHER_STATUS:'otherStatus',STATUS_ACTIVE:'active',STATUS_IDLE:'idle',STATUS_OFFLINE:'offline',ACTIVE_ON_WEB:g._("Web"),ACTIVE_ON_MOBILE:g._("Mobile")};a.AvailableListConstants=e.exports=h;},null);
__d("ChatConfig",["ChatConfigInitialData"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={},i={get:function(j,k){return j in h?h[j]:k;},set:function(j){if(arguments.length>1){var k={};k[j]=arguments[1];j=k;}Object.assign(h,j);},getDebugInfo:function(){return h;}};i.set(g);e.exports=i;},null);
__d("ServerTime",["InitialServerTime"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();k(g.serverTime);var h;function i(){return Date.now()-h;}function j(){return h;}function k(l){h=Date.now()-l;}e.exports={getMillis:i,getOffsetMillis:j,update:k,get:i,getSkew:j};},null);
__d("LastMobileActiveTimes",["ServerTime","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={};function j(n){if(!n||n<0)return '';var o=(g.get()/1000)-n,p=Math.floor(o/60),q=Math.floor(p/60),r=Math.floor(q/24);if(p<=1){return h._("{count}m",[h.param("count",1)]);}else if(p<60){return h._("{count}m",[h.param("count",p)]);}else if(q<24){return h._("{count}h",[h.param("count",q)]);}else if(r<3){return h._("{count}d",[h.param("count",r)]);}else return '';}function k(n,o){if(!(n in i)||i[n]<o)i[n]=o;}function l(n){if(n in i){return i[n];}else return 0;}var m={update:function(n){for(var o in n)k(o,n[o]);},getShortDisplay:function(n){return j(l(n));},get:function(n){return l(n);}};e.exports=m;},null);
__d("ChatContexts",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={};function h(k){var l=k?k.subtext:'';return l;}function i(k,l){g[k]=l;}var j={get:function(k){if(k in g){return g[k];}else return null;},update:function(k){for(var l in k)i(l,k[l]);},getShortDisplay:function(k){return h(j.get(k));}};e.exports=j;},null);
__d("Poller",["ArbiterMixin","AsyncRequest","CurrentUser","emptyFunction","mixin","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k(g);for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(s){"use strict";m.call(this);this._config=Object.assign({clearOnQuicklingEvents:true,setupRequest:j,interval:null,maxRequests:Infinity,dontStart:false},s);this._handle=null;if(!this._config.dontStart)this.start();}p.prototype.start=function(){"use strict";if(this._polling)return this;this._requests=0;this.request();return this;};p.prototype.stop=function(){"use strict";this._cancelRequest();return this;};p.prototype.mute=function(){"use strict";this._muted=true;return this;};p.prototype.resume=function(){"use strict";if(this._muted){this._muted=false;if(this._handle===null&&this._polling)return this.request();}return this;};p.prototype.skip=function(){"use strict";this._skip=true;return this;};p.prototype.reset=function(){"use strict";return this.stop().start();};p.prototype.request=function(){"use strict";this._cancelRequest();this._polling=true;if(!r())return this._done();if(this._muted)return this;if(++this._requests>this._config.maxRequests)return this._done();var s=new h();s.setIsBackgroundRequest(true);var t=false;s.setInitialHandler(function(){return !t;});this._cancelRequest=function(){t=true;this._cleanup();}.bind(this);s.setFinallyHandler(q.bind(this));s.setInitialHandler=j;s.setFinallyHandler=j;this._config.setupRequest(s,this);if(this._skip){this._skip=false;setTimeout(q.bind(this),0);}else s.send();return this;};p.prototype.isPolling=function(){"use strict";return this._polling;};p.prototype.isMuted=function(){"use strict";return this._muted;};p.prototype.setInterval=function(s){"use strict";if(s){this._config.interval=s;this.start();}};p.prototype.getInterval=function(){"use strict";return this._config.interval;};p.prototype._cleanup=function(){"use strict";if(this._handle!==null)clearTimeout(this._handle);this._handle=null;this._cancelRequest=j;this._polling=false;};p.prototype._done=function(){"use strict";this._cleanup();this.inform('done',{sender:this});return this;};p.MIN_INTERVAL=2000;Object.assign(p.prototype,{_config:null,_requests:0,_muted:false,_polling:false,_skip:false,_cancelRequest:j});function q(){if(!this._polling)return;if(this._requests<this._config.maxRequests){var s=this._config.interval;s=typeof s==='function'?s(this._requests):s;s=(s>p.MIN_INTERVAL)?s:p.MIN_INTERVAL;if(this._config.clearOnQuicklingEvents){this._handle=setTimeout(this.request.bind(this),s);}else this._handle=l(this.request.bind(this),s);}else this._done();}function r(){return i.isLoggedInNow();}e.exports=p;},null);
__d("PresenceStatus",["ArbiterMixin","AvailableListConstants","BanzaiODS","ChatVisibility","CurrentUser","LastMobileActiveTimes","LogHistory","PresencePrivacy","ServerTime","createObjectFrom","debounceAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();i.setEntitySample('presence',.0001);var r=m.getInstance('presence_status'),s={},t={},u={},v={},w={},x={},y={},z=Object.assign({},g),aa=q(function(){return z.inform('change');},0);Object.assign(z,{resetPresenceData:function(){t={};u={};y={};x={};w={};},reset:function(){z.resetPresenceData();v={};},get:function(ba){if(ba==k.getID())return j.isOnline()?h.ACTIVE:h.OFFLINE;var ca=h.OFFLINE;if(ba in t)ca=t[ba];if(ca===h.OFFLINE||ca===h.IDLE)if(v[ba])ca=h.MOBILE;if(!n.allows(ba))ca=h.OFFLINE;return ca;},getCapabilities:function(ba){var ca=z.get(ba);if(ca==h.OFFLINE)return 0;var da=u[ba];return da?da:0;},getDetailedActivePresence:function(ba){var ca=y[ba];if(!ca)return h.ACTIVE_ON_WEB;var da=this._getDetailedActivePresenceFromObject(ca);if(da)return da;if(!s[ba]){r.error('inconsistent_presence',{id:ba,presence:z.getDebugInfo(ba)});i.bumpEntityKey('presence','inconsistent_presence');s[ba]=true;}return null;},_getDetailedActivePresenceFromObject:function(ba){var ca=ba[h.WEB_STATUS],da=ba[h.FB_APP_STATUS],ea=ba[h.MESSENGER_STATUS],fa=ba[h.OTHER_STATUS];if(da===h.STATUS_ACTIVE||ea===h.STATUS_ACTIVE){return h.ACTIVE_ON_MOBILE;}else if(ca===h.STATUS_ACTIVE||fa===h.STATUS_ACTIVE)return h.ACTIVE_ON_WEB;},isMessengerUser:function(ba){var ca=y[ba];if(ca)if(ca[h.MESSENGER_STATUS]==h.STATUS_ACTIVE)return true;return v[ba];},hasDetailedPresenceData:function(ba){return y[ba]!=null;},getGroup:function(ba){return ba.some(function(ca){if(ca==k.getID())return false;return (z.get(ca)===h.ACTIVE);})?h.ACTIVE:h.OFFLINE;},set:function(ba,ca,da,ea,fa,ga){if(ba==k.getID())return false;switch(ca){case h.OFFLINE:case h.IDLE:case h.ACTIVE:case h.MOBILE:break;default:return false;}var ha=z.get(ba),ia=ha!=ca;if((ia&&ha==h.ACTIVE)||(ca==h.ACTIVE)){var ja={};ja[ba]=o.get()/1000;l.update(ja);}var ka=false;if(!ia&&fa)ka=z.getCapabilities(ba)!=fa;if(da){w[ba]=o.get();x[ba]=ea;}t[ba]=ca;if(fa)u[ba]=fa;if(ga)y[ba]=ga;var la=ia||ka;if(la)aa();return la;},setMobileFriends:function(ba){v=p(ba);},getOnlineIDs:function(){var ba,ca=[];for(ba in t)if(z.get(ba)===h.ACTIVE)ca.push(ba);return ca;},getAvailableIDs:function(){var ba=z.getOnlineIDs(),ca;for(ca in v){if(t[ca])continue;ba.push(ca);}return ba;},getOnlineCount:function(){return z.getOnlineIDs().length;},getPresenceStats:function(){var ba=0,ca=0,da=0,ea=0,fa=0;for(var ga in t){ba+=1;switch(z.get(ga)){case h.OFFLINE:ca+=1;break;case h.IDLE:da+=1;break;case h.ACTIVE:ea+=1;break;case h.MOBILE:fa+=1;break;default:break;}}return {total:ba,offline:ca,idle:da,active:ea,mobile:fa};},getDebugInfo:function(ba){return {id:ba,presence:t[ba],detailedPresence:y[ba],overlaySource:x[ba],overlayTime:w[ba],mobile:v[ba]};}});e.exports=z;},null);
__d("XChatUserInfoAllAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/chat\/user_info_all\/",{viewer:{type:"Int",required:true}});},null);
__d("ShortProfilesBootstrapper",["AsyncRequest","BanzaiODS","CurrentUser","JSLogger","Promise","XChatUserInfoAllAsyncController"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=5,n=10000,o=l.getURIBuilder().setInt('viewer',i.getID()).getURI(),p=j.create('short_profiles');function q(r){this.$ShortProfilesBootstrapper0=r;this.$ShortProfilesBootstrapper1=new k(function(s,t){this.$ShortProfilesBootstrapper2=s;this.$ShortProfilesBootstrapper3=t;}.bind(this));this.$ShortProfilesBootstrapper4=false;this.$ShortProfilesBootstrapper5=null;this.$ShortProfilesBootstrapper6=0;this.$ShortProfilesBootstrapper7=0;this.$ShortProfilesBootstrapper8=0;this.$ShortProfilesBootstrapper9=false;this.$ShortProfilesBootstrappera=false;}q.prototype.fetchAll=function(){this.$ShortProfilesBootstrapperb();if(this.$ShortProfilesBootstrapper4||this.$ShortProfilesBootstrapper5)return this.$ShortProfilesBootstrapper1;if(this.$ShortProfilesBootstrapper6>=m){this.$ShortProfilesBootstrapperc();return this.$ShortProfilesBootstrapper1;}this.$ShortProfilesBootstrapper6++;this.$ShortProfilesBootstrapperd();this.$ShortProfilesBootstrapper5=new g(o).setHandler(function(r){this.$ShortProfilesBootstrapper5=null;this.$ShortProfilesBootstrapper4=true;this.$ShortProfilesBootstrappere();this.$ShortProfilesBootstrapper0(r.payload);this.$ShortProfilesBootstrapper2();}.bind(this)).setErrorHandler(function(){this.$ShortProfilesBootstrapper5=null;this.$ShortProfilesBootstrapper7++;this.$ShortProfilesBootstrapperf();}.bind(this)).setTimeoutHandler(n,function(){this.$ShortProfilesBootstrapper5=null;this.$ShortProfilesBootstrapper8++;this.$ShortProfilesBootstrapperg();}.bind(this)).setAllowCrossPageTransition(true);this.$ShortProfilesBootstrapper5.send();return this.$ShortProfilesBootstrapper1;};q.prototype.isBootstrapped=function(){return this.$ShortProfilesBootstrapper4;};q.prototype.isBootstrapping=function(){return !!this.$ShortProfilesBootstrapper5;};q.prototype.getAttemptCount=function(){return this.$ShortProfilesBootstrapper6;};q.prototype.getErrorCount=function(){return this.$ShortProfilesBootstrapper7;};q.prototype.getTimeoutCount=function(){return this.$ShortProfilesBootstrapper8;};q.prototype.$ShortProfilesBootstrapperb=function(){if(!this.$ShortProfilesBootstrapper9){p.log('bootstrap_start');h.bumpEntityKey('chat.web','typeahead.bootstrap.starts');this.$ShortProfilesBootstrapper9=true;}};q.prototype.$ShortProfilesBootstrapperd=function(){p.log('bootstrap_attempt');h.bumpEntityKey('chat.web','typeahead.bootstrap.attempts');};q.prototype.$ShortProfilesBootstrappere=function(){p.log('bootstrap_success');h.bumpEntityKey('chat.web','typeahead.bootstrap.successes');if(this.$ShortProfilesBootstrapper6>1)h.bumpEntityKey('chat.web','typeahead.bootstrap.successes_after_retries');};q.prototype.$ShortProfilesBootstrapperf=function(){p.log('bootstrap_error');h.bumpEntityKey('chat.web','typeahead.bootstrap.errors');};q.prototype.$ShortProfilesBootstrapperg=function(){p.log('bootstrap_timeout');h.bumpEntityKey('chat.web','typeahead.bootstrap.timeouts');};q.prototype.$ShortProfilesBootstrapperc=function(){if(!this.$ShortProfilesBootstrappera){p.log('bootstrap_giveup');h.bumpEntityKey('chat.web','typeahead.bootstrap.giveups');this.$ShortProfilesBootstrappera=true;this.$ShortProfilesBootstrapper3();}};e.exports=q;},null);
__d("XChatUserInfoAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/chat\/user_info\/",{ids:{type:"IntVector",defaultValue:[]}});},null);
__d("ShortProfiles",["AjaxLoader","Arbiter","JSLogger","ShortProfilesBootstrapper","XChatUserInfoAsyncController"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=null,m=new g(k.getURIBuilder().getURI().toString(),'profiles'),n={get:function(p,q){this.getMulti([p],function(r){q(r[p],p);});},getMulti:function(p,q){function r(s){q&&q(o(s));}m.get(p,r);},getNow:function(p){return o(m.getNow(p)||null);},getNowUnsafe:function(p){return m.getNow(p)||null;},getCachedProfileIDs:function(){return m.getCachedKeys();},hasAll:function(){return !!l&&l.isBootstrapped();},fetchAll:function(){if(!l)l=new j(function(p){m.set(p);});return l.fetchAll();},set:function(p,q){var r={};r[p]=q;this.setMulti(r);},setMulti:function(p){m.set(o(p));}};function o(p){return JSON.parse(JSON.stringify(p));}h.subscribe(i.DUMP_EVENT,function(p,q){var r=n.getCachedProfileIDs(),s=i.getEntries(function(t){return (t.cat=='short_profiles'||t.cat=='chat_typeahead');});q.chat_typeahead={bootstrapped:l&&l.isBootstrapped(),bootstrapping:l&&l.isBootstrapping(),bootstrap_attempts:l&&l.getAttemptCount(),bootstrap_errors:l&&l.getErrorCount(),bootstrap_timeouts:l&&l.getTimeoutCount(),entries:r,entry_count:r.length,history:s};});e.exports=n;},null);
__d("PresencePoller",["AvailableListConstants","AvailableListInitialData","BanzaiODS","ChannelConnection","ChatContexts","ChatVisibility","CurrentUser","JSLogger","LastMobileActiveTimes","Poller","PresencePrivacy","PresenceStatus","ServerTime","ShortProfiles","UserActivity","debounceAcrossTransitions","errorCode"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();var x=5,y='/ajax/chat/buddy_list.php',z=1800000,aa=h.pollInterval,ba=h.lazyPollInterval,ca=h.lazyThreshold,da=n.create('available_list'),ea='presence_poller';i.setEntitySample(ea,.01);function fa(ga){"use strict";this.$PresencePoller0=ga;this.$PresencePoller1=false;this.$PresencePoller2=h.chatNotif;this.$PresencePoller3=[];this.$PresencePoller4=new p({interval:aa,setupRequest:this.$PresencePoller5.bind(this),clearOnQuicklingEvents:false,dontStart:true});if(l.isOnline()){this.$PresencePoller6=Date.now();this.$PresencePoller7=Date.now();this.$PresencePoller8=Date.now();this.$PresencePoller9=h.updateTime;}else{this.$PresencePoller6=0;this.$PresencePoller9=0;this.$PresencePoller7=0;this.$PresencePoller8=0;}this.$PresencePollera=0;this.$PresencePollerb('available_initial_data',h.updateTime,h.availableList,h.lastActiveTimes,h.mobileFriends);u.subscribe(function(ha,ia){if(ia.idleness>aa)this.forceUpdate();}.bind(this));q.subscribe('privacy-user-presence-changed',function(){this.forceUpdate();}.bind(this));}fa.prototype.start=function(){"use strict";setTimeout(this.$PresencePoller4.start.bind(this.$PresencePoller4),0);};fa.prototype.restart=function(){"use strict";if(this.$PresencePoller4.isMuted()){this.$PresencePoller4.resume();this.forceUpdate();}};fa.prototype.stop=function(){"use strict";this.$PresencePoller4.mute();};fa.prototype.forceUpdate=function(){"use strict";this.$PresencePoller4.request();};fa.prototype.getIsUserIdle=function(){"use strict";return this.$PresencePoller1;};fa.prototype.getWebChatNotification=function(){"use strict";return this.$PresencePoller2;};fa.prototype.getCallback=function(){"use strict";return this.$PresencePoller0;};fa.prototype.addExtraBuddy=function(ga){"use strict";if(this.$PresencePoller3.indexOf(ga)!==-1)return;this.$PresencePoller3.push(ga);};fa.prototype.$PresencePollerc=function(){"use strict";return v(function(){this.$PresencePoller0(g.ON_AVAILABILITY_CHANGED);}.bind(this),0)();};fa.prototype.$PresencePollerb=function(ga,ha,ia,ja,ka){"use strict";this.$PresencePoller9=ha;if(!Array.isArray(ia)){r.resetPresenceData();for(var la in ia)r.set(la,ia[la].a,false,ga,ia[la].c,ia[la].p);}if(ja&&!Array.isArray(ja))o.update(ja);if(ka)r.setMobileFriends(ka);this.$PresencePollerc();};fa.prototype.$PresencePoller5=function(ga){"use strict";if(j.isShutdown()||!l.isOnline()){this.$PresencePoller4.skip();i.bumpEntityKey(ea,'skip.offline');return;}if(Date.now()-this.$PresencePoller6<aa){this.$PresencePoller4.skip();i.bumpEntityKey(ea,'skip.recent');return;}i.bumpEntityKey(ea,'request');this.$PresencePoller6=Date.now();var ha=Date.now()-this.$PresencePoller8,ia=t.getCachedProfileIDs().join(",");ga.setHandler(this.$PresencePollerd.bind(this)).setErrorHandler(this.$PresencePollere.bind(this)).setOption('suppressErrorAlerts',true).setOption('retries',1).setData({user:m.getID(),cached_user_info_ids:ia,fetch_mobile:(ha>z),additional_buddies:this.$PresencePoller3}).setURI(y).setAllowCrossPageTransition(true);};fa.prototype.$PresencePollerd=function(ga){"use strict";var ha=ga.getPayload(),ia=ha.buddy_list;if(!ia){this.$PresencePollere(ga);return;}i.bumpEntityKey(ea,'response');this.$PresencePollerf();this.$PresencePoller7=Date.now();s.update(ha.time);if(ia.mobile_friends)this.$PresencePoller8=Date.now();this.$PresencePollera=0;this.$PresencePollerg();var ja=ia.userInfos;if(ja)t.setMulti(ja);var ka=ia.chatContexts;ka&&k.update(ka);this.$PresencePoller1=ia.userIsIdle;if(ia.chatNotif!==(void 0)&&ia.chatNotif!==this.$PresencePoller2){this.$PresencePoller2=ia.chatNotif;this.$PresencePoller0(g.ON_CHAT_NOTIFICATION_CHANGED,this.$PresencePoller2);}this.$PresencePollerb('buddy_list_poller',ha.time,ia.nowAvailableList,ia.last_active_times,ia.mobile_friends);};fa.prototype.$PresencePollere=function(ga){"use strict";i.bumpEntityKey(ea,'error');if(ga.getError()==1356007)return;this.$PresencePollera++;if(this.$PresencePollera>=x)this.$PresencePoller0(g.ON_UPDATE_ERROR);};fa.prototype.$PresencePollerg=function(){"use strict";var ga=u.isActive(ca)?aa:ba;i.bumpEntityKey(ea,'period.'+ga);this.$PresencePoller4.setInterval(ga);};fa.prototype.$PresencePollerf=function(){"use strict";var ga=Date.now(),ha=ga-this.$PresencePoller7;da.log('buddylist_presence_stats',Object.assign({duration:ha},r.getPresenceStats()));};e.exports=fa;},null);
__d("TypingStates",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={INACTIVE:0,TYPING:1,QUITTING:2};e.exports=g;},null);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","BanzaiODS","ChannelConnection","ChannelConstants","ChatConfig","ChatVisibility","ErrorUtils","JSLogger","LastMobileActiveTimes","PresencePoller","PresencePrivacy","PresenceStatus","ServerTime","ShortProfiles","TypingStates","debounceAcrossTransitions","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();'use strict';k.setEntitySample('presence',.0001);var aa=Object.assign({},j,h);aa.subscribe([j.ON_AVAILABILITY_CHANGED,j.ON_UPDATE_ERROR],function(ka,la){g.inform(ka,la);});var ba=y(function(){return aa.inform(j.ON_AVAILABILITY_CHANGED);},0);function ca(ka,la,ma,na,oa,pa){var qa=u.set(ka,la,ma,na,oa,pa);if(qa){var ra=y(function(){return aa.inform(j.ON_AVAILABILITY_CHANGED,ka);},0);ra();}}function da(ka){var la=ka.payload.availability||{};for(var ma in la)ca(ma&&ma.toString(),la[ma].a,true,'mercury_tabs',la[ma].c,la[ma].p);}function ea(){ia&&ia.restart();}function fa(){ia&&ia.stop();}function ga(ka){var la=aa.getDebugInfo(ka),ma=(la.presence==j.ACTIVE);new i('/ajax/mercury/tabs_presence.php').setData({target_id:ka,to_online:ma,presence_source:la.overlaySource,presence_time:la.overlayTime}).setHandler(da).setErrorHandler(z).setAllowCrossPageTransition(true).send();}function ha(ka,la){la.chat_config=n.getDebugInfo();la.available_list_debug_info={};u.getAvailableIDs().forEach(function(ma){la.available_list_debug_info[ma]=aa.getDebugInfo(ma);});la.available_list_poll_interval=aa._poller&&aa._poller.getInterval();}var ia;try{ia=new s(function(event){aa.inform(event);});}catch(ja){p.reportError&&p.reportError(ja,false);}Object.assign(aa,{get:function(ka){return u.get(ka);},updateForID:function(ka){ga(ka);ia&&ia.addExtraBuddy(ka);},shouldUpdateForID:function(ka){if(n.get('avoid_available_list_updates',false))return u.getCapabilities(ka)===0;return true;},getWebChatNotification:function(){return ia&&ia.getWebChatNotification&&ia.getWebChatNotification();},isUserIdle:function(){return ia&&ia.getIsUserIdle();},isReady:function(){return !!ia;},set:function(ka,la,ma,na,oa){ca(ka,la,true,ma,na,oa);},update:function(){ia&&ia.forceUpdate();},isIdle:function(ka){return aa.get(ka)==j.IDLE;},getDebugInfo:function(ka){var la=u.getDebugInfo(ka),ma=w.getNow(ka);if(ma)la.name=ma.name;return la;}});ia&&ia.start();g.subscribe(q.DUMP_EVENT,ha);g.subscribe('chat-visibility/go-online',ea);g.subscribe('chat-visibility/go-offline',fa);t.subscribe(['privacy-changed','privacy-availability-changed','privacy-user-presence-response'],ba);l.subscribe([l.CONNECTED,l.RECONNECTING,l.SHUTDOWN,l.MUTE_WARNING,l.UNMUTE_WARNING],ba);g.subscribe(m.getArbiterType('buddylist_overlay'),function(ka,la){var ma={},na=la.obj.overlay;for(var oa in na){aa.set(oa,na[oa].a,na[oa].s||'channel',na[oa].vc,na[oa].p);if(na[oa].la)ma[oa]=na[oa].la;}r.update(ma);});g.subscribe([m.getArbiterType('typ'),m.getArbiterType('ttyp')],function(ka,la){var ma=la.obj;if(ma.st===x.TYPING){var na=ma.from;if(o.isOnline()){k.bumpEntityKey('presence','stale_presence_check_typing');var oa=u.get(na);if(oa!=j.ACTIVE){var pa=r.get(na)*1000,qa=v.get();if(!pa){k.bumpEntityKey('presence','no_detailed_presence_typing');}else if(qa-pa>5*60*1000){var ra='stale_presence_typing',sa=qa-pa;if(sa<10*60*1000){ra+='600';}else if(sa<60*60*1000)ra+='3600';k.bumpEntityKey('presence',ra);}}}aa.set(na&&na.toString(),j.ACTIVE,'channel-typing');}});g.subscribe(m.getArbiterType('messaging'),function(ka,la){if(!o.isOnline())return;var ma=la.obj;if(ma.message&&ma.message.timestamp&&ma.message.sender_fbid){var na=v.get(),oa=ma.message.timestamp;if(na-oa<2*60*1000){k.bumpEntityKey('presence','stale_presence_check');var pa=ma.message.sender_fbid,qa=u.get(pa);if(qa==j.ACTIVE)return;var ra=r.get(pa)*1000;if(!ra){k.bumpEntityKey('presence','no_detailed_presence');}else if(oa-ra>5*60*1000){var sa='stale_presence',ta=oa-ra;if(ta<10*60*1000){sa+='600';}else if(ta<60*60*1000)sa+='3600';k.bumpEntityKey('presence',sa);}}}});a.AvailableList=e.exports=aa;},null);
__d("getElementText",["isElementNode","isTextNode"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=null;function j(k){if(h(k)){return k.data;}else if(g(k)){if(i===null){var l=document.createElement('div');i=l.textContent!=null?'textContent':'innerText';}return k[i];}else return '';}e.exports=j;},null);
__d("ifRequired",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){typeof j==='function'&&j();}e.exports=g;},null);
__d("TooltipData",["DataStore","DOM","URI","getElementText","ifRequired"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(o){return Object.assign({content:o.getAttribute('aria-label'),position:o.getAttribute('data-tooltip-position')||'above',alignH:o.getAttribute('data-tooltip-alignh')||'left',suppress:false,overflowDisplay:o.getAttribute('data-tooltip-display')==='overflow',persistOnClick:o.getAttribute('data-pitloot-persistonclick'),textDirection:o.getAttribute('data-tooltip-text-direction')},g.get(o,'tooltip'));}function m(o,p){var q=l(o);g.set(o,'tooltip',{content:p.content||q.content,position:p.position||q.position,alignH:p.alignH||q.alignH,suppress:p.suppress===(void 0)?q.suppress:p.suppress,overflowDisplay:p.overflowDisplay||q.overflowDisplay,persistOnClick:p.persistOnClick||q.persistOnClick});o.setAttribute('data-hover','tooltip');}var n={remove:function(o){g.remove(o,'tooltip');o.removeAttribute('data-hover');o.removeAttribute('data-tooltip-position');o.removeAttribute('data-tooltip-alignh');k('Tooltip',function(p){p.isActive(o)&&p.hide();});},set:function(o,p,q,r){if(q||r)m(o,{position:q,alignH:r});if(p instanceof i){o.setAttribute('data-tooltip-uri',p);k('Tooltip',function(t){t.isActive(o)&&t.fetchIfNecessary(o);});}else{if(h.isTextNode(p))p=j(p);var s=false;if(typeof p!=='string'){p=h.create('div',{},p);o.setAttribute('aria-label',j(p));}else{o.setAttribute('aria-label',p);s=p==='';}m(o,{content:p,suppress:s});k('Tooltip',function(t){t.isActive(o)&&t.show(o);});}},propsFor:function(o){if(!o)return {};return {'aria-label':o,'data-hover':'tooltip'};},enableDisplayOnOverflow:function(o){o.removeAttribute('data-tooltip-display');m(o,{overflowDisplay:true});},enablePersistOnClick:function(o){o.removeAttribute('data-pitloot-persistOnClick');m(o,{persistOnClick:true});},suppress:function(o,p){m(o,{suppress:p});},_get:l};e.exports=n;},null);
__d("TooltipMixin",["React","TooltipData","DOM"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes;function l(n){var o=n.tooltip;return o!=null&&typeof o!=='string';}var m={propTypes:{tooltip:k.oneOfType([k.element,k.string]),position:k.oneOf(['above','below','left','right']),alignH:k.oneOf(['left','center','right'])},getInitialState:function(){return {tooltipContainer:l(this.props)?i.create('div'):null};},componentWillReceiveProps:function(n){var o=l(n),p=this.state.tooltipContainer;if(p&&!o){this.setState({tooltipContainer:null});}else if(!p&&o)this.setState({tooltipContainer:i.create('div')});},componentDidMount:function(){this._updateTooltip();},componentDidUpdate:function(n,o){if(o.tooltipContainer&&!this.state.tooltipContainer)this._cleanupContainer(o.tooltipContainer);this._updateTooltip();},_updateTooltip:function(){var n;if(l(this.props)){n=this.state.tooltipContainer;g.render(this.props.tooltip,n);}else n=this.props.tooltip;if(n!=null){h.set(g.findDOMNode(this),n,this.props.position,this.props.alignH);}else h.remove(g.findDOMNode(this));},componentWillUnmount:function(){if(this.state.tooltipContainer)this._cleanupContainer(this.state.tooltipContainer);h.remove(g.findDOMNode(this));},_cleanupContainer:function(n){g.unmountComponentAtNode(n);}};e.exports=m;},null);
__d("TooltipLink.react",["React","TooltipMixin"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"TooltipLink",mixins:[h],render:function(){return g.createElement("a",g.__spread({},this.props),this.props.children);}});e.exports=i;},null);
__d("DialogPosition",["Vector"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=40,i,j={calculateTopMargin:function(k,l){if(i)return i;var m=g.getViewportDimensions(),n=Math.floor((m.x+k)*(m.y-l)/(4*m.x));return Math.max(n,h);},setFixedTopMargin:function(k){i=k;}};e.exports=j;},null);
__d("KeyStatus",["Event","ExecutionEnvironment"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=null,j=null;function k(){if(!j)j=g.listen(window,'blur',function(){i=null;l();});}function l(){if(j){j.remove();j=null;}}function m(event){i=g.getKeyCode(event);k();}function n(){i=null;l();}if(h.canUseDOM){var o=document.documentElement;if(o.addEventListener){o.addEventListener('keydown',m,true);o.addEventListener('keyup',n,true);}else{o.attachEvent('onkeydown',m);o.attachEvent('onkeyup',n);}}var p={isKeyDown:function(){return !!i;},getKeyDownCode:function(){return i;}};e.exports=p;},null);
__d("BootloadedReact",["Bootloader"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=function(j){g.loadModules(["React"],j);},i={isValidElement:function(j){return !!(j&&j._isReactElement);},createClass:function(j,k){h(function(l){var m=l.createClass(j);k&&k(m);});},render:function(j,k,l){h(function(m){var n=m.render(j,k);l&&l(n);});},unmountComponentAtNode:function(j,k){h(function(l){l.unmountComponentAtNode(j);k&&k();});}};e.exports=i;},null);
__d("ContextualThing",["CSS","DOM","ge"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={register:function(k,l){k.setAttribute('data-ownerid',h.getID(l));},containsIncludingLayers:function(k,l){while(l){if(h.contains(k,l))return true;l=j.getContext(l);}return false;},getContext:function(k){var l;while(k){if(k.getAttribute&&(l=k.getAttribute('data-ownerid')))return i(l);k=k.parentNode;}return null;},parentByClass:function(k,l){var m;while(k&&!g.hasClass(k,l))if(k.getAttribute&&(m=k.getAttribute('data-ownerid'))){k=i(m);}else k=k.parentNode;return k;}};e.exports=j;},null);
__d("KeyEventController",["DOMQuery","Event","Run","getElementText","isEmpty"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=null,m=['input','select','textarea','object','embed'],n={button:1,checkbox:1,radio:1,submit:1},o={BACKSPACE:[8],TAB:[9],RETURN:[13],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],'`':[192],'[':[219],']':[221],PAGE_UP:[33],PAGE_DOWN:[34],SPACE:[32],KP_DOT:[46,110]},p={8:1,9:1,13:1,27:1,32:1,37:1,63234:1,38:1,63232:1,39:1,63235:1,40:1,63233:1,46:1};function q(){"use strict";this.handlers={};document.onkeyup=this.onkeyevent.bind(this,'onkeyup');document.onkeydown=this.onkeyevent.bind(this,'onkeydown');document.onkeypress=this.onkeyevent.bind(this,'onkeypress');}q.prototype.mapKey=function(r){"use strict";if(r>=0&&r<=9){if(typeof(r)!='number')r=r.charCodeAt(0)-48;return [48+r,96+r];}var s=o[r.toUpperCase()];if(s)return s;return [r.toUpperCase().charCodeAt(0)];};q.prototype.onkeyevent=function(r,s){"use strict";s=h.$E(s);var t=this.handlers[s.keyCode]||this.handlers[s.which],u,v,w;if(t)for(var x=0;x<t.length;x++){u=t[x].callback;v=t[x].filter;try{if(!v||v(s,r)){w=u(s,r);if(w===false)return h.kill(s);}}catch(y){}}return true;};q.prototype.resetHandlers=function(){"use strict";this.handlers={};};q.getInstance=function(){"use strict";return l||(l=new q());};q.defaultFilter=function(event,r){"use strict";event=h.$E(event);return q.filterEventTypes(event,r)&&q.filterEventTargets(event,r)&&q.filterEventModifiers(event,r);};q.filterEventTypes=function(event,r){"use strict";if(r==='onkeydown')return true;return false;};q.filterEventTargets=function(event,r){"use strict";var s=event.getTarget(),t=(s.contentEditable==='true'||s.contentEditable==='plaintext-only');return (!(t||g.isNodeOfType(s,m))||s.type in n||(event.keyCode in p&&((g.isNodeOfType(s,['input','textarea'])&&s.value.length===0)||(t&&j(s).length===0))));};q.filterEventModifiers=function(event,r){"use strict";if(event.ctrlKey||event.altKey||event.metaKey||event.repeat)return false;return true;};q.registerKey=function(r,s,t,u){"use strict";if(t===(void 0))t=q.defaultFilter;var v=q.getInstance(),w=v.mapKey(r);if(k(v.handlers))i.onLeave(v.resetHandlers.bind(v));var x={};for(var y=0;y<w.length;y++){r=w[y];if(!v.handlers[r]||u)v.handlers[r]=[];var z={callback:s,filter:t};x[r]=z;v.handlers[r].push(z);}return {remove:function(){for(var aa in x){if(v.handlers[aa]&&v.handlers[aa].length){var ba=v.handlers[aa].indexOf(x[aa]);ba>=0&&v.handlers[aa].splice(ba,1);}delete x[aa];}}};};e.exports=q;},null);
__d("Layer",["ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","HTML","KeyEventController","Parent","Style","cx","ge","mixin","removeFromArray","setImmediate","KeyStatus"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();b('KeyStatus');var x=[],y=u(g,h);for(var z in y)if(y.hasOwnProperty(z))ba[z]=y[z];var aa=y===null?null:y.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=y;function ba(ea,fa){"use strict";y.call(this);this._config=ea||{};if(fa){this._configure(this._config,fa);var ga=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(ga));}}ba.prototype.init=function(ea){"use strict";this._configure(this._config,ea);var fa=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(fa));this._initialized=true;return this;};ba.prototype._configure=function(ea,fa){"use strict";if(fa){var ga=m.isNode(fa),ha=typeof fa==='string'||o.isHTML(fa);this.containsReactComponent=i.isValidElement(fa);if(ha){fa=o(fa).getRootNode();}else if(this.containsReactComponent){var ia=document.createElement('div');i.render(fa,ia);fa=this._reactContainer=ia;}}this._root=this._buildWrapper(ea,fa);if(ea.attributes)m.setAttributes(this._root,ea.attributes);if(ea.classNames)ea.classNames.forEach(k.addClass.bind(null,this._root));k.addClass(this._root,'uiLayer');if(ea.causalElement)this._causalElement=t(ea.causalElement);if(ea.permanent)this._permanent=ea.permanent;l.set(this._root,'layer',this);};ba.prototype._getDefaultBehaviors=function(){"use strict";return [];};ba.prototype.getCausalElement=function(){"use strict";return this._causalElement;};ba.prototype.setCausalElement=function(ea){"use strict";this._causalElement=ea;return this;};ba.prototype.getInsertParent=function(){"use strict";return this._insertParent||document.body;};ba.prototype.getRoot=function(){"use strict";return this._root;};ba.prototype.getContentRoot=function(){"use strict";return this._root;};ba.prototype._buildWrapper=function(ea,fa){"use strict";return fa;};ba.prototype.setInsertParent=function(ea){"use strict";if(ea){if(this._shown&&ea!==this.getInsertParent()){m.appendContent(ea,this.getRoot());this.updatePosition();}this._insertParent=ea;}return this;};ba.prototype.showAfterDelay=function(ea){"use strict";setTimeout(this.show.bind(this),ea);};ba.prototype.show=function(){"use strict";if(this._shown)return this;var ea=this.getRoot();this.inform('beforeshow');r.set(ea,'visibility','hidden');r.set(ea,'overflow','hidden');k.show(ea);m.appendContent(this.getInsertParent(),ea);if(this.updatePosition()!==false){this._shown=true;this.inform('show');ba.inform('show',this);if(!this._permanent)setTimeout(function(){if(this._shown)x.push(this);}.bind(this),0);}else k.hide(ea);r.set(ea,'visibility','');r.set(ea,'overflow','');this.inform('aftershow');return this;};ba.prototype.hide=function(){"use strict";if(this._hiding||!this._shown||this.inform('beforehide')===false)return this;this._hiding=true;if(this.inform('starthide')!==false)this.finishHide();return this;};ba.prototype.conditionShow=function(ea){"use strict";return ea?this.show():this.hide();};ba.prototype.finishHide=function(){"use strict";if(this._shown){if(!this._permanent)v(x,this);this._hiding=false;this._shown=false;k.hide(this.getRoot());this.inform('hide');ba.inform('hide',this);}};ba.prototype.isShown=function(){"use strict";return this._shown;};ba.prototype.updatePosition=function(){"use strict";return true;};ba.prototype.destroy=function(){"use strict";if(this.containsReactComponent)i.unmountComponentAtNode(this._reactContainer);this.finishHide();var ea=this.getRoot();m.remove(ea);this.destroyBehaviors();this.inform('destroy');ba.inform('destroy',this);l.remove(ea,'layer');this._root=this._causalElement=null;};ba.init=function(ea,fa){"use strict";ea.init(fa);};ba.initAndShow=function(ea,fa){"use strict";ea.init(fa).show();};ba.show=function(ea){"use strict";ea.show();};ba.showAfterDelay=function(ea,fa){"use strict";ea.showAfterDelay(fa);};ba.getTopmostLayer=function(){"use strict";return x[x.length-1];};Object.assign(ba,g);Object.assign(ba.prototype,{_initialized:false,_root:null,_shown:false,_hiding:false,_causalElement:null,_reactContainer:null});n.listen(document.documentElement,'keydown',function(event){if(p.filterEventTargets(event,'keydown'))for(var ea=x.length-1;ea>=0;ea--)if(x[ea].inform('key',event)===false)return false;},n.Priority.URGENT);var ca;n.listen(document.documentElement,'mousedown',function(event){ca=event.getTarget();});var da;n.listen(document.documentElement,'mouseup',function(event){da=event.getTarget();w(function(){ca=null;da=null;});});n.listen(document.documentElement,'click',function(event){var ea=ca,fa=da;ca=null;da=null;var ga=x.length;if(!ga)return;var ha=event.getTarget();if(ha!==fa||ha!==ea)return;if(!m.contains(document.documentElement,ha))return;if(!ha.offsetWidth)return;if(q.byClass(ha,'generic_dialog')||q.byClass(ha,"_3sod"))return;while(ga--){var ia=x[ga],ja=ia.getContentRoot();if(j.containsIncludingLayers(ja,ha))return;if(ia.inform('blur')===false||ia.isShown())return;}});e.exports=ba;},null);
__d("TabbableElements",["Style","createArrayFromMixed"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(l){if(l.tabIndex>0||(l.tabIndex===0&&l.getAttribute('tabIndex')!==null))return true;switch(l.tagName){case "A":return l.href&&l.rel!="ignore";case "INPUT":return l.type!="hidden"&&l.type!="file"&&!l.disabled;case "BUTTON":case "SELECT":case "TEXTAREA":return !l.disabled;}return false;}function j(l){if(l.offsetHeight===0&&l.offsetWidth===0)return false;while(l!==document&&g.get(l,'visibility')!='hidden')l=l.parentNode;return l===document;}var k={find:function(l){var m=h(l.getElementsByTagName("*"));return m.filter(k.isTabbable);},isTabbable:function(l){return i(l)&&j(l);}};e.exports=k;},null);
__d("focusWithinLayer",["DOMQuery","Focus","TabbableElements","getActiveElement"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(l){var m=g.scry(l,'.autofocus')[0],n=true;if(!m){var o=j();if(g.isNodeOfType(o,['input','textarea']))return;var p=i.find(l);for(var q=0;q<p.length;q++){var r=p[q];if(r.tagName!=='A'){m=p[q];break;}}}else if(m.tabIndex!==0)n=false;if(m){n?h.set(m):h.setWithoutOutline(m);}else if(!(l).offsetWidth){(l).tabIndex=0;h.setWithoutOutline(l);}}e.exports=k;},null);
__d("LayerAutoFocus",["focusWithinLayer"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;this._subscription=null;}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('aftershow',this._focus.bind(this));};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};h.prototype._focus=function(){"use strict";var i=this._layer.getRoot();i&&g(i);};e.exports=h;},null);
__d("LayerButtons",["Button","Event","Parent","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(l){"use strict";this._layer=l;}k.prototype.enable=function(){"use strict";this._listener=h.listen(this._layer.getRoot(),'click',this._handle.bind(this));};k.prototype.disable=function(){"use strict";this._listener.remove();this._listener=null;};k.prototype._handle=function(l){"use strict";var m=l.getTarget(),n=i.byClass(m,'layerConfirm');if(n){if(this._isButton(n)&&!g.isEnabled(n))return;if(this._layer.inform('confirm',n)===false)l.prevent();return;}var o=i.byClass(m,'layerCancel');if(o){if(this._isButton(o)&&!g.isEnabled(o))return;if(this._layer.inform('cancel',o)!==false)this._layer.hide();l.prevent();return;}var p=i.byClass(m,'layerButton');if(p){if(this._isButton(p)&&!g.isEnabled(p))return;if(this._layer.inform('button',p)===false)l.prevent();}};k.prototype._isButton=function(l){"use strict";return !!(i.byClass(l,'uiButton')||i.byClass(l,"_42ft"));};Object.assign(k.prototype,{_listener:null});e.exports=k;},null);
__d("LayerFormHooks",["Event"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;}h.prototype.enable=function(){"use strict";var i=this._layer.getRoot();this._subscriptions=[g.listen(i,'submit',this._onSubmit.bind(this)),g.listen(i,'success',this._onSuccess.bind(this)),g.listen(i,'error',this._onError.bind(this))];};h.prototype.disable=function(){"use strict";this._subscriptions.forEach(function(i){i.remove();});this._subscriptions=null;};h.prototype._onSubmit=function(event){"use strict";if(this._layer.inform('submit',event)===false)event.kill();};h.prototype._onSuccess=function(event){"use strict";if(this._layer.inform('success',event)===false)event.kill();};h.prototype._onError=function(event){"use strict";var i=event.getData();if(this._layer.inform('error',{response:i.response})===false)event.kill();};Object.assign(h.prototype,{_subscriptions:null});e.exports=h;},null);
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(m){"use strict";this._layer=m;}l.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('hide',this._handle.bind(this));};l.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};l.prototype._handle=function(m,event){"use strict";if(document.activeElement===document.body||i.contains(this._layer.getRoot(),document.activeElement)){var n=this._layer.getCausalElement();while(n&&(!n.offsetWidth)){var o=k.byClass(n,'uiToggle');if(o&&o.offsetWidth){n=h.scry(o,'[rel="toggle"]')[0];}else{var p=g.getContext(n);if(p){n=p;}else n=n.parentNode;}}if(n)if(n.tabIndex!=-1)j.setWithoutOutline(n);}};Object.assign(l.prototype,{_subscription:null});e.exports=l;},null);
__d("TabIsolation",["DOMQuery","Event","Focus","Keys","TabbableElements"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=[],m=0;function n(o){"use strict";this._root=o;this._eventHandler=null;this._identifier=m++;}n.prototype.enable=function(){"use strict";l.unshift(this._identifier);this._eventHandler=h.listen(window,'keydown',function(o){if(l[0]===this._identifier)this._tabHandler(o);}.bind(this),h.Priority.URGENT);};n.prototype.disable=function(){"use strict";var o;if(this._eventHandler){o=l.indexOf(this._identifier);if(o>-1)l.splice(o,1);this._eventHandler.remove();this._eventHandler=null;}};n.prototype._tabHandler=function(o){"use strict";if(h.getKeyCode(o)!==j.TAB)return;var p=o.getTarget();if(!p)return;var q=k.find(this._root),r=q[0],s=q[q.length-1],t=o.getModifiers().shift;if(t&&p===r){o.preventDefault();i.set(s);}else if((!t&&p===s)||!g.contains(this._root,p)){o.preventDefault();i.set(r);}};e.exports=n;},null);
__d("LayerTabIsolation",["TabIsolation"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;this._tabIsolation=null;}h.prototype.enable=function(){"use strict";this._tabIsolation=new g(this._layer.getRoot());this._subscriptions=[this._layer.subscribe('show',this._tabIsolation.enable.bind(this._tabIsolation)),this._layer.subscribe('hide',this._tabIsolation.disable.bind(this._tabIsolation))];};h.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._tabIsolation.disable();this._tabIsolation=null;};Object.assign(h.prototype,{_subscriptions:[]});e.exports=h;},null);
__d("Toggler",["Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","DOM","DOMQuery","Event","Focus","Keys","TabbableElements","arrayContains","createArrayFromMixed","cx","emptyFunction","ge","getContextualParent","getObjectValues","setImmediate","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();var aa=[],ba,ca=false;function da(){if(!ca){ca=true;y(function(){ca=false;});}}function ea(){ea=u;n.listen(document.documentElement,'click',function(event){if(ca)return;var la=event.getTarget();aa.forEach(function(ma){ma.clickedTarget=la;ma.active&&!ma.sticky&&!i.containsIncludingLayers(ma.getActive(),la)&&!ma.inTargetFlyout(la)&&ma.inActiveDialog()&&!ma.isIgnoredByModalLayer(la)&&ma.hide();});},n.Priority.URGENT);}var fa=z(h);for(var ga in fa)if(fa.hasOwnProperty(ga))ia[ga]=fa[ga];var ha=fa===null?null:fa.prototype;ia.prototype=Object.create(ha);ia.prototype.constructor=ia;ia.__superConstructor__=fa;function ia(){"use strict";fa.call(this);this.active=null;this.togglers={};this.setSticky(false);aa.push(this);this.subscribe(['show','hide'],ia.inform.bind(ia));return ea();}ia.prototype.show=function(la){"use strict";var ma=ja(this,la),na=ma.active;if(la!==na){na&&ma.hide();ma.active=la;j.addClass(la,'openToggler');var oa=l.scry(la,'a[rel="toggle"]');if(oa.length>0&&oa[0].getAttribute('data-target'))j.removeClass(v(oa[0].getAttribute('data-target')),'toggleTargetClosed');var pa=m.scry(la,'.uiToggleFlyout')[0];if(pa){var qa=q.find(pa)[0]||pa;if(qa.tabIndex==-1)qa.tabIndex=0;o.setWithoutOutline(qa);}if(oa.length>0){l.appendContent(la,ma.getToggler('next'));l.prependContent(la,ma.getToggler('prev'));}n.listen(la,'keydown',function(event){if(n.getKeyCode(event)===p.ESC)if(ma.isShown()){var ra=l.scry(la,'a[rel="toggle"]')[0];ra&&ra.focus();ma.hide();}});ma.inform('show',ma);}};ia.prototype.hide=function(la){"use strict";var ma=ja(this,la),na=ma.active;if(na&&(!la||la===na)){j.removeClass(na,'openToggler');var oa=l.scry(na,'a[rel="toggle"]');if(oa.length>0&&oa[0].getAttribute('data-target'))j.addClass(v(oa[0].getAttribute('data-target')),'toggleTargetClosed');x(ma.togglers).forEach(l.remove);ma.inform('hide',ma);ma.active=null;}};ia.prototype.toggle=function(la){"use strict";var ma=ja(this,la);if(ma.active===la){ma.hide();}else ma.show(la);da();};ia.prototype.getActive=function(){"use strict";return ja(this).active;};ia.prototype.isShown=function(){"use strict";return ja(this).active&&j.hasClass(ja(this).active,'openToggler');};ia.prototype.inTargetFlyout=function(la){"use strict";var ma=ka(this.getActive());return ma&&i.containsIncludingLayers(ma,la);};ia.prototype.inActiveDialog=function(){"use strict";var la=a.Dialog&&a.Dialog.getCurrent();return !la||l.contains(la.getRoot(),this.getActive());};ia.prototype.isIgnoredByModalLayer=function(la){"use strict";var ma=!!i.parentByClass(la,"_3qw"),na=!!i.parentByClass(this.getActive(),"_3qw");return ma&&!na;};ia.prototype.getToggler=function(la){"use strict";var ma=ja(this);if(!ma.togglers[la]){ma.togglers[la]=l.create('button',{className:'hideToggler',onfocus:function(){var na=l.scry(ma.active,'a[rel="toggle"]')[0];na&&na.focus();ma.hide();},style:{right:la==='next'?'0':''}});ma.togglers[la].setAttribute('type','button');}return this.togglers[la];};ia.prototype.setSticky=function(la){"use strict";var ma=ja(this);la=la!==false;if(la!==ma.sticky){ma.sticky=la;if(la){ma.$Toggler0&&ma.$Toggler0.unsubscribe();}else ma.$Toggler0=g.subscribe('pre_page_transition',ma.hide.bind(ma,null));}return ma;};ia.prototype.setPrePageTransitionCallback=function(la){"use strict";var ma=ja(this);ma.$Toggler0&&ma.$Toggler0.unsubscribe();ma.$Toggler0=g.subscribe('pre_page_transition',la);};ia.bootstrap=function(la){"use strict";var ma=la.parentNode;ia.getInstance(ma).toggle(ma);};ia.createInstance=function(la){"use strict";var ma=new ia().setSticky(true);k.set(la,'toggler',ma);return ma;};ia.destroyInstance=function(la){"use strict";k.remove(la,'toggler');};ia.getInstance=function(la){"use strict";while(la){var ma=k.get(la,'toggler');if(ma)return ma;if(j.hasClass(la,'uiToggleContext'))return ia.createInstance(la);la=w(la);}return (ba=ba||new ia());};ia.listen=function(la,ma,na){"use strict";return ia.subscribe(s(la),function(oa,pa){if(pa.getActive()===ma)return na(oa,pa);});};Object.assign(ia,ia.prototype,h);Object.assign(ia,{subscribe:(function(la){return function(ma,na){ma=s(ma);if(r(ma,'show'))aa.forEach(function(oa){if(oa.getActive())setTimeout(na.bind(null,'show',oa),0);});return la(ma,na);};})(ia.subscribe.bind(ia))});function ja(la,ma){if(la instanceof ia)return la;return ia.getInstance(ma);}function ka(la){var ma=l.scry(la,'a[rel="toggle"]');if(ma.length>0&&ma[0].getAttribute('data-target'))return v(ma[0].getAttribute('data-target'));}e.exports=ia;},null);
__d("LayerTogglerContext",["Toggler"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;}h.prototype.enable=function(){"use strict";this._root=this._layer.getRoot();g.createInstance(this._root).setSticky(false);};h.prototype.disable=function(){"use strict";g.destroyInstance(this._root);this._root=null;};e.exports=h;},null);
__d("shield",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){if(typeof h!='function')throw new TypeError();var j=Array.prototype.slice.call(arguments,2);return function(){return h.apply(i,j);};}e.exports=g;},null);
__d("DialogX",["Arbiter","CSS","DialogPosition","Event","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","LayerTogglerContext","ModalLayer","Style","Vector","cx","debounce","goURI","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();for(var z in l)if(l.hasOwnProperty(z))ba[z]=l[z];var aa=l===null?null:l.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=l;function ba(){"use strict";if(l!==null)l.apply(this,arguments);}ba.prototype._configure=function(da,ea){"use strict";aa._configure.call(this,da,ea);h.addClass(this.getRoot(),"_4-hy");if(da.autohide)var fa=this.subscribe('show',function(){fa.unsubscribe();setTimeout(y(this.hide,this),da.autohide);}.bind(this));if(da.redirectURI)var ga=this.subscribe('hide',function(){ga.unsubscribe();x(da.redirectURI);});this._fixedTopPosition=da.fixedTopPosition;};ba.prototype._getDefaultBehaviors=function(){"use strict";return aa._getDefaultBehaviors.call(this).concat([ca,s,m,n,o,q,r,p]);};ba.prototype._buildWrapper=function(da,ea){"use strict";var fa=da.xui?"_4t2a":"_t",ga=da.xui?"_59s7":"_1yv";this._innerContent=k.div(null,ea);this._wrapper=k.div({className:ga,role:"dialog","aria-labelledby":da.titleID||null},k.div({className:fa},this._innerContent));this.setWidth(da.width);return (k.div({className:"_10"},this._wrapper));};ba.prototype.getContentRoot=function(){"use strict";return this._wrapper;};ba.prototype.getInnerContent=function(){"use strict";return this._innerContent;};ba.prototype.updatePosition=function(){"use strict";var da;if(this._fixedTopPosition!=(void 0)){da=this._fixedTopPosition;}else{var ea=u.getElementDimensions(this._wrapper);da=i.calculateTopMargin(ea.x,ea.y);}t.set(this._wrapper,'margin-top',da+'px');this.inform('update_position',{type:'DialogX',top:da});};ba.prototype.setWidth=function(da){"use strict";da=Math.floor(da);if(da===this._width)return;this._width=da;t.set(this._wrapper,'width',da+'px');};ba.prototype.getWidth=function(){"use strict";return this._width;};ba.prototype.getFixedTopPosition=function(){"use strict";return this._fixedTopPosition;};function ca(da){"use strict";this._layer=da;}ca.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(['show','hide'],function(da){if(da==='show'){this._attach();g.inform('layer_shown',{type:'DialogX'});}else{this._detach();g.inform('layer_hidden',{type:'DialogX'});}}.bind(this));};ca.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach();};ca.prototype._attach=function(){"use strict";this._layer.updatePosition();this._resize=j.listen(window,'resize',w(this._layer.updatePosition.bind(this._layer)));};ca.prototype._detach=function(){"use strict";this._resize.remove();this._resize=null;};Object.assign(ca.prototype,{_subscription:null,_resize:null});e.exports=ba;},null);
__d("LayerHideOnBlur",["requestAnimationFrame"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe('show',this._attach.bind(this)),this._layer.subscribe('hide',this._detach.bind(this))];if(this._layer.isShown())this._attach();};h.prototype.disable=function(){"use strict";this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;};h.prototype._detach=function(){"use strict";this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null;};h.prototype._attach=function(){"use strict";this._onBlur=this._layer.subscribe('blur',function(){return g(function(){this._layer.hide();return false;}.bind(this));}.bind(this));};Object.assign(h.prototype,{_subscriptions:null,_onBlur:null});e.exports=h;},null);
__d("LayerHideOnEscape",["Event","Keys"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this._layer=j;}i.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('key',this._handle.bind(this));};i.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};i.prototype._handle=function(j,event){"use strict";if(g.getKeyCode(event)===h.ESC){this._layer.hide();return false;}};Object.assign(i.prototype,{_subscription:null});e.exports=i;},null);
__d("AbstractDialog.react",["DialogX","LayerHideOnBlur","LayerHideOnEscape","React"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=j,l=k.PropTypes,m={createSpec:function(n){return {displayName:n.displayName,propTypes:{behaviors:l.object,className:l.string,modal:l.bool,autohide:l.number,width:l.number,titleID:l.string,causalElement:l.object,causalElementRef:l.func,shown:l.bool,layerHideOnBlur:l.bool,hideOnEscape:l.bool,onToggle:l.func,fixedTopPosition:l.number},createLayer:function(o){var p=this.props.className,q=Object.assign({width:this.props.width,xui:true,autohide:this.props.autohide,classNames:p?p.split(' '):null,titleID:this.props.titleID,causalElement:this._getCausalElement(),fixedTopPosition:this.props.fixedTopPosition},(n||{})),r=Object.assign({},n.addedBehaviors,this.props.behaviors);if(this.props.layerHideOnBlur!==false)r.LayerHideOnBlur=h;if(this.props.hideOnEscape===true)r.LayerHideOnEscape=i;q.addedBehaviors=this.enumerateBehaviors(r);var s=new g(q,o);s.conditionShow(this.props.shown);return s;},receiveProps:function(o,p){this.updateBehaviors(p.behaviors,o.behaviors);if(this.layer){this.layer.setCausalElement(this._getCausalElement());this.layer.conditionShow(o.shown);this.layer.setWidth(o.width);o.shown&&this.layer.updatePosition();}},_getCausalElement:function(){var o;if(this.props.causalElementRef){o=j.findDOMNode(this.props.causalElementRef());}else o=this.props.causalElement;return o;}};}};e.exports=m;},null);
__d("ContextualDialogARIA",["DOM"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('beforeshow',this._addAriaAttribute.bind(this));};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};h.prototype._addAriaAttribute=function(){"use strict";var i=this._layer.getCausalElement();if(!i)return;var j=g.scry(this._layer.getRoot(),'.accessible_elem');if(j.length)i.setAttribute('aria-describedby',g.getID(j[0]));};e.exports=h;},null);
__d("AccessibleLayer",["DOM","Event","Focus","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(l){"use strict";this._layer=l;}k.prototype.enable=function(){"use strict";this._afterShowSubscription=this._layer.subscribe('aftershow',this._onAfterShow.bind(this));};k.prototype.disable=function(){"use strict";this._listener&&this._listener.remove();this._afterShowSubscription.unsubscribe();this._listener=this._afterShowSubscription=null;};k.prototype._closeListener=function(event){"use strict";var l=this._layer.getCausalElement();if(l)if(l.tabIndex==-1){l.tabIndex=0;i.setWithoutOutline(l);}else i.set(l);this._layer.hide();};k.prototype._onAfterShow=function(){"use strict";var l=this._layer.getContentRoot();if(g.scry(l,'.layer_close_elem')[0])return;var m=g.create('a',{className:'accessible_elem layer_close_elem',href:'#'},[j._("Close popup and return")]);g.appendContent(l,m);this._listener=h.listen(m,'click',this._closeListener.bind(this));};e.exports=k;},null);
__d("Locale",["Style","ExecutionEnvironment"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i;function j(){if(!h.canUseDOM){i=false;}else if(i===(void 0))i=('rtl'===g.get(document.body,'direction'));return i;}var k={isRTL:j};e.exports=k;},null);
__d("ContextualDialogArrow",["CSS","DOM","JSXDOM","Locale","Style","Vector","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={bottom:"_53ik",top:"_53il",right:"_53im",left:"_53in"},o={above:'bottom',below:'top',left:'right',right:'left'};function p(q){"use strict";this._layer=q;}p.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(['adjust','reposition'],this._handle.bind(this));g.addClass(this._layer.getContentRoot(),"_5v-0");};p.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;g.removeClass(this._layer.getContentRoot(),"_5v-0");};p.prototype._handle=function(q,r){"use strict";if(q==='adjust'){this._repositionArrow(r);}else this._repositionRoot(r);};p.prototype._repositionRoot=function(q){"use strict";var r=q.getAlignment();if(r=='center')return;var s=this._layer.getRoot(),t=this._layer.getContext(),u=q.isVertical(),v=this._layer.getArrowDimensions(),w=v.offset,x=v.length,y=l.getElementDimensions(t),z=u?y.x:y.y;if(z>=x+(w*2))return;var aa=(x/2)+w,ba=z/2,ca=parseInt(aa-ba,10);if(u){var da=null;if(r=='left'){da=j.isRTL()?'right':'left';}else da=j.isRTL()?'left':'right';var ea=parseInt(k.get(s,da),10);k.set(s,da,(ea-ca)+'px');}else{var fa=parseInt(k.get(s,'top'),10);k.set(s,'top',(fa-ca)+'px');}};p.prototype._repositionArrow=function(q){"use strict";var r=this._layer.getContentRoot(),s=q.getPosition(),t=o[s];for(var u in n)g.conditionClass(r,n[u],t===u);if(s=='none')return;if(!this._arrow)this._arrow=i.i({className:"_53io"});if(!h.contains(r,this._arrow))h.appendContent(r,this._arrow);k.set(this._arrow,'top','');k.set(this._arrow,'left','');k.set(this._arrow,'right','');k.set(this._arrow,'margin','');var v=p.getOffsetPercent(q),w=p.getOffset(q,v,this._layer),x=p.getOffsetSide(q);k.set(this._arrow,x,v+'%');k.set(this._arrow,'margin-'+x,w+'px');};p.getOffsetPercent=function(q){"use strict";var r=q.getAlignment(),s=q.getPosition();if(s=='above'||s=='below')if(r=='center'){return 50;}else if(r=='right')return 100;return 0;};p.getOffsetSide=function(q){"use strict";var r=q.isVertical();return r?(j.isRTL()?'right':'left'):'top';};p.getOffset=function(q,r,s){"use strict";var t=s.getArrowDimensions(),u=t.offset,v=t.length,w=q.getAlignment(),x=(w=='center')?0:u;x+=v*r/100;if(w!='left')x*=-1;return x;};Object.assign(p.prototype,{_subscription:null,_arrow:null});e.exports=p;},null);
__d("ContextualDialogDefaultTheme",["cx"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={wrapperClassName:"_53ip",arrowDimensions:{offset:15,length:16}};e.exports=h;},null);
__d("Rect",["Vector","$"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k,l,m,n){"use strict";if(arguments.length===1){if(j instanceof i)return j;if(j instanceof g)return new i(j.y,j.x,j.y,j.x,j.domain);return i.getElementBounds(h(j));}Object.assign(this,{t:j,r:k,b:l,l:m,domain:n||'pure'});}i.prototype.w=function(){"use strict";return this.r-this.l;};i.prototype.h=function(){"use strict";return this.b-this.t;};i.prototype.toString=function(){"use strict";return '(('+this.l+', '+this.t+'), ('+this.r+', '+this.b+'))';};i.prototype.contains=function(j){"use strict";j=new i(j).convertTo(this.domain);var k=this;return (k.l<=j.l&&k.r>=j.r&&k.t<=j.t&&k.b>=j.b);};i.prototype.isEqualTo=function(j){"use strict";return (this.t===j.t&&this.r===j.r&&this.b===j.b&&this.l===j.l&&this.domain===j.domain);};i.prototype.add=function(j,k){"use strict";if(arguments.length==1){if(j.domain!='pure')j=j.convertTo(this.domain);return this.add(j.x,j.y);}var l=parseFloat(j),m=parseFloat(k);return new i(this.t+m,this.r+l,this.b+m,this.l+l,this.domain);};i.prototype.sub=function(j,k){"use strict";if(arguments.length==1){return this.add(j.mul(-1));}else return this.add(-j,-k);};i.prototype.rotateAroundOrigin=function(j){"use strict";var k=this.getCenter().rotate(j*Math.PI/2),l,m;if(j%2){l=this.h();m=this.w();}else{l=this.w();m=this.h();}var n=k.y-m/2,o=k.x-l/2,p=n+m,q=o+l;return new i(n,q,p,o,this.domain);};i.prototype.boundWithin=function(j){"use strict";var k=0,l=0;if(this.l<j.l){k=j.l-this.l;}else if(this.r>j.r)k=j.r-this.r;if(this.t<j.t){l=j.t-this.t;}else if(this.b>j.b)l=j.b-this.b;return this.add(k,l);};i.prototype.getCenter=function(){"use strict";return new g(this.l+this.w()/2,this.t+this.h()/2,this.domain);};i.prototype.getTop=function(){"use strict";return this.t;};i.prototype.getLeft=function(){"use strict";return this.l;};i.prototype.getPositionVector=function(){"use strict";return new g(this.l,this.t,this.domain);};i.prototype.getDimensionVector=function(){"use strict";return new g(this.w(),this.h(),'pure');};i.prototype.convertTo=function(j){"use strict";if(this.domain==j)return this;if(j=='pure')return new i(this.t,this.r,this.b,this.l,'pure');if(this.domain=='pure')return new i(0,0,0,0);var k=new g(this.l,this.t,this.domain).convertTo(j);return new i(k.y,k.x+this.w(),k.y+this.h(),k.x,j);};i.deserialize=function(j){"use strict";var k=j.split(':');return new i(parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[0]));};i.newFromVectors=function(j,k){"use strict";return new i(j.y,j.x+k.x,j.y+k.y,j.x,j.domain);};i.getElementBounds=function(j){"use strict";return i.newFromVectors(g.getElementPosition(j),g.getElementDimensions(j));};i.getViewportBounds=function(){"use strict";return i.newFromVectors(g.getScrollPosition(),g.getViewportDimensions());};i.getViewportWithoutScrollbarsBounds=function(){"use strict";return i.newFromVectors(g.getScrollPosition(),g.getViewportWithoutScrollbarDimensions());};i.minimumBoundingBox=function(j){"use strict";var k=new i(Math.min(),Math.max(),Math.max(),Math.min()),l;for(var m=0;m<j.length;m++){l=j[m];k.t=Math.min(k.t,l.t);k.r=Math.max(k.r,l.r);k.b=Math.max(k.b,l.b);k.l=Math.min(k.l,l.l);}return k;};e.exports=i;},null);
__d("getOverlayZIndex",["Style"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode;}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(g.get(m,'position')!='static'){var n=parseInt(g.get(m,'z-index'),10);if(!isNaN(n))return n;}}return 0;}e.exports=h;},null);
__d("ContextualLayerDimensions",["DOM","Locale","Rect","Vector","ViewportBounds","ge","getOverlayZIndex"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={getViewportRect:function(o){var p=l('globalContainer'),q=o.getContext(),r=(p&&g.contains(p,q))||m(q)<300,s=i.getViewportWithoutScrollbarsBounds();if(r){s.t+=k.getTop();if(h.isRTL()){s.r-=k.getLeft();s.l+=k.getRight();}else{s.r-=k.getRight();s.l+=k.getLeft();}}return s;},getLayerRect:function(o,p){var q=o.getContextBounds('viewport'),r=o.simulateOrientation(p,function(){return j.getElementDimensions(o.getContentRoot());}),s=q.t+p.getOffsetY();if(p.getPosition()==='above'){s-=r.y;}else if(p.getPosition()==='below')s+=q.b-q.t;var t=q.l+p.getOffsetX(),u=q.r-q.l;if(p.isVertical()){var v=p.getAlignment();if(v==='center'){t+=(u-r.x)/2;}else if((v==='right')!==h.isRTL()){t+=u-r.x+p.getArrowOffset();}else t-=p.getArrowOffset();}else if((p.getPosition()==='right')!==h.isRTL()){t+=u;}else t-=r.x;return new i(s,t+r.x,s+r.y,t,'viewport');}};e.exports=n;},null);
__d("ContextualDialogKeepInViewport",["ContextualLayerDimensions","Event","Style","Vector","throttle"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(m){"use strict";this._layer=m;this._listeners=[];this._subscription=null;this._minimumTop=null;}l.prototype.enable=function(){"use strict";var m=this._layer.getArrowDimensions();this._arrowOffset=m.offset;var n=m.length;this._arrowBuffer=this._arrowOffset+n;this._subscription=this._layer.subscribe(['show','hide','reposition'],function(o,p){if(this._layer.isFixed())return;if(o=='reposition'){this._calculateMinimumTop(p);this._adjustForScroll();}else if(o=='show'){this._attachScroll();this._adjustForScroll();}else this._detachScroll();}.bind(this));if(this._layer.isShown())this._attachScroll();};l.prototype.disable=function(){"use strict";if(this._layer.isShown())this._detachScroll();this._subscription.unsubscribe();this._subscription=null;};l.prototype._attachScroll=function(){"use strict";var m=k(this._adjustForScroll.bind(this)),n=this._layer.getContextScrollParent()||window;this._listeners=[h.listen(n,'scroll',m),h.listen(window,'resize',m)];};l.prototype._detachScroll=function(){"use strict";while(this._listeners.length)this._listeners.pop().remove();this._listeners=[];};l.prototype._getContentHeight=function(){"use strict";if(!this._layer._contentWrapper)return 0;return j.getElementDimensions(this._layer._contentWrapper).y;};l.prototype._getContextY=function(){"use strict";return j.getElementPosition(this._layer.getContext()).y;};l.prototype._calculateMinimumTop=function(m){"use strict";if(m.isVertical())return;this._minimumTop=(this._getContextY()-(this._getContentHeight()-this._arrowBuffer)+m.getOffsetY());};l.prototype._adjustForScroll=function(){"use strict";var m=this._layer.getOrientation(),n=this._layer.getContent();if(m.isVertical()||!n)return;var o=g.getViewportRect(this._layer),p=o.b-this._minimumTop;if(p<0)return;var q=this._getContentHeight(),r=q-(this._arrowBuffer+this._arrowOffset),s=Math.max(0,Math.min(r,r-(p-q)));i.set(n,'top',-s+'px');};e.exports=l;},null);
__d("ContextualDialogFitInViewport_PUSHSAFE",["Style","Vector"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=50,j=10;function k(l){"use strict";this._layer=l;this._contentHeight=null;this._contextY=null;}k.prototype.enable=function(){"use strict";var l=this._layer.getArrowDimensions();this._arrowOffset=l.offset;var m=l.length;this._arrowBuffer=this._arrowOffset+m;this._subscription=this._layer.subscribe(['reposition'],function(n,o){if(!this._layer.isFixed()||o.isVertical())return;this._adjustPosition();}.bind(this));};k.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};k.prototype._getContentHeight=function(){"use strict";return h.getElementDimensions(this._layer._contentWrapper).y;};k.prototype._getContextY=function(){"use strict";return h.getElementPosition(this._layer.getContext(),'viewport').y;};k.prototype._adjustPosition=function(){"use strict";var l=this._getContextY(),m=this._getContentHeight();if(l===this._contextY&&m===this._contentHeight)return;this._contextY=l;this._contentHeight=m;var n=h.getViewportDimensions().y,o=Math.min(Math.max(0,l+m+j-n),Math.max(0,l-i),m-this._arrowOffset-this._arrowBuffer);g.set(this._layer.getContent(),'top',-o+'px');};e.exports=k;},null);
__d("ARIA",["DOM","emptyFunction","ge"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j,k,l=function(){j=i('ariaAssertiveAlert');if(!j){j=g.create('div',{id:'ariaAssertiveAlert',className:'accessible_elem','aria-live':'assertive'});g.appendContent(document.body,j);}k=i('ariaPoliteAlert');if(!k){k=j.cloneNode(false);k.setAttribute('id','ariaPoliteAlert');k.setAttribute('aria-live','polite');g.appendContent(document.body,k);}l=h;};function m(o,p){l();var q=p?j:k;g.setContent(q,o);}var n={owns:function(o,p){o.setAttribute('aria-owns',g.getID(p));},setPopup:function(o,p){var q=g.getID(p);o.setAttribute('aria-owns',q);o.setAttribute('aria-haspopup','true');if(o.tabIndex==-1)o.tabIndex=0;},announce:function(o){m(o,true);},notify:function(o){m(o);}};e.exports=n;},null);
__d("BusyUIManager",["UserAgent_DEPRECATED"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=false,i=[];function j(l){if(!g.webkit()){i.push([l,l.style.cursor]);l.style.cursor='progress';}}var k={lookBusy:function(l){if(l)j(l);if(h)return;h=true;j(document.documentElement);},stopLookingBusy:function(){if(!h)return;h=false;while(i.length){var l=i.pop(),m=l[0],n=l[1];if(m.style)m.style.cursor=n||'';}}};e.exports=k;},null);
__d("LinkController",["Event","DataStore","Parent","trackReferrer"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k='LinkControllerHandler',l=[],m=[];function n(event){var r=event.getTarget(),s=i.byTag(r,'a'),t=s&&s.getAttribute('href',2);if(!t||s.rel||!p(t)||(r.nodeName=='INPUT'&&r.type=='file')||h.get(s,k))return;var u=g.listen(s,'click',function(v){if(t.charAt(t.length-1)=='#'){v.prevent();return;}j(s,t);o(s,v);});h.set(s,k,u);}function o(r,event){if(r.target||r.rel||event.getModifiers().any||(event.which&&event.which!=1))return;var s=l.concat(m);for(var t=0,u=s.length;t<u;t++)if(s[t](r,event)===false)return event.prevent();}function p(r){var s=r.match(/^(\w+):/);return !s||s[1].match(/^http/i);}var q={registerHandler:function(r){l.push(r);},registerFallbackHandler:function(r){m.push(r);}};g.listen(document.documentElement,'mousedown',n);g.listen(document.documentElement,'keydown',n);e.exports=q;},null);
__d("computeRelativeURI",["URI","isFacebookURI","isEmpty"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l,m){if(!m)return l;if(m.charAt(0)=='/')return m;var n=l.split('/').slice(0,-1);n[0]!=='';m.split('/').forEach(function(o){if(!(o=='.'))if(o=='..'){if(n.length>1)n=n.slice(0,-1);}else n.push(o);});return n.join('/');}function k(l,m){var n=new g(),o=m;l=new g(l);m=new g(m);if(m.getDomain()&&!h(m))return o;var p=l,q=['Protocol','Domain','Port','Path','QueryData','Fragment'];q.forEach(function(r){var s=r=='Path'&&p===l;if(s)n.setPath(j(l.getPath(),m.getPath()));if(!i(m['get'+r]()))p=m;if(!s)n['set'+r](p['get'+r]());});return n;}e.exports=k;},null);
__d("PageTransitionsRegistrar",["Bootloader","BusyUIManager","DOMQuery","Event","Form","LinkController","Parent","Run","URI","computeRelativeURI","goURI","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();n.onAfterLoad(function(){g.loadModules(["PageTransitions"],function(){});});var s=[],t=[],u={registerHandler:function(ca,da){da=da||5;if(!s[da])s[da]=[];s[da].push(ca);},removeHandler:function(ca,da){da=da||5;var ea=-1;if(s[da])ea=s.indexOf(ca);if(ea>-1)s.splice(ea,1);},registerCompletionCallback:function(ca){t.push(ca);},getMostRecentURI:ba,_getTransitionHandlers:function(){return s;},_getCompletionCallbacks:function(){return t;},_resetCompletionCallbacks:function(){t=[];}},v=null,w=null;function x(ca){w=ca;r(function(){w=null;},0);}function y(event){var ca=w;if(ca){if(!event.isDefaultPrevented()){z(w);h.lookBusy(ca);q(ca.getAttribute('href'));}event.kill();}else{v=event.getTarget();r(function(){v=null;},0);}}function z(ca){var da=ca.getAttribute('href'),ea=p(ba().getQualifiedURI(),da).toString();if(da!=ea)ca.setAttribute('href',ea);}function aa(event){var ca=event.getTarget();if(k.getAttribute(ca,'rel')||k.getAttribute(ca,'target'))return;var da=new o(k.getAttribute(ca,'action')),ea=p(ba(),da);ca.setAttribute('action',ea.toString());if((k.getAttribute(ca,'method')||'GET').toUpperCase()=='GET'){var fa=k.serialize(ca),ga=v;if(ga&&(i.isNodeOfType(ga,'input')&&ga.type==='submit'||(ga=m.byTag(ga,'button')))&&ga.name)fa[ga.name]=ga.value;q(ea.addQueryData(fa));event.kill();}}l.registerFallbackHandler(x);j.listen(document,'click',y,j.Priority._BUBBLE);j.listen(document,'submit',aa,j.Priority._BUBBLE);function ba(){if(a.PageTransitions&&a.PageTransitions.isInitialized()){return a.PageTransitions.getMostRecentURI();}else{var ca=o.getRequestURI(false),da=ca.getUnqualifiedURI(),ea=new o(da).setFragment(null),fa=da.getFragment();if(fa.charAt(0)==='!'&&ea.toString()===fa.substr(1))da=ea;return da;}}e.exports=u;},null);
__d("LayerHideOnTransition",["PageTransitionsRegistrar"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;}h.prototype.enable=function(){"use strict";this._enabled=true;if(!this._subscribed)setTimeout(this._subscribe.bind(this),0);};h.prototype.disable=function(){"use strict";this._enabled=false;};h.prototype._handler=function(){"use strict";if(this._enabled)this._layer.hide();this._subscribe();};h.prototype._subscribe=function(){"use strict";g.registerHandler(this._handler.bind(this));this._subscribed=true;};Object.assign(h.prototype,{_enabled:false,_subscribed:false});e.exports=h;},null);
__d("SVGChecker",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={isSVG:function(g){return !!g.ownerSVGElement||g.tagName.toLowerCase()==="svg";},isDisplayed:function(g){try{var i=g.getBBox();if(i&&(i.height===0||i.width===0))return false;}catch(h){return false;}return true;}};},null);
__d("getOwnObjectValues",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return Object.keys(h).map(function(i){return h[i];});}e.exports=g;},null);
__d("getOffsetParent",["Style"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){var j=i.parentNode;if(!j||j===document.documentElement)return document.documentElement;if(g.get(j,'position')!=='static')return j;return j===document.body?document.documentElement:h(j);}e.exports=h;},null);
__d("ContextualLayer",["Arbiter","ARIA","ContextualThing","CSS","DataStore","DOM","Event","Layer","LayerHideOnTransition","Locale","Parent","Rect","Scroll","Style","SVGChecker","Vector","arrayContains","containsNode","emptyFunction","getOwnObjectValues","getOffsetParent","getOverlayZIndex","removeFromArray","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){b.__markCompiled&&b.__markCompiled();function ea(ma){return ma.getPosition()==='left'||(ma.isVertical()&&ma.getAlignment()==='right');}for(var fa in n)if(n.hasOwnProperty(fa))ha[fa]=n[fa];var ga=n===null?null:n.prototype;ha.prototype=Object.create(ga);ha.prototype.constructor=ha;ha.__superConstructor__=n;function ha(){"use strict";if(n!==null)n.apply(this,arguments);}ha.prototype._configure=function(ma,na){"use strict";ga._configure.call(this,ma,na);if(ma.shouldSetARIAProperties===false)this._shouldSetARIAProperties=ma.shouldSetARIAProperties;if(ma.context){this.setContext(ma.context);}else if(ma.contextID){this._setContextID(ma.contextID);}else if(ma.contextSelector)this._setContextSelector(ma.contextSelector);this.setPosition(ma.position);this.setAlignment(ma.alignment);this.setOffsetX(ma.offsetX);this.setOffsetY(ma.offsetY);this.setArrowDimensions(ma.arrowDimensions);this._content=na;};ha.prototype._getDefaultBehaviors=function(){"use strict";var ma=ha.getDefaultBehaviorsAsObject();return ga._getDefaultBehaviors.call(this).concat(z(ma));};ha.prototype._buildWrapper=function(ma,na){"use strict";this._contentWrapper=l.create('div',{className:'uiContextualLayer'},na);return l.create('div',{className:'uiContextualLayerPositioner'},this._contentWrapper);};ha.prototype.getInsertParent=function(){"use strict";var ma=this._insertParent;if(!ma){var na=this.getContext();if(na)ma=q.byClass(na,'uiContextualLayerParent');}return ma||ga.getInsertParent.call(this);};ha.prototype.setContent=function(ma){"use strict";this._content=ma;l.setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this;};ha.prototype.setContext=function(ma){"use strict";return this.setContextWithBounds(ma,null);};ha.prototype.setContextWithBounds=function(ma,na){"use strict";if(this._contextNode===ma&&na&&this._contextBounds&&na.isEqualTo(this._contextBounds))return this;this._contextNode=ma;var oa=(na&&this._contextBounds&&na.t===this._contextBounds.t&&na.r===this._contextBounds.r&&na.b===this._contextBounds.b&&na.l===this._contextBounds.l);if(oa)return this;this._contextBounds=na||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){i.register(this.getRoot(),this._contextNode);this.updatePosition();}this._setParentSubscription();this.setARIAProperties();return this;};ha.prototype.shouldSetARIAProperties=function(ma){"use strict";this._shouldSetARIAProperties=ma;return this;};ha.prototype.setARIAProperties=function(){"use strict";if(this._shouldSetARIAProperties)h.setPopup(this.getCausalElement(),this.getRoot());return this;};ha.prototype._setContextID=function(ma){"use strict";this._contextSelector='#'+ma;this._contextNode=null;};ha.prototype._setContextSelector=function(ma){"use strict";this._contextSelector=ma;this._contextNode=null;};ha.prototype.getCausalElement=function(){"use strict";return ga.getCausalElement.call(this)||this.getContext();};ha.prototype._setParentSubscription=function(){"use strict";var ma=this.getContext(),na=null;while(ma!==null){na=k.get(ma,'layer');if(na)break;ma=ma.parentNode;}if(na===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null;}if(na)this._parentSubscription=na.subscribe('hide',this.hide.bind(this));this._parentLayer=na;};ha.prototype.setPosition=function(ma){"use strict";if(this.getOrientation().setDefaultPosition(ma))this._shown&&this.updatePosition();return this;};ha.prototype.setAlignment=function(ma){"use strict";if(this.getOrientation().setDefaultAlignment(ma))this._shown&&this.updatePosition();return this;};ha.prototype.setOffsetX=function(ma){"use strict";if(this.getOrientation().setDefaultOffsetX(ma))this._shown&&this.updatePosition();return this;};ha.prototype.setArrowDimensions=function(ma){"use strict";if(ma&&this.getOrientation().setArrowOffset(ma.offset))this._shown&&this.updatePosition();return this;};ha.prototype.setOffsetY=function(ma){"use strict";if(this.getOrientation().setDefaultOffsetY(ma))this._shown&&this.updatePosition();return this;};ha.prototype.getPosition=function(){"use strict";return this.getOrientation().getPosition();};ha.prototype.getOrientation=function(){"use strict";if(!this._orientation)this._orientation=new la();return this._orientation;};ha.prototype.getContentRoot=function(){"use strict";return this._contentWrapper;};ha.prototype.getContent=function(){"use strict";return this._content;};ha.prototype.getContext=function(){"use strict";if(!this._contextNode)this._contextNode=l.find(document,this._contextSelector);return this._contextNode;};ha.prototype.getContextBounds=function(ma){"use strict";if(this._contextBounds)return this._contextBounds.convertTo(ma);var na=this.getContext();return r.newFromVectors(v.getElementPosition(na,ma),v.getElementDimensions(na));};ha.prototype.getContextScrollParent=function(){"use strict";if(!this._contextScrollParent){this._contextScrollParent=t.getScrollParent(this.getContext());}else if(l.isElementNode(this._contextScrollParent)&&!x(document.documentElement,this._contextScrollParent))this._contextScrollParent=t.getScrollParent(this.getContext());return this._contextScrollParent;};ha.prototype.setInsertParent=function(ma){"use strict";this._insertScrollParent=null;return ga.setInsertParent.call(this,ma);};ha.prototype.getInsertScrollParent=function(){"use strict";if(!this._insertScrollParent)this._insertScrollParent=t.getScrollParent(this.getInsertParent());return this._insertScrollParent;};ha.prototype.show=function(){"use strict";if(this._shown)return this;ga.show.call(this);if(this._shown){i.register(this.getRoot(),this.getContext());ia.push(this);this._resizeListener=this._resizeListener||m.listen(window,'resize',da(this.updatePosition.bind(this)));}return this;};ha.prototype.finishHide=function(){"use strict";ca(ia,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;return ga.finishHide.call(this);};ha.prototype.isFixed=function(){"use strict";return (t.isFixed(this.getContext())&&!t.isFixed(this.getInsertParent()));};ha.prototype.updatePosition=function(){"use strict";var ma=this.getContext();if(!ma)return false;var na=this.isFixed();if(!na&&!(ma.offsetParent||(u.isSVG(ma)&&u.isDisplayed(ma))))return false;var oa=this.getRoot();t.set(oa,'width',v.getViewportDimensions().x+'px');var pa=this.getOrientation();this.inform('adjust',pa.reset());if(!pa.isValid())return false;this._updateWrapperPosition(pa);this._updateWrapperClass(pa);j.conditionClass(oa,'uiContextualLayerPositionerFixed',na);var qa,ra,sa=na?'viewport':'document',ta=na?document.documentElement:aa(oa);if(ta===document.documentElement){qa=new v(0,0);ra=document.documentElement.clientWidth;}else if(!oa.offsetParent){return false;}else{qa=v.getElementPosition(ta,sa);ra=ta.offsetWidth;if(ta!==document.body)qa=qa.sub(new v(s.getLeft(ta),s.getTop(ta)));}var ua=this.getContextBounds(sa),va=ua.l-qa.x,wa=ua.t-qa.y,xa=ua.h(),ya=ua.w(),za=p.isRTL();if(pa.getPosition()==='below')wa+=xa;if((pa.getPosition()==='right'||(pa.isVertical()&&pa.getAlignment()==='right'))!=za)va+=ya;var ab=pa.getOffsetX();if(pa.isVertical()&&pa.getAlignment()==='center')ab+=(ya-this.getContentRoot().offsetWidth)/2;if(za)ab*=-1;var bb='left',cb=Math.floor(va+ab);if(ea(pa)!==za){bb='right';cb=ra-cb;}t.set(oa,bb,cb+'px');t.set(oa,bb==='left'?'right':'left','');var db=this.getInsertScrollParent(),eb;if(db!==window){eb=db.clientWidth;}else eb=document.documentElement.clientWidth;var fb=v.getElementPosition(oa).x;if(bb==='left'&&eb-fb>0){t.set(oa,'width',(eb-fb)+'px');}else if(bb==='right'&&fb+oa.offsetWidth>0){t.set(oa,'width',fb+oa.offsetWidth+'px');}else t.set(oa,'width','');t.set(oa,'top',(wa+pa.getOffsetY())+'px');var gb=ba(ma,this.getInsertParent());t.set(oa,'z-index',gb>200?gb:'');this.inform('reposition',pa);return true;};ha.prototype._updateWrapperPosition=function(ma){"use strict";var na=ma.getPosition()==='above';t.set(this._contentWrapper,'bottom',na?'0':null);var oa=p.isRTL()?'left':'right',pa=ea(ma);t.set(this._contentWrapper,oa,pa?'0':null);};ha.prototype._updateWrapperClass=function(ma){"use strict";var na=ma.getClassName();if(na===this._orientationClass)return;if(this._orientationClass)j.removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=na;j.addClass(this._contentWrapper,na);};ha.prototype.simulateOrientation=function(ma,na){"use strict";var oa=ma.getClassName();if(oa===this._orientationClass){return na();}else{if(this._orientationClass)j.removeClass(this._contentWrapper,this._orientationClass);j.addClass(this._contentWrapper,oa);var pa=na();j.removeClass(this._contentWrapper,oa);if(this._orientationClass)j.addClass(this._contentWrapper,this._orientationClass);return pa;}};ha.prototype.destroy=function(){"use strict";ga.destroy.call(this);this._contentWrapper=null;this._content=null;return this;};ha.prototype.getArrowDimensions=function(){"use strict";return this._config.arrowDimensions||{offset:0,length:0};};ha.getDefaultBehaviorsAsObject=function(){"use strict";return {LayerHideOnTransition:o};};var ia=[];g.subscribe('reflow',function(){ia.forEach(function(ma){if(ma.updatePosition()===false)ma.hide();});});Object.assign(ha.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:true});var ja=y.thatReturnsArgument,ka=y.thatReturnsArgument;function la(){"use strict";this._default={_position:'above',_alignment:'left',_offsetX:0,_offsetY:0,_valid:true};this.reset();}la.prototype.setPosition=function(ma){"use strict";this._position=ja(ma);return this;};la.prototype.setAlignment=function(ma){"use strict";this._alignment=ka(ma);return this;};la.prototype.getOppositePosition=function(){"use strict";return la.OPPOSITE[this.getPosition()];};la.prototype.invalidate=function(){"use strict";this._valid=false;return this;};la.prototype.getPosition=function(){"use strict";return this._position||'above';};la.prototype.getAlignment=function(){"use strict";return this._alignment||'left';};la.prototype.getOffsetX=function(){"use strict";var ma=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)ma*=-1;}else if(this._default._alignment!==this._alignment)ma*=-1;return ma;};la.prototype.getOffsetY=function(){"use strict";var ma=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)ma*=-1;return ma;};la.prototype.getClassName=function(){"use strict";var ma=this.getAlignment(),na=this.getPosition();if(na==='below'){if(ma==='left'){return 'uiContextualLayerBelowLeft';}else if(ma==='right'){return 'uiContextualLayerBelowRight';}else return 'uiContextualLayerBelowCenter';}else if(na==='above'){if(ma==='left'){return 'uiContextualLayerAboveLeft';}else if(ma==='right'){return 'uiContextualLayerAboveRight';}else return 'uiContextualLayerAboveCenter';}else if(na==='left'){return 'uiContextualLayerLeft';}else return 'uiContextualLayerRight';};la.prototype.isValid=function(){"use strict";return this._valid;};la.prototype.isVertical=function(){"use strict";return this.getPosition()==='above'||this.getPosition()==='below';};la.prototype.reset=function(){"use strict";Object.assign(this,this._default);return this;};la.prototype.setDefaultPosition=function(ma){"use strict";var na=this._default._position;this._default._position=ja(ma);return na!==ma;};la.prototype.setDefaultAlignment=function(ma){"use strict";var na=this._default._alignment;this._default._alignment=ka(ma);return na!==ma;};la.prototype.setDefaultOffsetX=function(ma){"use strict";var na=this._default._offsetX;this._default._offsetX=ma;return na!==ma;};la.prototype.setArrowOffset=function(ma){"use strict";var na=this._default._arrowOffset;this._default._arrowOffset=ma;return na!==ma;};la.prototype.getArrowOffset=function(){"use strict";return this._default._arrowOffset||0;};la.prototype.setDefaultOffsetY=function(ma){"use strict";var na=this._default._offsetY;this._default._offsetY=ma;return na!==ma;};la.OPPOSITE={above:'below',below:'above',left:'right',right:'left'};e.exports=ha;},null);
__d("LayerMouseHooks",["Arbiter","ContextualThing","Event","Layer"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=new g();function l(m){"use strict";this._layer=m;this._subscriptions=[];this._currentlyActive=false;}l.prototype.enable=function(){"use strict";this._subscriptions=[k.subscribe('mouseenter',this._handleActive.bind(this)),k.subscribe('mouseleave',this._handleInactive.bind(this)),this._layer.subscribe('hide',function(){this._currentlyActive=false;}.bind(this))];};l.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=[];this._currentlyActive=false;};l.prototype._handleActive=function(m,n){"use strict";if(!this._currentlyActive&&this._isNodeWithinStack(n)){this._layer.inform('mouseenter');this._currentlyActive=true;}};l.prototype._handleInactive=function(m,n){"use strict";if(this._currentlyActive)if(!n||!this._isNodeWithinStack(n)){this._layer.inform('mouseleave');this._currentlyActive=false;}};l.prototype._isNodeWithinStack=function(m){"use strict";return h.containsIncludingLayers(this._layer.getContentRoot(),m);};j.subscribe('show',function(m,n){var o=n.getContentRoot(),p=[i.listen(o,'mouseenter',function(){k.inform('mouseenter',o);}),i.listen(o,'mouseleave',function(r){k.inform('mouseleave',r.getRelatedTarget());})],q=n.subscribe('hide',function(){while(p.length)p.pop().remove();q.unsubscribe();p=q=null;});});e.exports=l;},null);
__d("ContextualDialog",["ContextualDialogARIA","AccessibleLayer","ContextualDialogArrow","ContextualDialogDefaultTheme","ContextualDialogKeepInViewport","ContextualDialogFitInViewport_PUSHSAFE","ContextualLayer","CSS","DOM","Event","JSXDOM","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerHideOnTransition","LayerMouseHooks","Style","csx","cx","invariant","removeFromArray","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();var ca=0,da=300;for(var ea in m)if(m.hasOwnProperty(ea))ga[ea]=m[ea];var fa=m===null?null:m.prototype;ga.prototype=Object.create(fa);ga.prototype.constructor=ga;ga.__superConstructor__=m;function ga(ha,ia){"use strict";m.call(this,ha,ia);this._footer=null;}ga.prototype._configure=function(ha,ia){"use strict";Object.assign(ha,ha.theme||j);var ja=ha.arrowBehavior||i;ha.addedBehaviors=ha.addedBehaviors||[];ha.addedBehaviors.push(ja);fa._configure.call(this,ha,ia);this._footer=o.scry(ia,"div._572u")[0];if(this._footer)if(this._footer.children.length===1&&this._footer.children[0].nodeName==='DIV'&&this._footer.children[0].children.length===0){this._footer.parentNode.removeChild(this._footer);}else n.addClass(this.getContentRoot(),"_kc");if(ha.hoverContext)this._registerHoverHandlers(ha.hoverContext,ha.hoverShowDelay,ha.hoverHideDelay);};ga.prototype._registerHoverHandlers=function(ha,ia,ja){"use strict";if(ia==null)ia=ca;if(ja==null)ja=da;var ka,la,ma=function(event){clearTimeout(la);ka=setTimeout(ba(this.show,this),ia);}.bind(this),na=function(event){if(this._isHoverLocked())return;clearTimeout(ka);la=setTimeout(this.hide.bind(this),ja);}.bind(this),oa=p.listen(ha,'mouseenter',ma),pa=p.listen(ha,'mouseleave',na),qa=this.subscribe('mouseenter',ma),ra=this.subscribe('mouseleave',na);this.subscribe('destroy',function(){clearTimeout(la);oa.remove();pa.remove();qa.unsubscribe();ra.unsubscribe();});};ga.prototype._getDefaultBehaviors=function(){"use strict";var ha=fa._getDefaultBehaviors.call(this);aa(ha,u);return ha.concat([h,t,k,l,r,s,v,g]);};ga.prototype._buildWrapper=function(ha,ia){"use strict";this._innerWrapper=q.div(null,ia);var ja=fa._buildWrapper.call(this,ha,this._innerWrapper);n.addClass(ja,ha.wrapperClassName);this.replaceEntireLayerContents(ia);z(this.getContent()===ia);this.setWidth(ha.width);return ja;};ga.prototype.getContentRoot=function(){"use strict";z(!!this._innerWrapper);return this._innerWrapper;};ga.prototype.setContent=function(ha){"use strict";z(false);};ga.prototype.replaceEntireLayerContents=function(ha){"use strict";this._content=null;o.empty(this.getContentRoot());this.setInnerContent(ha);};ga.prototype.setInnerContent=function(ha){"use strict";n.addClass(ha,"_53ij");if(this.getContent()){o.replace(this.getContent(),ha);}else o.appendContent(this.getContentRoot(),ha);this._content=ha;this.isShown()&&this.updatePosition();};ga.prototype.setWidth=function(ha){"use strict";w.set(this.getContentRoot(),'width',ha?Math.floor(ha)+'px':'');return this;};ga.prototype.getFooter=function(){"use strict";return this._footer;};ga.prototype.lockHover=function(){"use strict";this._hoverLocked=true;return this;};ga.prototype.unlockHover=function(){"use strict";this._hoverLocked=false;return this;};ga.prototype._isHoverLocked=function(){"use strict";return !!this._hoverLocked;};ga.setContext=function(ha,ia){"use strict";ha.setContext(ia);};e.exports=ga;},null);
__d("ReactAbstractContextualDialog",["ContextualDialog","ContextualDialogArrow","LayerAutoFocus","LayerHideOnEscape","LayerRefocusOnHide","React"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=l,n=m.PropTypes,o={createSpec:function(p){return {displayName:p.displayName,propTypes:{position:n.oneOf(['above','below','left','right']),alignment:n.oneOf(['left','center','right']),offsetX:n.number,offsetY:n.number,width:n.number,autoFocus:n.bool,focusContextOnHide:n.bool,arrowBehavior:n.func,behaviors:n.object,shown:n.bool,context:n.object,contextRef:n.func,hoverContext:n.object,hoverContextRef:n.func,hoverShowDelay:n.number,hoverHideDelay:n.number,hideOnEscape:n.bool,onToggle:n.func,hasActionableContext:n.bool},immutableProps:{modal:null},createLayer:function(q){var r=this.props.context||l.findDOMNode(this.props.contextRef()),s=this.props.hoverContext||(this.props.hoverContextRef&&l.findDOMNode(this.props.hoverContextRef())),t=Object.assign({context:r,hoverContext:s,hoverShowDelay:this.props.hoverShowDelay,hoverHideDelay:this.props.hoverHideDelay,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,width:this.props.width,shouldSetARIAProperties:!this.props.hasActionableContext,arrowBehavior:this.props.arrowBehavior||h,addedBehaviors:this.enumerateBehaviors(this.props.behaviors)},(p||{})),u=new g(t,q);if(this.props.contextBounds)u.setContextWithBounds(r,this.props.contextBounds);if(this.props.autoFocus!==false)u.enableBehavior(i);if(this.props.hideOnEscape===true)u.enableBehavior(j);if(this.props.focusContextOnHide===false)u.disableBehavior(k);u.conditionShow(this.props.shown);return u;},receiveProps:function(q,r){this.updateBehaviors(r.behaviors,q.behaviors);var s=q.context||(q.contextRef&&l.findDOMNode(q.contextRef()));if(s)if(q.contextBounds){this.layer.setContextWithBounds(s,q.contextBounds);}else this.layer.setContext(s);this.layer.setPosition(q.position).setAlignment(q.alignment).setOffsetX(q.offsetX).setOffsetY(q.offsetY).setWidth(q.width).conditionShow(q.shown);}};}};e.exports=o;},null);
__d("InlineBlock.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l={baseline:null,bottom:"_6d",middle:"_6b",top:"_6e"},m=g.createClass({displayName:"InlineBlock",propTypes:{alignv:k.oneOf(['baseline','bottom','middle','top']),height:k.number,fullWidth:k.bool},getDefaultProps:function(){return {alignv:'baseline',fullWidth:false};},render:function(){var n=l[this.props.alignv],o="_6a";if(this.props.fullWidth)o=i(o,"_5u5j");var p=i(o,n);if(this.props.height!=null){var q=g.createElement("div",{className:i("_6a",n),style:{height:this.props.height+'px'}});return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,o),height:null}),q,g.createElement("div",{className:p},this.props.children)));}else return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,p)}),this.props.children));}});e.exports=m;},null);
__d("ContextualLayerHideOnScroll",["Event"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe('contextchange',this._handleContextChange.bind(this)),this._layer.subscribe('show',this.attach.bind(this)),this._layer.subscribe('hide',this.detach.bind(this))];};h.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();};h.prototype.attach=function(){"use strict";if(this._listener)return;var i=this._layer.getContextScrollParent();if(i===window)return;this._listener=g.listen(i,'scroll',this._layer.hide.bind(this._layer));};h.prototype.detach=function(){"use strict";this._listener&&this._listener.remove();this._listener=null;};h.prototype._handleContextChange=function(){"use strict";this.detach();if(this._layer.isShown())this.attach();};Object.assign(h.prototype,{_subscriptions:[]});e.exports=h;},null);
__d("SubscriptionsHandler",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(k){return k.remove||k.reset||k.unsubscribe;}function i(k){var l=h(k);l.call(k);}function j(){"use strict";this._subscriptions=[];}j.prototype.addSubscriptions=function(){"use strict";for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);k.forEach(function(n){var o=h(n);g(o);});if(this._subscriptions){this._subscriptions=this._subscriptions.concat(k);}else k.forEach(i);};j.prototype.engage=function(){"use strict";this._subscriptions=this._subscriptions||[];};j.prototype.release=function(){"use strict";if(this._subscriptions){this._subscriptions.forEach(i);this._subscriptions=null;}};e.exports=j;},null);
__d("curry",["bind"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g(null,g,null);e.exports=h;},null);
__d("ParameterizedPopover",["Arbiter","ArbiterMixin","CSS","DataStore","Event","Focus","Keys","KeyStatus","LayerHideOnEscape","SubscriptionsHandler","Toggler","curry","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();q.subscribe(['show','hide'],function(x,y){var z=j.get(y.getActive(),'Popover');if(z)if(x==='show'){z.showLayer();}else z.hideLayer();});var t=s(h);for(var u in t)if(t.hasOwnProperty(u))w[u]=t[u];var v=t===null?null:t.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=t;function w(x,y,z,aa){"use strict";t.call(this);this._root=x;this._triggerElem=y;this._behaviors=z;this._config=aa||{};this._disabled=!!this._config.disabled;this._listeners=new p();if(!this._disabled&&(y.nodeName!=='A'||y.rel!=='toggle'))this._setupClickListener();this._setupKeyListener();y.setAttribute('role','button');j.set(x,'Popover',this);if(q.getActive()===x)this.showLayer();}w.prototype.ensureInit=function(){"use strict";if(!this._layer)this._init();};w.prototype.showLayer=function(){"use strict";this.ensureInit();this._layer.show();q.show(this._root);i.addClass(this._root,'selected');this.inform('show');this._triggerElem.setAttribute('aria-expanded','true');};w.prototype.getContentRoot=function(){"use strict";return this._root;};w.prototype.getLayer=function(){"use strict";return this._layer;};w.prototype.hideLayer=function(){"use strict";this._layer.hide();this._triggerElem.setAttribute('aria-expanded','false');};w.prototype.isShown=function(){"use strict";return this._layer&&this._layer.isShown();};w.prototype.setLayerContent=function(x){"use strict";this.ensureInit();if(this._layer.setContent)this._layer.setContent(x);};w.prototype._init=function(){"use strict";var x=this._config.layer;x.enableBehaviors([o]);q.createInstance(x.getRoot()).setSticky(false);x.subscribe('hide',this._onLayerHide.bind(this));this._behaviors&&x.enableBehaviors(this._behaviors);this._layer=x;this.inform('init',null,g.BEHAVIOR_PERSISTENT);};w.prototype._onLayerHide=function(){"use strict";q.hide(this._root);i.removeClass(this._root,'selected');this.inform('hide');if(n.getKeyDownCode()===m.ESC)l.set(this._triggerElem);};w.prototype.enable=function(){"use strict";if(!this._disabled)return;this._listeners.engage();this._setupClickListener();this._setupKeyListener();this._disabled=false;};w.prototype.disable=function(){"use strict";if(this._disabled)return;if(this.isShown())this.hideLayer();this._listeners.release();if(this._triggerElem.getAttribute('rel')==='toggle')this._triggerElem.removeAttribute('rel');this._disabled=true;};w.prototype._setupClickListener=function(){"use strict";this._listeners.addSubscriptions(k.listen(this._triggerElem,'click',r(q.bootstrap,this._triggerElem)));};w.prototype._setupKeyListener=function(){"use strict";this._listeners.addSubscriptions(k.listen(this._triggerElem,'keydown',this._handleKeyEvent.bind(this)));};w.prototype._handleKeyEvent=function(event){"use strict";if(event.getModifiers().any)return;var x=k.getKeyCode(event);switch(x){case m.SPACE:case m.DOWN:case m.UP:if(x===m.SPACE||!this.isShown())q.bootstrap(this._triggerElem);break;default:return;}event.prevent();};w.prototype.destroy=function(){"use strict";this.disable();j.remove(this._root,'Popover');};Object.assign(w.prototype,{_layer:null});e.exports=w;},null);
__d("Popover",["ContextualLayer","ContextualLayerHideOnScroll","DOM","ParameterizedPopover"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(){"use strict";if(j!==null)j.apply(this,arguments);}m.prototype._init=function(){"use strict";var n=new g({context:this._triggerElem,position:'below',arrowDimensions:{offset:12,length:16}},i.create('div'));n.enableBehaviors([h]);this._config.layer=n;if(this._config.alignh)n.setAlignment(this._config.alignh);if(this._config.layer_content)n.setContent(this._config.layer_content);if(this._config.position)n.setPosition(this._config.position);l._init.call(this);};e.exports=m;},null);
__d("PopoverMenu",["Arbiter","ArbiterMixin","ARIA","BehaviorsMixin","Event","Focus","Keys","KeyStatus","SubscriptionsHandler","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=p(h,j);for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v,w,x){"use strict";q.call(this);this._popover=u;this._triggerElem=v;this._initialMenu=w;this._subscriptions=new o();this._subscriptions.addSubscriptions(u.subscribe('init',this._onLayerInit.bind(this)),u.subscribe('show',this._onPopoverShow.bind(this)),u.subscribe('hide',this._onPopoverHide.bind(this)),k.listen(this._triggerElem,'keydown',this._handleKeyEventOnTrigger.bind(this)));x&&this.enableBehaviors(x);}t.prototype.getContentRoot=function(){"use strict";return this._popover.getContentRoot();};t.prototype.setMenu=function(u){"use strict";this._menu=u;var v=u.getRoot();this._popover.setLayerContent(v);u.subscribe('done',this._onMenuDone.bind(this));if(this._popoverShown)this._menu.onShow();i.owns(this._triggerElem,v);this.inform('setMenu',null,g.BEHAVIOR_PERSISTENT);};t.prototype.getPopover=function(){"use strict";return this._popover;};t.prototype.getTriggerElem=function(){"use strict";return this._triggerElem;};t.prototype.getInitialMenu=function(){"use strict";return this._initialMenu;};t.prototype.getMenu=function(){"use strict";return this._menu;};t.prototype._onLayerInit=function(){"use strict";this.setMenu(this._initialMenu);this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));};t.prototype._onPopoverShow=function(){"use strict";if(this._menu)this._menu.onShow();this._popoverShown=true;};t.prototype._onPopoverHide=function(){"use strict";if(this._menu)this._menu.onHide();this._popoverShown=false;};t.prototype._handleKeyEvent=function(u,v){"use strict";var w=k.getKeyCode(v);if(w===m.TAB){this._popover.hideLayer();l.set(this._triggerElem);return;}if(v.getModifiers().any)return;switch(w){case m.RETURN:return;default:if(this._menu.handleKeydown(w,v)===false){this._menu.blur();this._menu.handleKeydown(w,v);}break;}v.prevent();};t.prototype._handleKeyEventOnTrigger=function(u){"use strict";var v=k.getKeyCode(u),w=String.fromCharCode(v).toLowerCase();if(/^\w$/.test(w)){this._popover.showLayer();this._menu.blur();if(this._menu.handleKeydown(v,u)===false){this._popover.hideLayer();l.set(this._triggerElem);}}};t.prototype._onMenuDone=function(u){"use strict";var v=n.isKeyDown();setTimeout(function(){this._popover.hideLayer();if(v)l.set(this._triggerElem);}.bind(this),0);};t.prototype.enable=function(){"use strict";this._popover.enable();};t.prototype.disable=function(){"use strict";this._popover.disable();};t.prototype.destroy=function(){"use strict";this._subscriptions.release();this._popover.destroy();};Object.assign(t.prototype,{_popoverShown:false});e.exports=t;},null);
__d("areEqual",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=[],h=[];function i(k,l){var m=g.length?g.pop():[],n=h.length?h.pop():[],o=j(k,l,m,n);m.length=0;n.length=0;g.push(m);h.push(n);return o;}function j(k,l,m,n){if(k===l)return k!==0||1/k==1/l;if(k==null||l==null)return false;if(typeof k!='object'||typeof l!='object')return false;var o=Object.prototype.toString,p=o.call(k);if(p!=o.call(l))return false;switch(p){case '[object String]':return k==String(l);case '[object Number]':return isNaN(k)||isNaN(l)?false:k==Number(l);case '[object Date]':case '[object Boolean]':return +k==+l;case '[object RegExp]':return k.source==l.source&&k.global==l.global&&k.multiline==l.multiline&&k.ignoreCase==l.ignoreCase;}var q=m.length;while(q--)if(m[q]==k)return n[q]==l;m.push(k);n.push(l);var r=0;if(p==='[object Array]'){r=k.length;if(r!==l.length)return false;while(r--)if(!j(k[r],l[r],m,n))return false;}else{if(k.constructor!==l.constructor)return false;if(k.hasOwnProperty('valueOf')&&l.hasOwnProperty('valueOf'))return k.valueOf()==l.valueOf();var s=Object.keys(k);if(s.length!=Object.keys(l).length)return false;for(var t=0;t<s.length;t++)if(!j(k[s[t]],l[s[t]],m,n))return false;}m.pop();n.pop();return true;}e.exports=i;},null);
__d("PopoverMenu.react",["CSS","InlineBlock.react","Popover","PopoverMenu","React","ReactElement","SubscriptionsHandler","cx","joinClasses","areEqual","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=k,s=r.PropTypes,t=k.createClass({displayName:"ReactPopoverMenu",statics:{getFirstChild:function(u){var v=u.children;return Array.isArray(v)?v[0]:v;},getButtonSize:function(u){var v=t.getFirstChild(u);return v&&v.type.getButtonSize(v.props);}},propTypes:{alignh:s.oneOf(['left','center','right']),alignv:s.oneOf(['baseline','bottom','middle','top']),position:s.oneOf(['above','below','left','right']),layerBehaviors:s.array,menu:s.object,disabled:s.bool},getDefaultProps:function(){return {alignv:'middle'};},_menuSubscriptions:null,componentDidMount:function(){var u=k.findDOMNode(this.refs.root),v=u.firstChild;g.addClass(v,"_p");this._popover=new i(u,v,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});this._popoverMenu=new j(this._popover,v,this._createMenu(this.props.menu),this.props.behaviors);},componentDidUpdate:function(u){if(!p(u.menu,this.props.menu))q(this._recreateMenu);if(this.props.alignh!==u.alignh)this._popoverMenu.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==u.disabled)if(this.props.disabled){this._popoverMenu.disable();}else this._popoverMenu.enable();},_recreateMenu:function(){if(this._menuSubscriptions){this._menuSubscriptions.release();this._menuSubscriptions=null;}this._unmountCurrentMenuItems();this._popoverMenu.setMenu(this._createMenu(this.props.menu));},render:function(){var u=k.Children.map(this.props.children,function(v,w){if(w===0){return l.cloneAndReplaceProps(v,Object.assign({},v.props,{className:o(v.props.className,"_p")}));}else return v;});return (k.createElement(h,k.__spread({},this.props,{className:o(this.props.className,"uiPopover"),ref:"root",disabled:null}),u));},componentWillUnmount:function(){this.hidePopover();if(this._menuSubscriptions){this._menuSubscriptions.release();this._menuSubscriptions=null;}this._popoverMenu&&this._popoverMenu.destroy();},_createMenu:function(u){var v=u.props,w=new u.type(v);this._menuSubscriptions=new m();if(v.onItemClick)this._menuSubscriptions.addSubscriptions(w.subscribe('itemclick',v.onItemClick));if(v.onItemFocus)this._menuSubscriptions.addSubscriptions(w.subscribe('focus',v.onItemFocus));if(v.onItemBlur)this._menuSubscriptions.addSubscriptions(w.subscribe('blur',v.onItemBlur));if(v.onChange)this._menuSubscriptions.addSubscriptions(w.subscribe('change',v.onChange));if(this.props.onShow)this._menuSubscriptions.addSubscriptions(this._popover.subscribe('show',this.props.onShow));if(this.props.onHide)this._menuSubscriptions.addSubscriptions(this._popover.subscribe('hide',this.props.onHide));return w;},getMenu:function(){return this._popoverMenu.getMenu();},showPopover:function(u){this._popover.showLayer();if(u){var v=this._popoverMenu.getMenu();v.blur();v.focusAnItem(u);}},hidePopover:function(){var u=this._popover;if(u&&u.isShown())u.hideLayer();},getFocusedItem:function(){var u=this._popoverMenu.getMenu();return u.getFocusedItem();},_unmountCurrentMenuItems:function(){var u=this.getMenu();u&&u.forEachItem(function(v){var w=v.getRoot().firstElementChild;w&&k.unmountComponentAtNode(w);});}});e.exports=t;},null);
__d("PopoverMenuInterface",["ArbiterMixin","emptyFunction","mixin"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i(g);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(){"use strict";j.call(this);}m.prototype.done=function(){"use strict";this.inform('done');};Object.assign(m.prototype,{getRoot:h,onShow:h,onHide:h,focusAnItem:h.thatReturnsFalse,blur:h,handleKeydown:h.thatReturnsFalse});e.exports=m;},null);
__d("getVendorPrefixedName",["ExecutionEnvironment","UserAgent","camelize","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={},l=['Webkit','ms','Moz','O'],m=new RegExp('^('+l.join('|')+')'),n=g.canUseDOM?document.createElement('div').style:{};function o(r){for(var s=0;s<l.length;s++){var t=l[s]+r;if(t in n)return t;}return null;}function p(r){switch(r){case 'lineClamp':if(h.isEngine('WebKit >= 315.14.2'))return 'WebkitLineClamp';return null;default:return null;}}function q(r){var s=i(r);if(k[s]===(void 0)){var t=s.charAt(0).toUpperCase()+s.slice(1);if(m.test(t))j(false);if(g.canUseDOM){k[s]=(s in n)?s:o(t);}else k[s]=p(s);}return k[s];}e.exports=q;},null);
__d("BrowserSupportCore",["getVendorPrefixedName"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={hasCSSAnimations:function(){return !!g('animationName');},hasCSSTransforms:function(){return !!g('transform');},hasCSS3DTransforms:function(){return !!g('perspective');},hasCSSTransitions:function(){return !!g('transition');}};e.exports=h;},null);
__d("BrowserSupport",["BrowserSupportCore","DOM","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={},m=i.canUseDOM?document.createElement('div'):null,n={hasCSSAnimations:g.hasCSSAnimations,hasCSSTransforms:g.hasCSSTransforms,hasCSS3DTransforms:g.hasCSS3DTransforms,hasCSSTransitions:g.hasCSSTransitions,hasPositionSticky:function(){if(!i.canUseDOM)return false;if(l.sticky===(void 0)){m.style.cssText='position:-moz-sticky;position:-webkit-sticky;'+'position:-o-sticky;position:-ms-sticky;position:sticky;';l.sticky=/sticky/.test(m.style.position);}return l.sticky;},hasPointerEvents:function(){if(!i.canUseDOM)return false;if(l.pointerEvents===(void 0))if(!('pointerEvents' in m.style)){l.pointerEvents=false;}else{m.style.pointerEvents='auto';m.style.pointerEvents='x';h.appendContent(document.documentElement,m);l.pointerEvents=window.getComputedStyle&&getComputedStyle(m,'').pointerEvents==='auto';h.remove(m);}return l.pointerEvents;},hasFileAPI:function(){if(l.fileAPI===(void 0))l.fileAPI=!(j.webkit()&&!j.chrome()&&j.windows())&&'FileList' in window&&'FormData' in window;return l.fileAPI;},hasBlobFactory:function(){if(l.blobFactory===(void 0))l.blobFactory=!!a.blob;return l.blobFactory;},getTransitionEndEvent:function(){if(l.transitionEnd===(void 0)){var o={transition:'transitionend',WebkitTransition:'webkitTransitionEnd',MozTransition:'mozTransitionEnd',OTransition:'oTransitionEnd'},p=k('transition');l.transitionEnd=o[p]||null;}return l.transitionEnd;},hasClipboardEvents:function(){if(!i.canUseDOM)return false;if(l.clipboardEvents===(void 0)){var o=document.createElement('textarea'),p='oncut',q=(p in o);if(!q){o.setAttribute(p,'return;');q=typeof o[p]=='function';}l.clipboardEvents=q;}return l.clipboardEvents;},hasCanvasRenderingContext2D:function(){return !!window.CanvasRenderingContext2D;}};e.exports=n;},null);
__d("Animation",["BrowserSupport","CSS","DataStore","DOM","Style","getVendorPrefixedName","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p,q=[],r;function s(ja){if(a==this){return new s(ja);}else{this.obj=ja;this._reset_state();this.queue=[];this.last_attr=null;}}function t(ja){if(g.hasCSS3DTransforms()){return w(ja);}else return v(ja);}function u(ja){return ja.toFixed(8);}function v(ja){ja=[ja[0],ja[4],ja[1],ja[5],ja[12],ja[13]];return 'matrix('+ja.map(u).join(',')+')';}function w(ja){return 'matrix3d('+ja.map(u).join(',')+')';}function x(ja,ka){if(!ja)ja=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var la=[];for(var ma=0;ma<4;ma++)for(var na=0;na<4;na++){var oa=0;for(var pa=0;pa<4;pa++)oa+=ja[ma*4+pa]*ka[pa*4+na];la[ma*4+na]=oa;}return la;}var y=0;s.prototype._reset_state=function(){this.state={attrs:{},duration:500};};s.prototype.stop=function(){this._reset_state();this.queue=[];return this;};s.prototype._build_container=function(){if(this.container_div){this._refresh_container();return;}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return;}var ja=document.createElement('div');ja.style.padding='0px';ja.style.margin='0px';ja.style.border='0px';ja.__animation_refs=1;var ka=this.obj.childNodes;while(ka.length)ja.appendChild(ka[0]);this.obj.appendChild(ja);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow='hidden';this.container_div=ja;this._refresh_container();};s.prototype._refresh_container=function(){this.container_div.style.height='auto';this.container_div.style.width='auto';this.container_div.style.height=this.container_div.offsetHeight+'px';this.container_div.style.width=this.container_div.offsetWidth+'px';};s.prototype._destroy_container=function(){if(!this.container_div)return;if(!--this.container_div.__animation_refs){var ja=this.container_div.childNodes;while(ja.length)this.obj.appendChild(ja[0]);this.obj.removeChild(this.container_div);}this.container_div=null;this.obj.style.overflow=this._orig_overflow;};var z=1,aa=2,ba=3;s.prototype._attr=function(ja,ka,la){ja=ja.replace(/-[a-z]/gi,function(na){return na.substring(1).toUpperCase();});var ma=false;switch(ja){case 'background':this._attr('backgroundColor',ka,la);return this;case 'backgroundColor':case 'borderColor':case 'color':ka=fa(ka);break;case 'opacity':ka=parseFloat(ka,10);break;case 'height':case 'width':if(ka=='auto'){ma=true;}else ka=parseInt(ka,10);break;case 'borderWidth':case 'lineHeight':case 'fontSize':case 'margin':case 'marginBottom':case 'marginLeft':case 'marginRight':case 'marginTop':case 'padding':case 'paddingBottom':case 'paddingLeft':case 'paddingRight':case 'paddingTop':case 'bottom':case 'left':case 'right':case 'top':case 'scrollTop':case 'scrollLeft':ka=parseInt(ka,10);break;case 'rotateX':case 'rotateY':case 'rotateZ':ka=parseInt(ka,10)*Math.PI/180;break;case 'translateX':case 'translateY':case 'translateZ':case 'scaleX':case 'scaleY':case 'scaleZ':ka=parseFloat(ka,10);break;case 'rotate3d':this._attr('rotateX',ka[0],la);this._attr('rotateY',ka[1],la);this._attr('rotateZ',ka[2],la);return this;case 'rotate':this._attr('rotateZ',ka,la);return this;case 'scale3d':this._attr('scaleZ',ka[2],la);case 'scale':this._attr('scaleX',ka[0],la);this._attr('scaleY',ka[1],la);return this;case 'translate3d':this._attr('translateZ',ka[2],la);case 'translate':this._attr('translateX',ka[0],la);this._attr('translateY',ka[1],la);return this;default:throw new Error(ja+' is not a supported attribute!');}if(this.state.attrs[ja]===(void 0))this.state.attrs[ja]={};if(ma)this.state.attrs[ja].auto=true;switch(la){case ba:this.state.attrs[ja].start=ka;break;case aa:this.state.attrs[ja].by=true;case z:this.state.attrs[ja].value=ka;break;}};function ca(ja){var ka=parseInt(k.get(ja,'paddingLeft'),10),la=parseInt(k.get(ja,'paddingRight'),10),ma=parseInt(k.get(ja,'borderLeftWidth'),10),na=parseInt(k.get(ja,'borderRightWidth'),10);return ja.offsetWidth-(ka?ka:0)-(la?la:0)-(ma?ma:0)-(na?na:0);}function da(ja){var ka=parseInt(k.get(ja,'paddingTop'),10),la=parseInt(k.get(ja,'paddingBottom'),10),ma=parseInt(k.get(ja,'borderTopWidth'),10),na=parseInt(k.get(ja,'borderBottomWidth'),10);return ja.offsetHeight-(ka?ka:0)-(la?la:0)-(ma?ma:0)-(na?na:0);}s.prototype.to=function(ja,ka){if(ka===(void 0)){this._attr(this.last_attr,ja,z);}else{this._attr(ja,ka,z);this.last_attr=ja;}return this;};s.prototype.by=function(ja,ka){if(ka===(void 0)){this._attr(this.last_attr,ja,aa);}else{this._attr(ja,ka,aa);this.last_attr=ja;}return this;};s.prototype.from=function(ja,ka){if(ka===(void 0)){this._attr(this.last_attr,ja,ba);}else{this._attr(ja,ka,ba);this.last_attr=ja;}return this;};s.prototype.duration=function(ja){this.state.duration=ja?ja:0;return this;};s.prototype.checkpoint=function(ja,ka){if(ja===(void 0))ja=1;this.state.checkpoint=ja;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=ka;return this;};s.prototype.blind=function(){this.state.blind=true;return this;};s.prototype.hide=function(){this.state.hide=true;return this;};s.prototype.show=function(){this.state.show=true;return this;};s.prototype.ease=function(ja){this.state.ease=ja;return this;};s.prototype.go=function(){var ja=Date.now();this.queue.push(this.state);for(var ka=0;ka<this.queue.length;ka++){this.queue[ka].start=ja-y;if(this.queue[ka].checkpoint)ja+=this.queue[ka].checkpoint*this.queue[ka].duration;}ga(this);return this;};s.prototype._show=function(){h.show(this.obj);};s.prototype._hide=function(){h.hide(this.obj);};s.prototype._frame=function(ja){var ka=true,la=false,ma;function na(kb){return document.documentElement[kb]||document.body[kb];}function oa(kb,lb){return ((kb===document.body)?na(lb):kb[lb]);}function pa(kb,lb){return ((lb.lastScrollTop!==(void 0)&&lb.lastScrollTop!==oa(kb.obj,'scrollTop'))||(lb.lastScrollLeft!==(void 0)&&lb.lastScrollLeft!==oa(kb.obj,'scrollLeft')));}function qa(kb,lb){lb.lastScrollTop=oa(kb.obj,'scrollTop');lb.lastScrollLeft=oa(kb.obj,'scrollLeft');}for(var ra=0;ra<this.queue.length;ra++){var sa=this.queue[ra];if(sa.start>ja){ka=false;continue;}if(sa.checkpointcb){this._callback(sa.checkpointcb,ja-sa.start);sa.checkpointcb=null;}if(sa.started===(void 0)){if(sa.show)this._show();for(var ta in sa.attrs){if(sa.attrs[ta].start!==(void 0))continue;switch(ta){case 'backgroundColor':case 'borderColor':case 'color':ma=fa(k.get(this.obj,ta=='borderColor'?'borderLeftColor':ta));if(sa.attrs[ta].by){sa.attrs[ta].value[0]=Math.min(255,Math.max(0,sa.attrs[ta].value[0]+ma[0]));sa.attrs[ta].value[1]=Math.min(255,Math.max(0,sa.attrs[ta].value[1]+ma[1]));sa.attrs[ta].value[2]=Math.min(255,Math.max(0,sa.attrs[ta].value[2]+ma[2]));}break;case 'opacity':ma=k.getOpacity(this.obj);if(sa.attrs[ta].by)sa.attrs[ta].value=Math.min(1,Math.max(0,sa.attrs[ta].value+ma));break;case 'height':ma=da(this.obj);if(sa.attrs[ta].by)sa.attrs[ta].value+=ma;break;case 'width':ma=ca(this.obj);if(sa.attrs[ta].by)sa.attrs[ta].value+=ma;break;case 'scrollLeft':case 'scrollTop':ma=oa(this.obj,ta);if(sa.attrs[ta].by)sa.attrs[ta].value+=ma;qa(this,sa);break;case 'rotateX':case 'rotateY':case 'rotateZ':case 'translateX':case 'translateY':case 'translateZ':ma=i.get(this.obj,ta,0);if(sa.attrs[ta].by)sa.attrs[ta].value+=ma;break;case 'scaleX':case 'scaleY':case 'scaleZ':ma=i.get(this.obj,ta,1);if(sa.attrs[ta].by)sa.attrs[ta].value+=ma;break;default:ma=parseInt(k.get(this.obj,ta),10)||0;if(sa.attrs[ta].by)sa.attrs[ta].value+=ma;break;}sa.attrs[ta].start=ma;}if((sa.attrs.height&&sa.attrs.height.auto)||(sa.attrs.width&&sa.attrs.width.auto)){this._destroy_container();for(var ta in {height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})if(sa.attrs[ta])this.obj.style[ta]=sa.attrs[ta].value+(typeof sa.attrs[ta].value=='number'?'px':'');if(sa.attrs.height&&sa.attrs.height.auto)sa.attrs.height.value=da(this.obj);if(sa.attrs.width&&sa.attrs.width.auto)sa.attrs.width.value=ca(this.obj);}sa.started=true;if(sa.blind)this._build_container();}var ua=(ja-sa.start)/sa.duration;if(ua>=1){ua=1;if(sa.hide)this._hide();}else ka=false;var va=sa.ease?sa.ease(ua):ua;if(!la&&ua!=1&&sa.blind)la=true;for(var ta in sa.attrs)switch(ta){case 'backgroundColor':case 'borderColor':case 'color':if(sa.attrs[ta].start[3]!=sa.attrs[ta].value[3]){this.obj.style[ta]='rgba('+ea(va,sa.attrs[ta].start[0],sa.attrs[ta].value[0],true)+','+ea(va,sa.attrs[ta].start[1],sa.attrs[ta].value[1],true)+','+ea(va,sa.attrs[ta].start[2],sa.attrs[ta].value[2],true)+','+ea(va,sa.attrs[ta].start[3],sa.attrs[ta].value[3],false)+')';}else this.obj.style[ta]='rgb('+ea(va,sa.attrs[ta].start[0],sa.attrs[ta].value[0],true)+','+ea(va,sa.attrs[ta].start[1],sa.attrs[ta].value[1],true)+','+ea(va,sa.attrs[ta].start[2],sa.attrs[ta].value[2],true)+')';break;case 'opacity':k.set(this.obj,'opacity',ea(va,sa.attrs[ta].start,sa.attrs[ta].value));break;case 'height':case 'width':this.obj.style[ta]=va==1&&sa.attrs[ta].auto?'auto':ea(va,sa.attrs[ta].start,sa.attrs[ta].value,true)+'px';break;case 'scrollLeft':case 'scrollTop':var wa=this.obj===document.body;if(pa(this,sa)){delete sa.attrs.scrollTop;delete sa.attrs.scrollLeft;}else{var xa=ea(va,sa.attrs[ta].start,sa.attrs[ta].value,true);if(!wa){this.obj[ta]=xa;}else if(ta=='scrollLeft'){a.scrollTo(xa,na('scrollTop'));}else a.scrollTo(na('scrollLeft'),xa);qa(this,sa);}break;case 'translateX':case 'translateY':case 'translateZ':case 'rotateX':case 'rotateY':case 'rotateZ':case 'scaleX':case 'scaleY':case 'scaleZ':i.set(this.obj,ta,ea(va,sa.attrs[ta].start,sa.attrs[ta].value,false));break;default:this.obj.style[ta]=ea(va,sa.attrs[ta].start,sa.attrs[ta].value,true)+'px';break;}var ya=null,za=i.get(this.obj,'translateX',0),ab=i.get(this.obj,'translateY',0),bb=i.get(this.obj,'translateZ',0);if(za||ab||bb)ya=x(ya,[1,0,0,0,0,1,0,0,0,0,1,0,za,ab,bb,1]);var cb=i.get(this.obj,'scaleX',1),db=i.get(this.obj,'scaleY',1),eb=i.get(this.obj,'scaleZ',1);if(cb-1||db-1||eb-1)ya=x(ya,[cb,0,0,0,0,db,0,0,0,0,eb,0,0,0,0,1]);var fb=i.get(this.obj,'rotateX',0);if(fb)ya=x(ya,[1,0,0,0,0,Math.cos(fb),Math.sin(-fb),0,0,Math.sin(fb),Math.cos(fb),0,0,0,0,1]);var gb=i.get(this.obj,'rotateY',0);if(gb)ya=x(ya,[Math.cos(gb),0,Math.sin(gb),0,0,1,0,0,Math.sin(-gb),0,Math.cos(gb),0,0,0,0,1]);var hb=i.get(this.obj,'rotateZ',0);if(hb)ya=x(ya,[Math.cos(hb),Math.sin(-hb),0,0,Math.sin(hb),Math.cos(hb),0,0,0,0,1,0,0,0,0,1]);var ib=l('transform');if(ib)if(ya){var jb=t(ya);k.set(this.obj,ib,jb);}else if(ka)k.set(this.obj,ib,null);if(ua==1){this.queue.splice(ra--,1);this._callback(sa.ondone,ja-sa.start-sa.duration);}}if(!la&&this.container_div)this._destroy_container();return !ka;};s.prototype.ondone=function(ja){this.state.ondone=ja;return this;};s.prototype._callback=function(ja,ka){if(ja){y=ka;ja.call(this);y=0;}};function ea(ja,ka,la,ma){return (ma?parseInt:parseFloat)((la-ka)*ja+ka,10);}function fa(ja){var ka=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(ja);if(ka){return [parseInt(ka[1].length==1?ka[1]+ka[1]:ka[1],16),parseInt(ka[2].length==1?ka[2]+ka[2]:ka[2],16),parseInt(ka[3].length==1?ka[3]+ka[3]:ka[3],16),1];}else{var la=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(ja);if(la){return [parseInt(la[1],10),parseInt(la[2],10),parseInt(la[3],10),la[4]?parseFloat(la[4]):1];}else if(ja=='transparent'){return [255,255,255,0];}else throw 'Named color attributes are not supported.';}}function ga(ja){q.push(ja);if(q.length===1){if(!p){var ka=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame;if(ka)p=ka.bind(a);}if(p){p(ia);}else r=m(ia,20);}if(p)ha();ia(Date.now(),true);}function ha(){if(!p)throw new Error('Ending timer only valid with requestAnimationFrame');var ja=0;for(var ka=0;ka<q.length;ka++){var la=q[ka];for(var ma=0;ma<la.queue.length;ma++){var na=la.queue[ma].start+la.queue[ma].duration;if(na>ja)ja=na;}}if(r){clearTimeout(r);r=null;}var oa=Date.now();if(ja>oa)r=n(o(ia),ja-oa);}function ia(ja,ka){var la=Date.now();for(var ma=(ka===true)?q.length-1:0;ma<q.length;ma++)try{if(!q[ma]._frame(la))q.splice(ma--,1);}catch(na){q.splice(ma--,1);}if(q.length===0){if(r){if(p){clearTimeout(r);}else clearInterval(r);r=null;}}else if(p)p(ia);}s.ease={};s.ease.begin=function(ja){return Math.sin(Math.PI/2*(ja-1))+1;};s.ease.end=function(ja){return Math.sin(.5*Math.PI*ja);};s.ease.both=function(ja){return .5*Math.sin(Math.PI*(ja-.5))+.5;};s.prependInsert=function(ja,ka){s.insert(ja,ka,j.prependContent);};s.appendInsert=function(ja,ka){s.insert(ja,ka,j.appendContent);};s.insert=function(ja,ka,la){k.set(ka,'opacity',0);la(ja,ka);new s(ka).from('opacity',0).to('opacity',1).duration(400).go();};e.exports=s;},null);
__d("SimpleDrag",["Event","ArbiterMixin","SubscriptionsHandler","UserAgent_DEPRECATED","Vector","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(n){this.minDragDistance=0;this._subscriptions=new i();this._subscriptions.addSubscriptions(g.listen(n,'mousedown',this._start.bind(this)));}Object.assign(m.prototype,h,{setMinDragDistance:function(n){this.minDragDistance=n;},destroy:function(){this._subscriptions.release();},_start:function(event){var n=false,o=true,p=null;if(this.inform('mousedown',event))o=false;if(this.minDragDistance){p=k.getEventPosition(event);}else{n=true;var q=this.inform('start',event);if(q===true){o=false;}else if(q===false){n=false;return;}}var r=j.ie()<9?document.documentElement:window,s=g.listen(r,{selectstart:o?g.prevent:l,mousemove:function(event){if(!n){var t=k.getEventPosition(event);if(p.distanceTo(t)<this.minDragDistance)return;n=true;if(this.inform('start',event)===false){n=false;return;}}this.inform('update',event);}.bind(this),mouseup:function(event){for(var t in s)s[t].remove();if(n){this.inform('end',event);}else this.inform('click',event);}.bind(this)});o&&event.prevent();}});e.exports=m;},null);
__d("ScrollableArea",["Animation","ArbiterMixin","BrowserSupport","CSS","DataStore","DOM","Event","Parent","Run","Scroll","SimpleDrag","Style","SubscriptionsHandler","UserAgent_DEPRECATED","Vector","createCancelableFunction","mixin","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();var y=12,z=w(h);for(var aa in z)if(z.hasOwnProperty(aa))ca[aa]=z[aa];var ba=z===null?null:z.prototype;ca.prototype=Object.create(ba);ca.prototype.constructor=ca;ca.__superConstructor__=z;function ca(da,ea){"use strict";z.call(this);if(!da)return;ea=ea||{};this._elem=da;this._wrap=l.find(da,'div.uiScrollableAreaWrap');this._body=l.find(this._wrap,'div.uiScrollableAreaBody');this._content=l.find(this._body,'div.uiScrollableAreaContent');this._track=l.find(da,'div.uiScrollableAreaTrack');this._gripper=l.find(this._track,'div.uiScrollableAreaGripper');this._options=ea;this._throttledComputeHeights=x.withBlocking(this._computeHeights,250,this);this.throttledAdjustGripper=x.withBlocking(this.adjustGripper,250,this);this._throttledShowGripperAndShadows=x.withBlocking(this._showGripperAndShadows,250,this);this._throttledRespondMouseMove=x(this._respondMouseMove,250,this);setTimeout(this.adjustGripper.bind(this),0);this._listeners=new s();this._listeners.addSubscriptions(m.listen(this._wrap,'scroll',this._handleScroll.bind(this)),m.listen(da,'mousemove',this._handleMouseMove.bind(this)),m.listen(this._track,'click',this._handleClickOnTrack.bind(this)));if(i.hasPointerEvents())this._listeners.addSubscriptions(m.listen(da,'mousedown',this._handleClickOnTrack.bind(this)));if(ea.fade!==false){this._listeners.addSubscriptions(m.listen(da,'mouseenter',this._handleMouseEnter.bind(this)),m.listen(da,'mouseleave',this._handleMouseLeave.bind(this)),m.listen(da,'focusin',this.showScrollbar.bind(this,false)),m.listen(da,'focusout',this.hideScrollbar.bind(this)));}else if(i.hasPointerEvents())this._listeners.addSubscriptions(m.listen(da,'mouseleave',j.removeClass.bind(null,da,'uiScrollableAreaTrackOver')));if(t.webkit()||t.chrome()){this._listeners.addSubscriptions(m.listen(da,'mousedown',function(){var fa=m.listen(window,'mouseup',function(){if(p.getLeft(da))p.setLeft(da,0);fa.remove();});}));}else if(t.firefox())this._wrap.addEventListener('DOMMouseScroll',function(event){event.axis===event.HORIZONTAL_AXIS&&event.preventDefault();},false);this._drag=this.initDrag();k.set(this._elem,'ScrollableArea',this);if(!ea.persistent){this._destroy=v(this._destroy.bind(this));o.onLeave(this._destroy);}if(ea.shadow!==false)j.addClass(this._elem,'uiScrollableAreaWithShadow');}ca.prototype.getElement=function(){"use strict";return this._elem;};ca.prototype.initDrag=function(){"use strict";var da=i.hasPointerEvents(),ea=new q(da?this._elem:this._gripper);ea.subscribe('start',function(fa,event){if(!((event.which&&event.which===1)||(event.button&&event.button===1)))return;var ga=u.getEventPosition(event,'viewport');if(da){var ha=this._gripper.getBoundingClientRect();if(ga.x<ha.left||ga.x>ha.right||ga.y<ha.top||ga.y>ha.bottom)return false;}this.inform('grip_start');var ia=ga.y,ja=this._gripper.offsetTop;j.addClass(this._elem,'uiScrollableAreaDragging');var ka=ea.subscribe('update',function(ma,event){var na=u.getEventPosition(event,'viewport').y-ia;this._throttledComputeHeights();var oa=this._contentHeight-this._containerHeight,pa=ja+na,qa=this._trackHeight-this._gripperHeight;pa=Math.max(Math.min(pa,qa),0);var ra=pa/qa*oa;p.setTop(this._wrap,ra);}.bind(this)),la=ea.subscribe('end',function(){ea.unsubscribe(ka);ea.unsubscribe(la);j.removeClass(this._elem,'uiScrollableAreaDragging');this.inform('grip_end');}.bind(this));}.bind(this));return ea;};ca.prototype.adjustGripper=function(){"use strict";if(this._needsGripper()){r.set(this._gripper,'height',this._gripperHeight+'px');this._slideGripper();}this._throttledShowGripperAndShadows();return this;};ca.prototype._computeHeights=function(){"use strict";this._containerHeight=this._elem.clientHeight;this._contentHeight=this._content.offsetHeight;this._trackHeight=this._track.offsetHeight;this._gripperHeight=Math.max(this._containerHeight/this._contentHeight*this._trackHeight,y);};ca.prototype._needsGripper=function(){"use strict";this._throttledComputeHeights();return this._gripperHeight<this._trackHeight;};ca.prototype._slideGripper=function(){"use strict";var da=p.getTop(this._wrap)/(this._contentHeight-this._containerHeight)*(this._trackHeight-this._gripperHeight);r.set(this._gripper,'top',da+'px');};ca.prototype._showGripperAndShadows=function(){"use strict";j.conditionShow(this._gripper,this._needsGripper());j.conditionClass(this._elem,'contentBefore',p.getTop(this._wrap)>0);j.conditionClass(this._elem,'contentAfter',!this.isScrolledToBottom());};ca.prototype.destroy=function(){"use strict";this._destroy();this._destroy.cancel&&this._destroy.cancel();};ca.prototype._destroy=function(){"use strict";this._listeners&&this._listeners.release();this._elem&&k.remove(this._elem,'ScrollableArea');this._drag&&this._drag.destroy();};ca.prototype._handleClickOnTrack=function(event){"use strict";var da=u.getEventPosition(event,'viewport'),ea=this._gripper.getBoundingClientRect();if(da.x<ea.right&&da.x>ea.left){if(da.y<ea.top){this.setScrollTop(this.getScrollTop()-this._elem.clientHeight);}else if(da.y>ea.bottom)this.setScrollTop(this.getScrollTop()+this._elem.clientHeight);event.prevent();}};ca.prototype._handleMouseMove=function(event){"use strict";var da=this._options.fade!==false;if(i.hasPointerEvents()||da){this._mousePos=u.getEventPosition(event);this._throttledRespondMouseMove();}};ca.prototype._respondMouseMove=function(){"use strict";if(!this._mouseOver)return;var da=this._options.fade!==false,ea=this._mousePos,fa=u.getElementPosition(this._track).x,ga=u.getElementDimensions(this._track).x,ha=Math.abs(fa+ga/2-ea.x);j.conditionClass(this._elem,'uiScrollableAreaTrackOver',i.hasPointerEvents()&&ha<=10);if(da)if(ha<25){this.showScrollbar(false);}else if(!this._options.no_fade_on_hover)this.hideScrollbar();};ca.prototype._handleScroll=function(event){"use strict";if(this._needsGripper())this._slideGripper();this.throttledAdjustGripper();if(this._options.fade!==false)this.showScrollbar();this.inform('scroll');};ca.prototype._handleMouseLeave=function(){"use strict";this._mouseOver=false;this.hideScrollbar();};ca.prototype._handleMouseEnter=function(){"use strict";this._mouseOver=true;this.showScrollbar();};ca.prototype.hideScrollbar=function(da){"use strict";if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(da){r.set(this._track,'opacity',0);j.addClass.bind(null,this._track,'invisible_elem');}else this._hideTimeout=setTimeout(function(){if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}this._hideAnimation=(new g(this._track)).from('opacity',1).to('opacity',0).duration(250).ondone(j.addClass.bind(null,this._track,'invisible_elem')).go();}.bind(this),750);return this;};ca.prototype.resize=function(){"use strict";if(this._body.style.width)this._body.style.width='';var da=this._wrap.offsetWidth-this._wrap.clientWidth;if(da>0)r.set(this._body,'margin-right',(-da)+'px');return this;};ca.prototype.showScrollbar=function(da){"use strict";this.throttledAdjustGripper();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}r.set(this._track,'opacity',1);j.removeClass(this._track,'invisible_elem');if((da!==false)&&!this._options.no_fade_on_hover)this.hideScrollbar();return this;};ca.prototype.distanceToBottom=function(){"use strict";this._computeHeights();return this._contentHeight-(p.getTop(this._wrap)+this._containerHeight);};ca.prototype.isScrolledToBottom=function(){"use strict";return this.distanceToBottom()<=0;};ca.prototype.isScrolledToTop=function(){"use strict";return p.getTop(this._wrap)===0;};ca.prototype.scrollToBottom=function(da,ea){"use strict";this.setScrollTop(this._wrap.scrollHeight,da,ea);};ca.prototype.scrollToTop=function(da){"use strict";this.setScrollTop(0,da);};ca.prototype.scrollIntoView=function(da,ea){"use strict";var fa=this._wrap.clientHeight,ga=da.offsetHeight,ha=p.getTop(this._wrap),ia=ha+fa,ja=da.offsetTop,ka=ja+ga;if(ja<ha||fa<ga){this.setScrollTop(ja,ea);}else if(ka>ia)this.setScrollTop(ha+(ka-ia),ea);};ca.prototype.scrollElemToTop=function(da,ea,fa){"use strict";this.setScrollTop(da.offsetTop,ea,{callback:fa});};ca.prototype.poke=function(){"use strict";var da=p.getTop(this._wrap);p.setTop(this._wrap,p.getTop(this._wrap)+1);p.setTop(this._wrap,p.getTop(this._wrap)-1);p.setTop(this._wrap,da);return this.showScrollbar(false);};ca.prototype.getClientHeight=function(){"use strict";return this._wrap.clientHeight;};ca.prototype.getScrollTop=function(){"use strict";return p.getTop(this._wrap);};ca.prototype.getScrollHeight=function(){"use strict";return this._wrap.scrollHeight;};ca.prototype.setScrollTop=function(da,ea,fa){"use strict";fa=fa||{};if(ea!==false){if(this._scrollTopAnimation)this._scrollTopAnimation.stop();var ga=fa.duration||250,ha=fa.ease||g.ease.end;this._scrollTopAnimation=(new g(this._wrap)).to('scrollTop',da).ease(ha).duration(ga).ondone(fa.callback).go();}else{p.setTop(this._wrap,da);fa.callback&&fa.callback();}};ca.renderDOM=function(){"use strict";var da=l.create('div',{className:'uiScrollableAreaContent'}),ea=l.create('div',{className:'uiScrollableAreaBody'},da),fa=l.create('div',{className:'uiScrollableAreaWrap scrollable'},ea),ga=l.create('div',{className:'uiScrollableArea native'},fa);return {root:ga,wrap:fa,body:ea,content:da};};ca.fromNative=function(da,ea){"use strict";if(!j.hasClass(da,'uiScrollableArea')||!j.hasClass(da,'native'))return;ea=ea||{};j.removeClass(da,'native');var fa=l.create('div',{className:'uiScrollableAreaTrack'},l.create('div',{className:'uiScrollableAreaGripper'}));if(ea.fade!==false){j.addClass(da,'fade');j.addClass(fa,'invisible_elem');}else j.addClass(da,'nofade');l.appendContent(da,fa);var ga=new ca(da,ea);ga.resize();return ga;};ca.getInstance=function(da){"use strict";var ea=n.byClass(da,'uiScrollableArea');return ea?k.get(ea,'ScrollableArea'):null;};ca.poke=function(da){"use strict";var ea=ca.getInstance(da);ea&&ea.poke();};e.exports=ca;},null);
__d("MenuItemInterface",["emptyFunction"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(){"use strict";}h.prototype.getRoot=function(){"use strict";if(!this._root)this._root=this.render();return this._root;};Object.assign(h.prototype,{_root:null,render:g,getAccessKey:g,hasAction:g.thatReturnsFalse,focus:g.thatReturnsFalse,blur:g.thatReturnsFalse,onShow:g.thatReturnsFalse,handleClick:g.thatReturnsFalse,destroy:g});e.exports=h;},null);
__d("MenuItemBase",["DOM","HTML","MenuItemInterface","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in i)if(i.hasOwnProperty(k))m[k]=i[k];var l=i===null?null:i.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=i;function m(n){"use strict";i.call(this);this._data=Object.assign({},n);}m.prototype.render=function(){"use strict";var n="_54ni";if(this._data.className)n+=' '+this._data.className;var o={className:n,role:'presentation'};Object.assign(o,this.__getAttributesFromData());return g.create('li',o,this._renderItemContent());};m.prototype._renderItemContent=function(){"use strict";return h(this._data.markup).getNodes();};m.prototype.__getAttributesFromData=function(){"use strict";var n={};for(var o in this._data)if(o.indexOf('data-')===0||o.indexOf('aria-')===0)n[o]=this._data[o];return n;};e.exports=m;},null);
__d("MenuItem",["CSS","DOM","MenuItemBase","React","cloneWithProps","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=['href','rel','ajaxify','target','accesskey'];function o(t,u){var v={};n.forEach(function(w){if(u[w])v[w]=u[w];});h.setAttributes(t,v);}function p(t){n.forEach(function(u){t.removeAttribute(u);});}for(var q in i)if(i.hasOwnProperty(q))s[q]=i[q];var r=i===null?null:i.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=i;function s(t){"use strict";i.call(this,t);this._disabled=!!this._data.disabled;this._onclickHandler=this._data.onclick;}s.prototype.getValue=function(){"use strict";return this._data.value;};s.prototype.getLabel=function(){"use strict";return this._data.label;};s.prototype.getAccessKey=function(){"use strict";var t=this.getLabel();return t&&t.charAt(0);};s.prototype.focus=function(t){"use strict";if(this.isDisabled()||!this._root.offsetParent)return false;g.addClass(this._root,"_54ne");g.addClass(this._root,'selected');t||this._anchor.focus();};s.prototype.blur=function(){"use strict";g.removeClass(this._root,"_54ne");g.removeClass(this._root,'selected');};s.prototype.handleClick=function(t){"use strict";if(this.isDisabled())return false;if(typeof this._onclickHandler==='function')return this._onclickHandler(t);return true;};s.prototype.setOnClickHandler=function(t){"use strict";this._onclickHandler=t;};s.prototype._renderItemContent=function(){"use strict";this._anchor=h.create(this._data.renderas==='label'?'label':'a',{className:(("_54nc")+(this._data.icon?' '+"_54nu":''))});if(this._data.children){var t=null;if(this._data.icon)t=k(this._data.icon,{className:'mrs'});j.render(j.createElement("span",null,t,j.createElement("span",{className:"_54nh"},this._data.children)),this._anchor);this._data.label=this._anchor.innerText||this._anchor.textContent;}else{var u=h.create('span',null,h.create('span',{className:"_54nh"},this._data.markup||this._data.label));if(this._data.icon)h.prependContent(u,this._data.icon);h.setContent(this._anchor,u);}if(!this._data.href)this._data.href='#';if(!this.isDisabled())o(this._anchor,this._data);h.setAttributes(this._anchor,this.__getAttributesFromData());this._anchor.setAttribute('role','menuitem');var v=this._data.title;v&&this._anchor.setAttribute('title',v);return this._anchor;};s.prototype.isDisabled=function(){"use strict";return this._disabled;};s.prototype.enable=function(){"use strict";o(this._anchor,this._data);g.removeClass(this._root,"_5arm");this._disabled=false;};s.prototype.disable=function(){"use strict";p(this._anchor);g.addClass(this._root,"_5arm");this._disabled=true;};s.prototype.render=function(){"use strict";var t=r.render.call(this);if(this._data.disabled)g.addClass(t,"_5arm");return t;};s.prototype.destroy=function(){"use strict";if(this._anchor)j.unmountComponentAtNode(this._anchor);};Object.assign(s.prototype,{hasAction:m.thatReturnsTrue});e.exports=s;},null);
__d("MenuItemNoAction",["MenuItem"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(){"use strict";if(g!==null)g.apply(this,arguments);}j.prototype.hasAction=function(){"use strict";return false;};e.exports=j;},null);
__d("MenuSelectableItem",["CSS","MenuItem","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(m){"use strict";h.call(this,m);this._selected=!!this._data.selected;}l.prototype.getIcon=function(){"use strict";return this._data.icon;};l.prototype.isSelected=function(){"use strict";return this._selected;};l.prototype.select=function(){"use strict";if(this.isDisabled())return false;g.addClass(this._root,"_54nd");this._anchor.setAttribute('aria-selected','true');this._selected=true;};l.prototype.deselect=function(){"use strict";g.removeClass(this._root,"_54nd");this._anchor.setAttribute('aria-selected','false');this._selected=false;};l.prototype.render=function(){"use strict";var m=k.render.call(this);if(this._data.selected){g.addClass(m,"_54nd");this._anchor.setAttribute('aria-selected','true');}return m;};Object.assign(l.prototype,{_selected:false});e.exports=l;},null);
__d("MenuTheme",["cx"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={className:"_569t"};},null);
__d("SelectableMenuUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={doesItemSupportSelect:function(i){return h(i);},isSelected:function(i){return h(i)&&i.isSelected();}};function h(i){return i.select&&i.deselect&&i.isSelected;}e.exports=g;},null);
__d("SelectableMenu",["Menu","arrayContains","createArrayFromMixed","SelectableMenuUtils"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(){"use strict";if(g!==null)g.apply(this,arguments);}m.prototype.focusAnItem=function(){"use strict";for(var n=0;n<this._items.length;n++)if(j.isSelected(this._items[n]))if(this._focusItem(this._items[n])!==false)return true;return l.focusAnItem.call(this);};m.prototype.setValue=function(n){"use strict";if(!this._root)this._render();var o=i(n);this._items.forEach(function(p){if(j.doesItemSupportSelect(p))if(h(o,p.getValue())){p.select();}else if(j.isSelected(p))p.deselect();});this.inform('change',this.getSelection());};m.prototype._handleItemClick=function(n,o){"use strict";if(!j.doesItemSupportSelect(n))return l._handleItemClick.call(this,n,o);var p=this.inform('itemclick',{item:n,event:o});if(p)return;if(this._config.multiple){var q=j.isSelected(n)?n.deselect():n.select();if(q!==false)this.inform('change',this.getSelection());}else{if(!j.isSelected(n))if(n.select()!==false){this._items.forEach(function(r){if(j.isSelected(r)&&r!==n)r.deselect();});this.inform('change',this.getSelection());}this.done();}return n.handleClick();};m.prototype.getSelection=function(){"use strict";var n=[];this._items.forEach(function(o){if(j.isSelected(o))n.push({label:o.getLabel(),value:o.getValue(),item:o});});if(!this._config.multiple)n=n[0];return n;};e.exports=m;},null);
__d("ReactMenu",["Menu","MenuItem","MenuItemNoAction","MenuSelectableItem","MenuTheme","ReactChildren","SelectableMenu","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();function p(x){var y=[];l.forEach(x,function(z){if(z)y.push(z);});return y;}function q(x){x.isReactLegacyFactory={};x.type=x;}for(var r in g)if(g.hasOwnProperty(r))t[r]=g[r];var s=g===null?null:g.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=g;function t(x,y){"use strict";var z=Object.assign({theme:k,maxheight:x?x.maxheight:null,className:x?x.className:null},y);g.call(this,p(x.children),z);}q(t);for(var u in m)if(m.hasOwnProperty(u))w[u]=m[u];var v=m===null?null:m.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=m;function w(x,y){"use strict";var z=Object.assign({className:o("_57di",x?x.className:null),theme:k,multiple:x&&x.multiple,maxheight:x?x.maxheight:null},y);m.call(this,p(x.children),z);}q(w);t.SelectableMenu=w;q(h);t.Item=h;t.ItemNoAction=i;q(j);t.SelectableItem=j;e.exports=t;},null);
__d("XUIAbstractGlyphButton.react",["AbstractButton.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.createClass({displayName:"XUIAbstractGlyphButton",propTypes:{label:l.node},render:function(){return (h.createElement(g,h.__spread({},this.props,{className:j(this.props.className,"_5upp")})));}});e.exports=m;},null);
__d("XUICloseButton.react",["XUIAbstractGlyphButton.react","React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=h.createClass({displayName:"XUICloseButton",propTypes:{shade:m.oneOf(['light','dark']),size:m.oneOf(['small','medium']),type:m.oneOf(['submit','button','reset'])},getDefaultProps:function(){return {size:'medium',shade:'dark',type:'button'};},render:function(){var o=this.props.size,p=this.props.shade,q=(("_50zy")+(o==='small'?' '+"_50zz":'')+(o==='medium'?' '+"_50-0":'')+(p==='light'?' '+"_50z_":'')+(p==='dark'?' '+"_50z-":'')),r=this.props.label,s=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!r)r=j._("Remove");s=r;}return (h.createElement(g,h.__spread({},this.props,{label:r,title:s,type:this.props.href?null:this.props.type,"aria-label":this.props.tooltip,"data-hover":this.props.tooltip&&'tooltip',"data-tooltip-alignh":this.props.tooltip&&'center',className:k(this.props.className,q)})));}});e.exports=n;},null);
__d("LayerFadeOnShow",["Animation","Style","UserAgent_DEPRECATED","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(l){"use strict";this._layer=l;}k.prototype.enable=function(){"use strict";if(i.ie()<9)return;this._subscriptions=[this._layer.subscribe('beforeshow',function(){h.set(this._layer.getRoot(),'opacity',0);}.bind(this)),this._layer.subscribe('show',this._animate.bind(this))];};k.prototype.disable=function(){"use strict";if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}};k.prototype._getDuration=function(){"use strict";return 100;};k.prototype._animate=function(){"use strict";var l=this._layer.getRoot();new g(l).from('opacity',0).to('opacity',1).duration(this._getDuration()).ondone(h.set.bind(null,l,'opacity','')).go();};k.forDuration=function(l){"use strict";for(var m in k)if(k.hasOwnProperty(m))o[m]=k[m];var n=k===null?null:k.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=k;function o(){if(k!==null)k.apply(this,arguments);}o.prototype._getDuration=j.thatReturns(l);return o;};Object.assign(k.prototype,{_subscriptions:null});e.exports=k;},null);
__d("renderSubtreeIntoContainer",["ReactMount"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=g.renderSubtreeIntoContainer;},null);
__d("ReactLayer",["React","ReactBrowserEventEmitter","SubscriptionsHandler","emptyFunction","getObjectValues","invariant","renderSubtreeIntoContainer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n={componentDidMount:function(){this._layerContainer=document.createElement('div');this._renderContentIntoContainer();this.layer=this.createLayer(this._layerContainer);l(this.layer);this.layerSubscriptions=new i();this.layerSubscribe('show',function(){return this.props.onToggle&&this.props.onToggle(true);}.bind(this));this.layerSubscribe('hide',function(){return this.props.onToggle&&this.props.onToggle(false);}.bind(this));this.layerSubscribe('blur',function(){return this.props.onBlur&&this.props.onBlur();}.bind(this));this._resetBehaviors();},componentDidUpdate:function(p){this._renderContentIntoContainer();this.receiveProps(this.props,p);},componentWillUnmount:function(){g.unmountComponentAtNode(this._layerContainer);this._layerContainer=null;if(this.layer){this.layer.destroy();this.layer=null;}if(this.layerSubscriptions){this.layerSubscriptions.release();this.layerSubscriptions=null;}},_renderContentIntoContainer:function(){m(this,g.createElement("div",null,this.props.children),this._layerContainer);},render:function(){return null;},enumerateBehaviors:function(p){p=this.getEffectiveBehaviors(p);return k(p).filter(j.thatReturnsArgument);},_resetBehaviors:function(){this._diffBehaviors({},this.props.behaviors);},updateBehaviors:function(p,q){this._diffBehaviors(p,q);},_diffBehaviors:function(p,q){p=this.getEffectiveBehaviors(p);q=this.getEffectiveBehaviors(q);var r;for(r in p)if(!q[r])this.layer.disableBehavior(p[r]);for(r in q){var s=p[r],t=q[r];if(s&&t){l(s===t);continue;}s&&this.layer.disableBehavior(s);t&&this.layer.enableBehavior(t);}},getEffectiveBehaviors:function(p){if(!this.getDefaultEnabledBehaviors)return p||{};return Object.assign({},this.getDefaultEnabledBehaviors(),p);},layerSubscribe:function(p,q){var r=this.layer,s=r.subscribe||r.addListener;this.layerSubscriptions.addSubscriptions(s.call(r,p,function(t,u){h.isEnabled()&&q(t,u);}));}},o={createClass:function(p){return g.createClass({mixins:[n,p]});}};e.exports=o;},null);
__d("XUIDialog.react",["AbstractDialog.react","LayerFadeOnShow","ReactLayer"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i.createClass(g.createSpec({displayName:'XUIDialog',addedBehaviors:{LayerFadeOnShow:h}}));e.exports=j;},null);
__d("XUIText.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"XUIText",propTypes:{size:k.oneOf(['small','medium','large','xlarge','inherit']),weight:k.oneOf(['bold','inherit','normal']),display:k.oneOf(['inline','block'])},getDefaultProps:function(){return {size:'inherit',weight:'inherit',display:'inline'};},render:function(){var m=this.props.size,n=this.props.weight,o=((m==='small'?"_50f3":'')+(m==='medium'?' '+"_50f4":'')+(m==='large'?' '+"_50f5":'')+(m==='xlarge'?' '+"_50f6":'')+(n==='bold'?' '+"_50f7":'')+(n==='normal'?' '+"_5kx5":''));if(this.props.display==='block')return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,o)}),this.props.children));return (g.createElement("span",g.__spread({},this.props,{className:i(this.props.className,o)}),this.props.children));}});e.exports=l;},null);
__d("XUIDialogBody.react",["React","cx","joinClasses","XUIText.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"XUIDialogBody",propTypes:{useCustomPadding:l.bool},render:function(){var n=(("_4-i2")+(!this.props.useCustomPadding?' '+"_57_a":''));return (g.createElement(j,g.__spread({},this.props,{className:i(this.props.className,n),display:"block",size:"medium"}),this.props.children));}});e.exports=m;},null);
__d("LeftRight.react",["React","ReactChildren","cx","invariant","keyMirror","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k({left:true,right:true,both:true});function n(p){j(p&&(p.length===1||p.length===2));}var o=g.createClass({displayName:"LeftRight",render:function(){var p=[];h.forEach(this.props.children,function(x){p.push(x);},this);n(p);var q=this.props.direction||m.both,r=(q===m.both),s=r||q===m.left?"_ohe lfloat":'',t=r||q===m.right?"_ohf rfloat":'',u=g.createElement("div",{key:"left",className:s},p[0]),v=(p.length<2)?null:g.createElement("div",{key:"right",className:t},p[1]),w=(q===m.right&&v)?[v,u]:[u,v];return (g.createElement("div",g.__spread({},this.props,{className:l(this.props.className,"clearfix")}),w));}});o.DIRECTION=m;e.exports=o;},null);
__d("XUIOverlayFooter.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"XUIOverlayFooter",render:function(){return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,"_5lnf uiOverlayFooter")}),this.props.children));}});e.exports=j;},null);
__d("XUIDialogFooter.react",["LeftRight.react","React","XUIOverlayFooter.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=h.createClass({displayName:"XUIDialogFooter",propTypes:{fullBleedBorder:m.bool,leftContent:m.object},render:function(){var o=(("_5a8u")+(this.props.fullBleedBorder?' '+"_27qq":''));return (h.createElement(i,h.__spread({},this.props,{className:k(this.props.className,o)}),h.createElement("div",{className:"_50f4"},h.createElement(g,null,h.createElement("div",null,this.props.leftContent),h.createElement("div",null,this.props.children)))));}});e.exports=n;},null);
__d("sliceChildren",["ReactFragment","flattenChildren"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j,k,l){if(j==null)return j;var m={},n=h(j),o=0;for(var p in n){if(!n.hasOwnProperty(p))continue;var q=n[p];if(o>=k)m[p]=q;o++;if(l!=null&&o>=l)break;}return g.create(m);}e.exports=i;},null);
__d("XUIDialogTitle.react",["LeftRight.react","React","XUICloseButton.react","cx","fbt","sliceChildren","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=h,o=n.PropTypes,p=h.createClass({displayName:"XUIDialogTitle",propTypes:{closeButtonText:o.string,showCloseButton:o.bool},getDefaultProps:function(){return {closeButtonText:k._("Close"),showCloseButton:true};},render:function(){var q=null;if(this.props.showCloseButton)q=h.createElement(i,{label:this.props.closeButtonText,className:"layerCancel _51-t"});return (h.createElement("div",h.__spread({},this.props,{className:m(this.props.className,"_4-i0")}),h.createElement(g,null,h.createElement("h3",{className:"_52c9"},l(this.props.children,0,1)),h.createElement("div",{className:"_51-u"},l(this.props.children,1),q))));}});e.exports=p;},null);
__d("XUIMenuTheme",["cx"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={className:"_558b"};},null);
__d("XUIMenuWithSquareCorner",["CSS","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$XUIMenuWithSquareCorner0=j;}i.prototype.enable=function(){"use strict";g.addClass(this.$XUIMenuWithSquareCorner0.getRoot(),"_2n_z");};i.prototype.disable=function(){"use strict";g.removeClass(this.$XUIMenuWithSquareCorner0.getRoot(),"_2n_z");};e.exports=i;},null);
__d("ReactXUIMenu",["ReactMenu","XUIMenuTheme","XUIMenuWithSquareCorner"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(r){r.isReactLegacyFactory={};r.type=r;}for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(r){"use strict";var s={theme:h};if(!r||r.withsquarecorner!==false)s.behaviors=[i];g.call(this,r,s);}j(m);var n=g.SelectableMenu;for(var o in n)if(n.hasOwnProperty(o))q[o]=n[o];var p=n===null?null:n.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=n;function q(r){"use strict";var s={theme:h};if(!r||r.withsquarecorner!==false)s.behaviors=[i];n.call(this,r,s);}j(q);m.SelectableMenu=q;m.Item=g.Item;m.SelectableItem=g.SelectableItem;e.exports=m;},null);
__d("XUISpinner.react",["BrowserSupport","React","UserAgent","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=g.hasCSSAnimations()&&!(i.isEngine('Trident < 6')||i.isEngine('Gecko')||i.isBrowser('Safari < 6')),p=h.createClass({displayName:"XUISpinner",propTypes:{paused:n.bool,showOnAsync:n.bool,size:n.oneOf(['small','large']),background:n.oneOf(['light','dark'])},getDefaultProps:function(){return {showOnAsync:false,size:'small',background:'light'};},render:function(){var q=(("img")+(' '+"_55ym")+(this.props.size=='small'?' '+"_55yn":'')+(this.props.size=='large'?' '+"_55yq":'')+(this.props.background=='light'?' '+"_55yo":'')+(this.props.background=='dark'?' '+"_55yp":'')+(this.props.showOnAsync?' '+"_5tqs":'')+(!o?' '+"_5d9-":'')+(o&&this.props.paused?' '+"_2y32":''));return (h.createElement("span",h.__spread({},this.props,{className:l(this.props.className,q),"aria-label":k._("Loading..."),"aria-busy":true})));}});e.exports=p;},null);
__d("XUIGrayText.react",["React","XUIText.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"XUIGrayText",propTypes:{shade:l.oneOf(['light','medium','dark'])},getDefaultProps:function(){return {shade:'light'};},render:function(){var n=((this.props.shade==='light'?"_50f8":'')+(this.props.shade==='medium'?' '+"_c24":'')+(this.props.shade==='dark'?' '+"_50f9":''));return (g.createElement(h,g.__spread({},this.props,{className:j(this.props.className,n)}),this.props.children));}});e.exports=m;},null);
__d("cancelAnimationFramePolyfill",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.clearTimeout;e.exports=g;},null);
__d("htmlSpecialChars",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=/&/g,h=/</g,i=/>/g,j=/"/g,k=/'/g;function l(m){if(typeof m=='undefined'||m===null||!m.toString)return '';if(m===false){return '0';}else if(m===true)return '1';return m.toString().replace(g,'&amp;').replace(j,'&quot;').replace(k,'&#039;').replace(h,'&lt;').replace(i,'&gt;');}e.exports=l;},null);
__d("Layout.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"Layout",render:function(){var k=[],l=[],m=null;g.Children.forEach(this.props.children,function(o,p){if(!o)return;var q=m!==null,r=g.cloneElement(o,{className:i(o.props.className,((q?"_4bl8":''))),key:p});if(m===null){if(o.type===j.FillColumn){m=r;}else k.push(r);}else l.push(r);});l.reverse();var n=k.concat(l);if(m)n.push(m);return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,'clearfix')}),n));}});j.Column=g.createClass({displayName:"Layout.Column",render:function(){return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,"_4bl7")})));}});j.FillColumn=g.createClass({displayName:"Layout.FillColumn",render:function(){return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,"_4bl9")})));}});e.exports=j;},null);
__d("Dispatcher",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h='ID_';function i(){this.$Dispatcher0={};this.$Dispatcher1=false;this.$Dispatcher2={};this.$Dispatcher3={};this.$Dispatcher4=1;}i.prototype.register=function(j){var k=h+this.$Dispatcher4++;this.$Dispatcher0[k]=j;return k;};i.prototype.unregister=function(j){g(this.$Dispatcher0[j]);delete this.$Dispatcher0[j];};i.prototype.waitFor=function(j){g(this.$Dispatcher1);for(var k=0;k<j.length;k++){var l=j[k];if(this.$Dispatcher3[l]){g(this.$Dispatcher2[l]);continue;}g(this.$Dispatcher0[l]);this.$Dispatcher5(l);}};i.prototype.dispatch=function(j){g(!this.$Dispatcher1);this.$Dispatcher6(j);try{for(var k in this.$Dispatcher0){if(this.$Dispatcher3[k])continue;this.$Dispatcher5(k);}}finally{this.$Dispatcher7();}};i.prototype.isDispatching=function(){return this.$Dispatcher1;};i.prototype.$Dispatcher5=function(j){this.$Dispatcher3[j]=true;this.$Dispatcher0[j](this.$Dispatcher8);this.$Dispatcher2[j]=true;};i.prototype.$Dispatcher6=function(j){for(var k in this.$Dispatcher0){this.$Dispatcher3[k]=false;this.$Dispatcher2[k]=false;}this.$Dispatcher8=j;this.$Dispatcher1=true;};i.prototype.$Dispatcher7=function(){delete this.$Dispatcher8;this.$Dispatcher1=false;};e.exports=i;},null);
__d("FluxStore",["EventEmitter","invariant"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';function i(j){this.__className=this.constructor.name;this.__changed=false;this.__changeEvent='change';this.__dispatcher=j;this.__emitter=new g();this.$FluxStore0=j.register(function(k){this.__invokeOnDispatch(k);}.bind(this));}i.prototype.addListener=function(j){return this.__emitter.addListener(this.__changeEvent,j);};i.prototype.getDispatcher=function(){return this.__dispatcher;};i.prototype.getDispatchToken=function(){return this.$FluxStore0;};i.prototype.hasChanged=function(){h(this.__dispatcher.isDispatching());return this.__changed;};i.prototype.__emitChange=function(){h(this.__dispatcher.isDispatching());this.__changed=true;};i.prototype.__invokeOnDispatch=function(j){this.__changed=false;this.__onDispatch(j);if(this.__changed)this.__emitter.emit(this.__changeEvent);};i.prototype.__onDispatch=function(j){h(false);};e.exports=i;},null);
__d("cancelAnimationFrame",["cancelAnimationFramePolyfill"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports=g.bind(a);},null);
__d("ReactLayeredComponentMixin",["ExecutionEnvironment","ReactInstanceMap","ReactCurrentOwner","React","ReactFragment","renderSubtreeIntoContainer"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m={componentWillMount:function(){if(g.canUseDOM)this._layersContainer=document.createElement('div');},componentDidMount:function(){this._renderLayersIntoContainer();},componentDidUpdate:function(){this._renderLayersIntoContainer();},componentWillUnmount:function(){j.unmountComponentAtNode(this._layersContainer);},_renderLayersIntoContainer:function(){i.current=h.get(this);var n;try{n=this.renderLayers();}finally{i.current=null;}if(n&&!Array.isArray(n)&&!j.isValidElement(n))n=k.create(n);l(this,j.createElement("div",null,n),this._layersContainer);}};e.exports=m;},null);
__d("FBRTCConstants",["FBRTCStruct"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={OFFER:'offer',ANSWER:'answer',ICE_CANDIDATE:'ice_candidate',OK:'ok',PING:'ping',HANGUP:'hang_up',OTHER_DISMISS:'other_dismiss',MSG_ACK:'msg_ack',PRANSWER:'pranswer',ICERESTART_OFFER:'icerestart_offer',ICERESTART_ANSWER:'icerestart_answer',PCRESTART_OFFER:'pcrestart_offer',PCRESTART_ANSWER:'pcrestart_answer',SDP_UPDATE:'sdp_update',OFFER_ACK:'offer_ack',OFFER_NACK:'offer_nack',ANSWER_ACK:'answer_ack',SET_VIDEO:'set_video',VIDEO_REQUEST:'video_request',ACK:'ack'},i=new g([{IGNORE_CALL:'IgnoreCall'},{HANGUP_CALL:'HangupCall'},{IN_ANOTHER_CALL:'InAnotherCall'},{ACCEPT_AFTER_HANGUP:'CallEndAcceptAfterHangUp'},{NO_ANSWER_TIMEOUT:'NoAnswerTimeout'},{INCOMING_TIMEOUT:'IncomingTimeout'},{OTHER_INSTANCE_HANDLED:'OtherInstanceHandled'},{SIGNALING_MESSAGE_FAILED:'SignalingMessageFailed'},{CONNECTION_DROPPED:'ConnectionDropped'},{CLIENT_INTERRUPTED:'ClientInterrupted'},{WEBRTC_ERROR:'WebRTCError'},{CLIENT_ERROR:'ClientError'},{NO_PERMISSION:'NoPermission'},{OTHER_NOT_CAPABLE:'OtherNotCapable'},{NO_UI_ERROR:'NoUIShown'},{UNSUPPORTED_VERSION:'VersionUnsupported'},{CALLER_NOT_VISIBLE:'CallerNotVisible'},{CARRIER_BLOCKED:'CarrierBlocked'},{OTHER_CARRIER_BLOCKED:'OtherCarrierBlocked'}]),j={TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10},k={PayloadType:h,CallEndReason:i,UIEventType:j,endCallReasonFromString:function(l){return i.strNames.indexOf(l);},callEndReasonString:function(l){if(l<0||l>i.strNames.length)return 'Unknown';return i.strNames[l];},fullCallEndReasonString:function(l,m){return this.callEndReasonString(l)+'_'+(m?'remote':'local');}};e.exports=k;},null);
__d("FBRTCIceStatsParser",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=null;h.getInstance=function(){"use strict";if(!g)g=new h();return g;};function h(){"use strict";}h.prototype.extractIceInfo=function(i){"use strict";var j=[],k=i.split("\r\n");for(var l=0;l<k.length;l++){var m=k[l];if(this.$FBRTCIceStatsParser0(m))j.push({gen:this.$FBRTCIceStatsParser1(m),type:this.$FBRTCIceStatsParser2(m)});}return j;};h.prototype.$FBRTCIceStatsParser0=function(i){"use strict";return (i.indexOf('candidate:')>-1);};h.prototype.$FBRTCIceStatsParser1=function(i){"use strict";var j=0,k=i.match(/generation (\d+)/);if(k)j=parseInt(k[1],10);return j;};h.prototype.$FBRTCIceStatsParser2=function(i){"use strict";var j=i.match(/typ (host|relay|srflx|prflx)/);if(j){return j[1];}else return 'unknown';};e.exports=h;},null);
__d("FBRTCLogger",["Log","LogHistory","MarauderLogger","formatDate","pageID"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l='webrtc',m='sent_message',n='received_message',o='send_succeeded',p='send_failed',q='info',r='call_action',s='client_event',t='client_error',u='type',v='msg_id',w='ack_msg_id',x='call_id',y='from',z='to',aa='content',ba='tag',ca='peer_id',da='error_code',ea='trigger',fa='endcallstats',ga=null;ha.getInstance=function(){"use strict";if(!ga)ga=new ha();return ga;};function ha(){"use strict";this.$FBRTCLogger0=h.getInstance(l);}ha.prototype.logToConsole=function(ia){"use strict";var ja='Console';this.$FBRTCLogger1(null,null,ja,ia);this.$FBRTCLogger0.log(ja,ia);};ha.prototype.logReceivedMessage=function(ia,ja,ka){"use strict";var la={};la[y]=ia;la[x]=ja;la[u]=ka.type;la[v]=ka.msg_id;if(ka.sdp)la[aa]=ka.sdp;if(ka.ack_id)la[w]=ka.ack_id;this.$FBRTCLogger2(n,la);this.$FBRTCLogger1(ia,ja,'Received',ka.type+', '+ka.msg_id);};ha.prototype.logSentMessage=function(ia,ja,ka){"use strict";var la={};la[z]=ia;la[x]=ja;la[u]=ka.type;la[v]=ka.msg_id;if(ka.sdp)la[aa]=ka.sdp;if(ka.ack_id)la[w]=ka.ack_id;this.$FBRTCLogger2(m,la);this.$FBRTCLogger1(ia,ja,'Sent',ka.type+', '+ka.msg_id);};ha.prototype.logSentMessageSuccess=function(ia,ja,ka,la){"use strict";var ma={};ma[ca]=ia;ma[x]=ja;ma[u]=ka;ma[v]=la;this.$FBRTCLogger2(o,ma);};ha.prototype.logSentMessageFailure=function(ia,ja,ka,la,ma){"use strict";var na={};na[ca]=ia;na[x]=ja;na[u]=ka;na[v]=la;na[da]=ma;this.$FBRTCLogger2(p,na);this.$FBRTCLogger1(ia,ja,'Send Failed',ka+', '+ma);};ha.prototype.logCallAction=function(ia,ja,ka,la,ma){"use strict";var na={};na[ca]=ia;na[x]=ja;na[r]=ka;na[aa]=la;if(ma)na[ea]=ma;this.$FBRTCLogger2(r,na);this.$FBRTCLogger1(ia,ja,'CallAction',ka+', '+la);};ha.prototype.logEvent=function(ia,ja,event){"use strict";var ka={};ka[ca]=ia;ka[x]=ja;ka[aa]=event;this.$FBRTCLogger2(s,ka);this.$FBRTCLogger1(ia,ja,'Event',event);};ha.prototype.logInfo=function(ia,ja,ka){"use strict";var la={};la[ca]=ia;la[x]=ja;la[aa]=ka;this.$FBRTCLogger2(q,la);this.$FBRTCLogger1(ia,ja,'Info',ka);};ha.prototype.logError=function(ia,ja,ka){"use strict";var la={};la[ca]=ia;la[x]=ja;la[aa]=ka;this.$FBRTCLogger2(t,la);this.$FBRTCLogger1(ia,ja,'Error',ka);};ha.prototype.logErrorWithoutID=function(ia){"use strict";this.logError(null,null,ia);};ha.prototype.logEndCallSummary=function(ia){"use strict";if(!ia)return;var ja={};ja[ca]=ia.peerID;ja[x]=ia.callID;ja[ba]=fa;ja[aa]=ia.toString();var ka=ia.getExtraInfo();for(var la in ka)if(ka.hasOwnProperty(la))ja[la]=ka[la];this.$FBRTCLogger2(q,ja);this.$FBRTCLogger1(ia.peerID,ia.callID,'Call Summary',ja);};ha.prototype.$FBRTCLogger2=function(ia,ja){"use strict";ja.page_id=k;this.$FBRTCLogger0.log(ia,ja);i.log(ia,l,ja);};ha.prototype.$FBRTCLogger1=function(ia,ja,ka,la){"use strict";};ha.CallAction={START_CALL:'start_call',RECEIVED_CALL:'received_call',ANSWER_CALL:'answer_call',END_CALL:'end_call',DENIED_PERMISSION:'denied_permission',SET_MUTE:'set_mute',SET_VIDEO_ON:'set_video_on',SET_SELF_VIEW_ON:'set_self_view_on',SET_FULLSCREEN_ON:'set_fullscreen_on',START_SKYPE:'start_skype',TRY_NEW:'try_new',OPEN_POPUP:'open_popup',POPUP_OPENED:'popup_opened',AUTO_DISABLE_VIDEO:'auto_disable_video',FAILED_GETTING_URI:'failed_getting_uri',OLD_URI:'old_uri',USER_SETTINGS_CHANGED:'user_settings_changed'};ha.Trigger={ADMIN_MESSAGE:'admin_message',CHAT_TAB_ICON:'chat_tab_icon',CHAT_TAB_ICON_TOUR:'chat_tab_icon_tour',CHAT_TAB_VOICE_ICON:'chat_tab_voice_icon',SKYPE_DEPRECATION_DIALOG:'skype_deprecation_dialog',REDIAL_BUTTON:'redial_button',RETURN_CALL:'return_call',WEB_MESSENGER:'web_messenger',POPUP_CALL_START_BUTTON:'popup_start_call_button',TIMELINE_PROFILE:'timeline_profile',UNKNOWN:'unknown'};ha.Key={DEVICE_INFO:'device_info',RATING:'rating5',RATING_SHOWN:'rating_shown',SURVEY_CHOICE:'survey_choice',SURVEY_DETAILS:'survey_details',SURVEY_SHOWN:'survey_shown',INITIATED_BY_PAGE_ID:'initiated_by_page_id',PEER_IS_MOBILE:'peer_is_mobile'};e.exports=ha;},null);
__d("FBRTCCallSummary",["FBRTCConstants","FBRTCIceStatsParser","FBRTCLogger","UserAgentData","performanceNow"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=5*60*1000,m={CALL_STARTED:'started',POPUP_OPENED:'opened',SENT_OFFER:'s_o',RECV_OFFER:'r_o',SENT_OFFER_ACK:'s_oack',RECV_OFFER_ACK:'r_oack',SENT_RETRIED_OFFER:'s_o2',RECV_RETRIED_OFFER:'r_o2',SENT_RETRIED_OFFER_ACK:'s_oack2',RECV_RETRIED_OFFER_ACK:'r_oack2',SENT_PRANSWER:'s_pr',RECV_PRANSWER:'r_pr',NETWORK_READY:'network_ready',SENT_ANSWER:'s_a',RECV_ANSWER:'r_a',SENT_ANSWER_ACK:'s_aack',RECV_ANSWER_ACK:'r_aack',SENT_RETRIED_ANSWER:'s_a2',RECV_RETRIED_ANSWER:'r_a2',SENT_RETRIED_ANSWER_ACK:'s_aack2',RECV_RETRIED_ANSWER_ACK:'r_aack2',SENT_OK:'s_ok',RECV_OK:'r_ok',CALL_CONNECTED:'connected',CALL_ENDED:'ended'};n.CURRENT_SUMMARY_VERSION=19;function n(o){"use strict";this.peerID=o.peerID;this.callID=o.callID;this.$FBRTCCallSummary0=o.isCaller;this.$FBRTCCallSummary1=(new Date()).valueOf();this.$FBRTCCallSummary2=null;this.$FBRTCCallSummary3={};this.$FBRTCCallSummary4=null;this.$FBRTCCallSummary5=null;this.$FBRTCCallSummary6=null;this.$FBRTCCallSummary7=null;this.$FBRTCCallSummary8=null;this.$FBRTCCallSummary9=null;this.$FBRTCCallSummarya={};this.$FBRTCCallSummaryb={};this.$FBRTCCallSummaryc={};this.$FBRTCCallSummaryd={};this.$FBRTCCallSummarye={};this.$FBRTCCallSummaryf={};this.$FBRTCCallSummaryg=k();this.$FBRTCCallSummaryh=0;this.$FBRTCCallSummaryi={};this.$FBRTCCallSummaryj=this.$FBRTCCallSummaryg;this.$FBRTCCallSummaryk=0;this.$FBRTCCallSummaryl={};this.addExtraInfo(i.Key.DEVICE_INFO,this.$FBRTCCallSummarym());this.$FBRTCCallSummaryn();this.$FBRTCCallSummaryo=h.getInstance();this.$FBRTCCallSummaryp=i.getInstance();}n.prototype.toJsonString=function(){"use strict";this.$FBRTCCallSummary8=(new Date()).valueOf();return JSON.stringify({version:n.CURRENT_SUMMARY_VERSION,peerID:this.peerID,callID:this.callID,isCaller:this.$FBRTCCallSummary0,callType:this.$FBRTCCallSummaryq,localVideoDuration:this.$FBRTCCallSummaryr,remoteVideoDuration:this.$FBRTCCallSummarys,startTime:this.$FBRTCCallSummary1,trigger:this.$FBRTCCallSummary2,signalingTime:this.$FBRTCCallSummary3,endCallReason:this.$FBRTCCallSummary4,endCallSubreason:this.$FBRTCCallSummary5,isRemoteEnded:this.$FBRTCCallSummary6,lastUpdatedTime:this.$FBRTCCallSummary7,lastSerializedTime:this.$FBRTCCallSummary8,unsetOnRetrieve:this.$FBRTCCallSummary9,openCount:this.$FBRTCCallSummaryk,extraInfo:this.$FBRTCCallSummaryl,pcStats:this.$FBRTCCallSummarya,captureStats:this.$FBRTCCallSummaryb,gen0IceSentCount:this.$FBRTCCallSummaryc,gen0IceReceivedCount:this.$FBRTCCallSummaryd,iceSentCount:this.$FBRTCCallSummarye,iceReceivedCount:this.$FBRTCCallSummaryf,newSignalingTime:this.$FBRTCCallSummaryi,accumulatedCallTime:this.$FBRTCCallSummaryt()});};n.fromJsonString=function(o){"use strict";var p;try{p=JSON.parse(o);}catch(q){return null;}if(p.version!==n.CURRENT_SUMMARY_VERSION)return null;if(!p.hasOwnProperty('peerID')||!p.hasOwnProperty('callID')||!p.hasOwnProperty('isCaller')||!p.hasOwnProperty('startTime')||!p.hasOwnProperty('trigger')||!p.hasOwnProperty('signalingTime')||!p.hasOwnProperty('endCallReason')||!p.hasOwnProperty('isRemoteEnded')||!p.hasOwnProperty('lastUpdatedTime')||!p.hasOwnProperty('lastSerializedTime'))return null;var r=new n({peerID:p.peerID,callID:p.callID,isCaller:p.isCaller});r.$FBRTCCallSummary1=p.startTime;r.$FBRTCCallSummary2=p.trigger;r.$FBRTCCallSummary3=p.signalingTime;r.$FBRTCCallSummary4=p.endCallReason;r.$FBRTCCallSummary5=p.endCallSubreason;r.$FBRTCCallSummary6=p.isRemoteEnded;r.$FBRTCCallSummary7=p.lastUpdatedTime;r.$FBRTCCallSummary8=p.lastSerializedTime;if(p.callType)r.$FBRTCCallSummaryq=p.callType;if(p.localVideoDuration)r.$FBRTCCallSummaryr=p.localVideoDuration;if(p.remoteVideoDuration)r.$FBRTCCallSummarys=p.remoteVideoDuration;if(p.unsetOnRetrieve)r.$FBRTCCallSummary9=p.unsetOnRetrieve;if(p.openCount)r.$FBRTCCallSummaryk=p.openCount;if(p.extraInfo)r.$FBRTCCallSummaryl=p.extraInfo;if(p.pcStats)r.$FBRTCCallSummarya=p.pcStats;if(p.captureStats)r.$FBRTCCallSummaryb=p.captureStats;if(p.gen0IceSentCount)r.$FBRTCCallSummaryc=p.gen0IceSentCount;if(p.gen0IceReceivedCount)r.$FBRTCCallSummaryd=p.gen0IceReceivedCount;if(p.iceSentCount)r.$FBRTCCallSummarye=p.iceSentCount;if(p.iceReceivedCount)r.$FBRTCCallSummaryf=p.iceReceivedCount;if(p.newSignalingTime)r.$FBRTCCallSummaryi=p.newSignalingTime;if(p.accumulatedCallTime)r.$FBRTCCallSummaryh=p.accumulatedCallTime;return r;};n.restoreOrInitialize=function(o,p,q,r,s){"use strict";var t=o.retrieveCallSummary(p,q);if(!t){t=new n({peerID:p,callID:q,isCaller:r});if(s){t.onFullMessageReceived({msg:s});t.onOfferAckSent(s);}else t.onCallStarted(i.Trigger.UNKNOWN);i.getInstance().logError(p,q,'Missing call summary from storage');}else if(t.$FBRTCCallSummary9){t.$FBRTCCallSummary4=null;t.$FBRTCCallSummary5=null;t.$FBRTCCallSummary6=null;delete t.$FBRTCCallSummary3[m.CALL_ENDED];delete t.$FBRTCCallSummaryi[m.CALL_ENDED];t.$FBRTCCallSummary9=null;}return t;};n.logSavedSummaries=function(o){"use strict";var p=o.getLoggableSummaries(),q=p.length;if(q<=0)return;var r=i.getInstance(),s=[];for(var t=0;t<q;t++){var u=p[t];r.logEndCallSummary(u);s.push({peerID:u.peerID,callID:u.callID});}o.removeCallSummaries(s);r.logToConsole('Logged pending summaries: '+q);};n.prototype.save=function(o){"use strict";var p=k(),q=p-this.$FBRTCCallSummaryj;if(q>l){this.$FBRTCCallSummaryp.logInfo(this.peerID,this.callID,'Summary too old: '+q);return;}o.storeCallSummary(this.peerID,this.callID,this);this.$FBRTCCallSummaryj=p;};n.prototype.getLastUpdatedTime=function(){"use strict";return this.$FBRTCCallSummary7;};n.prototype.setLastUpdatedTime=function(o){"use strict";this.$FBRTCCallSummary7=o;};n.prototype.getExtraInfo=function(){"use strict";return this.$FBRTCCallSummaryl;};n.prototype.addExtraInfo=function(o,p){"use strict";this.$FBRTCCallSummaryl[o]=p;this.$FBRTCCallSummaryn();};n.prototype.onCallStarted=function(o){"use strict";this.$FBRTCCallSummary2=o;this.$FBRTCCallSummaryu(m.CALL_STARTED);this.$FBRTCCallSummaryn();};n.prototype.onPopupOpened=function(){"use strict";this.$FBRTCCallSummaryu(m.POPUP_OPENED);this.$FBRTCCallSummaryk++;this.$FBRTCCallSummaryn();};n.prototype.setPcStats=function(o){"use strict";this.$FBRTCCallSummarya=o;this.$FBRTCCallSummaryn();};n.prototype.setVideoCaptureStats=function(o,p){"use strict";this.$FBRTCCallSummaryb={w:o,h:p};this.$FBRTCCallSummaryn();};n.prototype.setCallType=function(o){"use strict";this.$FBRTCCallSummaryq=o;this.$FBRTCCallSummaryn();};n.prototype.setVideoDurations=function(o,p){"use strict";this.$FBRTCCallSummaryr=o;this.$FBRTCCallSummarys=p;this.$FBRTCCallSummaryn();};n.prototype.onOfferAckSent=function(o){"use strict";this.onMessageSent({type:g.PayloadType.OFFER_ACK,flag:o.flag});};n.prototype.onMessageSent=function(o){"use strict";var p=o.flag===1;switch(o.type){case g.PayloadType.OFFER:this.$FBRTCCallSummaryv(p,m.SENT_OFFER,m.SENT_RETRIED_OFFER);this.$FBRTCCallSummaryw(o,this.$FBRTCCallSummaryc,this.$FBRTCCallSummarye);break;case g.PayloadType.ANSWER:this.$FBRTCCallSummaryv(p,m.SENT_ANSWER,m.SENT_RETRIED_ANSWER);this.$FBRTCCallSummaryw(o,this.$FBRTCCallSummaryc,this.$FBRTCCallSummarye);break;case g.PayloadType.OK:this.$FBRTCCallSummaryu(m.SENT_OK);break;case g.PayloadType.PRANSWER:this.$FBRTCCallSummaryu(m.SENT_PRANSWER);break;case g.PayloadType.OFFER_ACK:this.$FBRTCCallSummaryv(p,m.SENT_OFFER_ACK,m.SENT_RETRIED_OFFER_ACK);break;case g.PayloadType.ANSWER_ACK:this.$FBRTCCallSummaryv(p,m.SENT_ANSWER_ACK,m.SENT_RETRIED_ANSWER_ACK);break;case g.PayloadType.ICE_CANDIDATE:this.$FBRTCCallSummaryw(o,this.$FBRTCCallSummaryc,this.$FBRTCCallSummarye);break;default:}this.$FBRTCCallSummaryn();};n.prototype.$FBRTCCallSummaryw=function(o,p,q){"use strict";var r=null,s=null,t=this.$FBRTCCallSummaryo.extractIceInfo(o.sdp);for(var u=0;u<t.length;u++){r=t[u].gen;s=t[u].type;if(r===0)this.$FBRTCCallSummaryx(p,s);this.$FBRTCCallSummaryx(q,s);}};n.prototype.$FBRTCCallSummaryx=function(o,p){"use strict";if(!o[p]){o[p]=1;}else o[p]=o[p]+1;};n.prototype.$FBRTCCallSummaryy=function(o){"use strict";if(o.isFromMobile())this.addExtraInfo(i.Key.PEER_IS_MOBILE,'1');};n.prototype.onFullMessageReceived=function(o){"use strict";var p=o.msg,q=p.flag===1;switch(p.type){case g.PayloadType.OFFER:this.$FBRTCCallSummaryy(o);this.$FBRTCCallSummaryv(q,m.RECV_OFFER,m.RECV_RETRIED_OFFER);this.$FBRTCCallSummaryw(p,this.$FBRTCCallSummaryd,this.$FBRTCCallSummaryf);break;case g.PayloadType.ANSWER:this.$FBRTCCallSummaryy(o);this.$FBRTCCallSummaryv(q,m.RECV_ANSWER,m.RECV_RETRIED_ANSWER);this.$FBRTCCallSummaryw(p,this.$FBRTCCallSummaryd,this.$FBRTCCallSummaryf);break;case g.PayloadType.OK:this.$FBRTCCallSummaryu(m.RECV_OK);break;case g.PayloadType.PRANSWER:this.$FBRTCCallSummaryu(m.RECV_PRANSWER);break;case g.PayloadType.OFFER_ACK:this.$FBRTCCallSummaryv(q,m.RECV_OFFER_ACK,m.RECV_RETRIED_OFFER_ACK);break;case g.PayloadType.ANSWER_ACK:this.$FBRTCCallSummaryv(q,m.RECV_ANSWER_ACK,m.RECV_RETRIED_ANSWER_ACK);break;case g.PayloadType.ICE_CANDIDATE:this.$FBRTCCallSummaryw(p,this.$FBRTCCallSummaryd,this.$FBRTCCallSummaryf);break;default:}this.$FBRTCCallSummaryn();};n.prototype.onMsgAckReceived=function(o,p){"use strict";var q=o.msg.flag===1;if(p){this.$FBRTCCallSummaryv(q,m.RECV_OFFER_ACK,m.RECV_RETRIED_OFFER_ACK);}else this.$FBRTCCallSummaryv(q,m.RECV_ANSWER_ACK,m.RECV_RETRIED_ANSWER_ACK);};n.prototype.onCallConnected=function(){"use strict";this.$FBRTCCallSummaryu(m.NETWORK_READY);this.$FBRTCCallSummaryu(m.CALL_CONNECTED);this.$FBRTCCallSummaryn();};n.prototype.onCallEnded=function(o,p,q,r){"use strict";this.$FBRTCCallSummary9=q;this.$FBRTCCallSummary4=o;this.$FBRTCCallSummary5=r;this.$FBRTCCallSummary6=p;this.$FBRTCCallSummaryu(m.CALL_ENDED);this.$FBRTCCallSummaryn();};n.prototype.toString=function(){"use strict";var o={};o.core_metrics=this.$FBRTCCallSummaryz();o.time_series=null;return JSON.stringify(o);};n.prototype.$FBRTCCallSummaryz=function(){"use strict";var o={};o.ver=n.CURRENT_SUMMARY_VERSION;o.caller=this.$FBRTCCallSummary0;o.call_type=this.$FBRTCCallSummaryq;o.conn=this.$FBRTCCallSummaryA();o.peer_id=this.peerID;o.has_video=true;o.open_count=this.$FBRTCCallSummaryk;o.signaling=this.$FBRTCCallSummaryB();o.sender=this.$FBRTCCallSummaryC();o.receiver=this.$FBRTCCallSummaryD();o.end=this.$FBRTCCallSummaryE();o.video=this.$FBRTCCallSummaryF();return o;};n.prototype.$FBRTCCallSummaryA=function(){"use strict";var o={dtls:1};if(this.$FBRTCCallSummarya.sender&&this.$FBRTCCallSummarya.sender.rtt)o.rtt=this.$FBRTCCallSummarya.sender.rtt;return o;};n.prototype.$FBRTCCallSummaryB=function(){"use strict";var o={};if(this.$FBRTCCallSummary2)o.trigger=this.$FBRTCCallSummary2;o.start_time=this.$FBRTCCallSummary1;o.time_from_start=this.$FBRTCCallSummary3;var p=this.$FBRTCCallSummary3[m.CALL_CONNECTED],q=this.$FBRTCCallSummary3[m.CALL_ENDED];if(p){if(!q)if(this.$FBRTCCallSummary8){q=this.$FBRTCCallSummary8-this.$FBRTCCallSummary1;}else q=this.$FBRTCCallSummaryG();var r=q-p;if(r>0)o.duration=r;}o.new_time_from_start=this.$FBRTCCallSummaryi;p=this.$FBRTCCallSummaryi[m.CALL_CONNECTED];q=this.$FBRTCCallSummaryi[m.CALL_ENDED];if(p){if(!q)if(this.$FBRTCCallSummaryh>0){q=this.$FBRTCCallSummaryh;}else q=this.$FBRTCCallSummaryt();r=q-p;if(r>0)o.new_duration=r;}return o;};n.prototype.$FBRTCCallSummaryC=function(){"use strict";var o={};if(this.$FBRTCCallSummaryc)o.ice_g0=this.$FBRTCCallSummaryc;if(this.$FBRTCCallSummarye)o.ice=this.$FBRTCCallSummarye;if(this.$FBRTCCallSummarya.sender)Object.assign(o,this.$FBRTCCallSummarya.sender);return o;};n.prototype.$FBRTCCallSummaryD=function(){"use strict";var o={};if(this.$FBRTCCallSummaryd)o.ice_g0=this.$FBRTCCallSummaryd;if(this.$FBRTCCallSummaryf)o.ice=this.$FBRTCCallSummaryf;return o;};n.prototype.$FBRTCCallSummaryE=function(){"use strict";var o={};if(this.$FBRTCCallSummary4!==null){o.end_call_reason_string=g.callEndReasonString(this.$FBRTCCallSummary4);if(this.$FBRTCCallSummary5!==null)o.end_call_subreason_string=this.$FBRTCCallSummary5;o.remote_ended=this.$FBRTCCallSummary6;}if(this.$FBRTCCallSummarya.end)Object.assign(o,this.$FBRTCCallSummarya.end);return o;};n.prototype.$FBRTCCallSummaryF=function(){"use strict";var o={capture:{}};if(this.$FBRTCCallSummarya.video&&this.$FBRTCCallSummarya.video.sender)Object.assign(o,this.$FBRTCCallSummarya.video.sender);if(this.$FBRTCCallSummaryb)Object.assign(o.capture,this.$FBRTCCallSummaryb);return {sender:o,ld:this.$FBRTCCallSummaryr,rd:this.$FBRTCCallSummarys};};n.prototype.$FBRTCCallSummaryG=function(){"use strict";return (new Date()).valueOf()-this.$FBRTCCallSummary1;};n.prototype.$FBRTCCallSummaryt=function(){"use strict";var o=k()-this.$FBRTCCallSummaryg;return Math.floor(this.$FBRTCCallSummaryh+o);};n.prototype.$FBRTCCallSummaryu=function(o){"use strict";if(this.$FBRTCCallSummary3[o])return;this.$FBRTCCallSummary3[o]=this.$FBRTCCallSummaryG();this.$FBRTCCallSummaryi[o]=this.$FBRTCCallSummaryt();};n.prototype.$FBRTCCallSummaryv=function(o,p,q){"use strict";if(o){this.$FBRTCCallSummaryu(q);}else this.$FBRTCCallSummaryu(p);};n.prototype.$FBRTCCallSummaryn=function(){"use strict";this.$FBRTCCallSummary7=(new Date()).valueOf();};n.prototype.$FBRTCCallSummarym=function(){"use strict";return {device:j.deviceName,os:j.platformName,os_version:j.platformFullVersion,browser:j.browserName,browser_version:j.browserFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth};};e.exports=n;},null);
__d("FBRTCCallSummaryStore",["CacheStorage","FBRTCCallSummary","FBRTCLogger","areEqual"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k='localstorage',l='RTC_CALL_SUMMARY_',m='summary',n=2000,o=3,p=3*60*1000,q=null;r.getInstance=function(){"use strict";if(!q)q=new r();return q;};function r(){"use strict";this.$FBRTCCallSummaryStore0=new g(k,l);this.$FBRTCCallSummaryStore1=i.getInstance();}r.prototype.storeCallSummary=function(s,t,u){"use strict";var v=this;this.$FBRTCCallSummaryStore2(function(w){if(!w[s])w[s]={};var x=w[s][t];if(x){var y=v.$FBRTCCallSummaryStore3(x);if(y&&y.getLastUpdatedTime()>u.getLastUpdatedTime()){v.$FBRTCCallSummaryStore1.logToConsole('Outdated summaries');return null;}}w[s][t]=v.$FBRTCCallSummaryStore4(u);return w;},v.$FBRTCCallSummaryStore1.logError.bind(v.$FBRTCCallSummaryStore1,s,t));};r.prototype.retrieveCallSummary=function(s,t){"use strict";var u=this.$FBRTCCallSummaryStore5(),v=null;if(u[s])v=u[s][t];if(v){return this.$FBRTCCallSummaryStore3(v);}else return null;};r.prototype.removeCallSummary=function(s,t){"use strict";this.removeCallSummaries([{peerID:s,callID:t}]);};r.prototype.removeCallSummaries=function(s){"use strict";var t=this;this.$FBRTCCallSummaryStore2(function(u){var v=s.length;for(var w=0;w<v;w++){var x=s[w].peerID,y=s[w].callID;if(u[x]&&u[x][y]){delete u[x][y];if(t.$FBRTCCallSummaryStore6(u[x]))delete u[x];}}return u;},t.$FBRTCCallSummaryStore1.logError.bind(t.$FBRTCCallSummaryStore1,null,null));};r.prototype.getLoggableSummaries=function(){"use strict";var s=this.$FBRTCCallSummaryStore5(),t=[];for(var u in s)if(s.hasOwnProperty(u))for(var v in s[u])if(s[u].hasOwnProperty(v)){var w=this.$FBRTCCallSummaryStore3(s[u][v],p);if(w)t.push(w);}return t;};r.prototype.$FBRTCCallSummaryStore6=function(s){"use strict";for(var t in s)if(s.hasOwnProperty(t))return false;return true;};r.prototype.$FBRTCCallSummaryStore4=function(s){"use strict";var t={__t:Date.now(),__d:s.toJsonString()};return t;};r.prototype.$FBRTCCallSummaryStore3=function(s,t){"use strict";if(s)if(!t||(Date.now()-s.__t>=t))return h.fromJsonString(s.__d);return null;};r.prototype.$FBRTCCallSummaryStore5=function(){"use strict";var s=this.$FBRTCCallSummaryStore0.get(m)||{};return s;};r.prototype.$FBRTCCallSummaryStore2=function(s,t,u,v){"use strict";if(u===(void 0)||u===null)u=o;var w=this.$FBRTCCallSummaryStore5(),x=this.$FBRTCCallSummaryStore5(),y=s(w);if(y===null)return;var z=this.$FBRTCCallSummaryStore5();if(j(x,z)){this.$FBRTCCallSummaryStore0.set(m,y);this.$FBRTCCallSummaryStore1.logToConsole('Updated summaries');}else if(u>0){t('Retry lock');if(v){var aa=this;setTimeout(function(){aa.$FBRTCCallSummaryStore2(s,t,u-1,true);},n);}else this.$FBRTCCallSummaryStore2(s,t,u-1,true);}else t('Failed to lock');};e.exports=r;},null);
__d("FBRTCMessageListener",["Arbiter","ChannelConstants","invariant","mixInEventEmitter"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=[],l=null,m={init:function(){g.subscribe(h.getArbiterType('webrtc'),function(n,o){this._onMessage(o.obj);}.bind(this));},setMessageHandler:function(n,o){i(!l);l=o?n.bind(o):n;while(k.length)l(k.shift());},_onMessage:function(n){this.emit('messageReceived',n);if(l){l(n);}else k.push(n);}};j(m,{messageReceived:true});e.exports=m;},null);
__d("FBID",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={isUser:function(h){return h<2.2e+09||(h>=1e+14&&h<=100099999989999)||(h>=8.9e+13&&h<=89999999999999)||(h>=6.000001e+13&&h<=60000019999999);}};e.exports=g;},null);
__d("FBRTCUtils",["emptyFunction","randomInt","AsyncRequest","FBID","RTCConfig"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=6000,m={attachMediaStream:function(n,o){if(window.webkitRTCPeerConnection){n.src=window.webkitURL.createObjectURL(o);}else{n.mozSrcObject=o;n.play();}},reattachMediaStream:function(n,o){if(window.webkitRTCPeerConnection){n.src=o.src;}else{n.mozSrcObject=o.mozSrcObject;n.play();}},generateRandomInt:function(){return h(0,4294967294)+1;},aboutEqual:function(n,o){return (n-o)<.01&&(o-n)<.01;},sendServerRequest:function(n,o,p,q,r,s){o=o||g;p=p||g;q=q||false;r=r||l;s=s||{};var t=new i().setURI(n).setData(s).setAllowCrossPageTransition(true).setHandler(o).setErrorHandler(p).setTimeoutHandler(r,function(){p();});if(q)t.setOption('asynchronous',false);t.send();},isCollabCallable:function(n){return !j.isUser(n)&&k.CollaborationVideoGroupCallGK;}};e.exports=m;},null);
__d("FBRTCStreamTester",["mixInEventEmitter","FBRTCUtils"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=100,j=30;function k(l){"use strict";if(!l)l={};this.$FBRTCStreamTester0=l.retries||j;this.$FBRTCStreamTester1=l.testInterval||i;this.$FBRTCStreamTester2=null;this.$FBRTCStreamTester3=null;this.$FBRTCStreamTester4=false;}k.prototype.testStream=function(l,m){"use strict";this.$FBRTCStreamTester2=l;if(!m){this.$FBRTCStreamTester4=true;this.$FBRTCStreamTester3=document.createElement('video');this.$FBRTCStreamTester3.muted=true;h.attachMediaStream(this.$FBRTCStreamTester3,this.$FBRTCStreamTester2);this.$FBRTCStreamTester3.play();}else{this.$FBRTCStreamTester4=false;this.$FBRTCStreamTester3=m;}this.$FBRTCStreamTester5(this.$FBRTCStreamTester0);};k.prototype.$FBRTCStreamTester5=function(l){"use strict";if(this.$FBRTCStreamTester2.getVideoTracks().length===0||this.$FBRTCStreamTester3.currentTime>0){this.$FBRTCStreamTester6();this.emit('streamWorking');}else if(l<1){this.$FBRTCStreamTester6();this.emit('streamBroken');}else setTimeout(this.$FBRTCStreamTester5.bind(this,l-1),this.$FBRTCStreamTester1);};k.prototype.$FBRTCStreamTester6=function(){"use strict";if(this.$FBRTCStreamTester4)this.$FBRTCStreamTester3.pause();this.$FBRTCStreamTester3=null;this.$FBRTCStreamTester2=null;};g(k,{streamWorking:true,streamBroken:true});e.exports=k;},null);
__d("XVideoCallInitController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/videocall\/init\/",{peer_id:{type:"Int",required:true},call_id:{type:"Int",required:true},is_caller:{type:"Bool",defaultValue:false},audio_only:{type:"Bool",defaultValue:false}});},null);
__d("XVideoCallController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/videocall\/incall\/",{peer_id:{type:"Int",required:true},call_id:{type:"Int"},is_caller:{type:"Bool",defaultValue:false},audio_only:{type:"Bool",defaultValue:false}});},null);
__d("FBRTCUrlManager",["FBRTCLogger","FBRTCUtils","XVideoCallInitController","XVideoCallController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=3,l=function(p,q,r,s){g.getInstance().logCallAction(p,q,g.CallAction.OLD_URI);return j.getURIBuilder().setInt('peer_id',p).setInt('call_id',q).setBool('is_caller',r).setBool('audio_only',s).getURI();},m=function(p,q,r,s,t,u,v){if(v===(void 0)||v===null)v=k;var w=i.getURIBuilder().setInt('peer_id',p).setInt('call_id',q).setBool('is_caller',r).setBool('audio_only',s).getURI();h.sendServerRequest(w,function(x){t(x.payload.uri);},function(x){if(v>0){m(p,q,r,s,t,u,v-1);}else t(l(p,q,r,s));});},n=function(p){window.history.replaceState({},'',p);},o={init:function(p){this._peerID=p;},onCallStarted:function(){n(l(this._peerID));},getCallUri:m};e.exports=o;},null);
__d("FBRTCUserMediaRequest",["FBRTCStruct","UserAgent","mixInEventEmitter"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=720,k=480,l=180,m=30,n=15,o=function(){return !!navigator.mediaDevices&&h.isBrowser('Firefox >= 38');},p=function(w,x,y){var z=w===u.SCREEN_SHARING;return {audio:q(z,x),video:r(w,y)};},q=function(w,x){if(w&&navigator.webkitGetUserMedia)return false;if(!x)return true;return {optional:[{sourceId:x}]};},r=function(w,x){if(w===u.NO_VIDEO)return false;if(w===u.SCREEN_SHARING&&x)return {mandatory:{chromeMediaSource:'desktop',chromeMediaSourceId:x,minHeight:720,maxHeight:1080,minWidth:1280,maxWidth:1920,minFrameRate:m,maxFrameRate:m}};var y,z;switch(w){case u.HD_VIDEO:y=j;z=m;break;case u.LQ_VIDEO:y=l;z=n;break;default:y=k;z=m;break;}if(o())return s(y,z,x);var aa={mandatory:{},optional:[{minHeight:y},{maxHeight:y},{minFrameRate:z},{maxFrameRate:z},{googLeakyBucket:true}]};if(x)aa.optional.push({sourceId:x});return aa;},s=function(w,x,y){return {height:{min:l,max:j,ideal:w},width:{min:320,max:1280,ideal:(w*16/9)},frameRate:{min:10,max:30,ideal:x}};},t=function(w,x,y){if(o()){navigator.mediaDevices.getUserMedia(w).then(x)["catch"](y);}else if(navigator.getUserMedia){navigator.getUserMedia(w,x,y);}else if(navigator.webkitGetUserMedia){navigator.webkitGetUserMedia(w,x,y);}else if(navigator.mozGetUserMedia){navigator.mozGetUserMedia(w,x,y);}else if(navigator.msGetUserMedia)navigator.msGetUserMedia(w,x,y);},u=new g(['NO_VIDEO','LQ_VIDEO','SD_VIDEO','HD_VIDEO','SCREEN_SHARING']);function v(w){"use strict";if(w===(void 0))w=u.SD_VIDEO;this.streamType=w;this.audioSource=null;this.videoSource=null;}v.prototype.request=function(){"use strict";var w=p(this.streamType,this.audioSource,this.videoSource);t(w,function(x){this.emit('success',x);}.bind(this),function(x){this.emit('failed',x);}.bind(this));};v.STREAM_TYPE=u;v.HD_HEIGHT=j;v.SD_HEIGHT=k;v.LQ_HEIGHT=l;i(v,{success:true,failed:true});e.exports=v;},null);
__d("FBRTCUserMedia",["mixInEventEmitter","FBRTCLogger","FBRTCStreamTester","FBRTCUserMediaRequest"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={STREAM_TYPE:j.STREAM_TYPE,_localStream:null,_accessGranted:false,_pendingRequest:null,_failedVideoSources:[],_failedAudioSources:[],requestUserMedia:function(l,m,n){if(this._localStream&&!m&&!n){this.emit('streamReady',this._localStream);}else{this._startRequestListeners();this._pendingRequest=new j(l);this._pendingRequest.audioSource=m;this._pendingRequest.videoSource=n;this._pendingRequest.addListener('success',this._onRequestSuccess,this);this._pendingRequest.addListener('failed',this._onRequestFailure,this);this._pendingRequest.request();}},end:function(){this._stopEventListeners();if(this._localStream){this._localStream.stop();this._localStream=null;}},_startRequestListeners:function(){if(navigator.mozGetUserMedia){this._evListener=this._onMediaPromptHidden.bind(this);document.addEventListener('mousedown',this._evListener);document.addEventListener('focus',this._evListener);}},_stopEventListeners:function(){if(navigator.mozGetUserMedia){if(this._promptTimeout)clearTimeout(this._promptTimeout);document.removeEventListener('mousedown',this._evListener);document.removeEventListener('focus',this._evListener);}},_onMediaPromptHidden:function(){this._promptTimeout=setTimeout(function(){if(!this._accessGranted&&this._pendingRequest)this._pendingRequest.request();}.bind(this),1500);},_onRequestSuccess:function(l){this._stopEventListeners();if(!this._accessGranted){this._accessGranted=true;this.emit('accessGranted');}l.videoMediaSourceId=this._pendingRequest.videoSource;l.audioMediaSourceId=this._pendingRequest.audioSource;var m=new i();m.addListener('streamWorking',function(){this._pendingRequest=null;if(this._localStream&&this._localStream!==l)this._localStream.stop();this._localStream=l;this.emit('streamReady',this._localStream);}.bind(this));m.addListener('streamBroken',function(){l.stop();this._onRequestFailure('StreamFailedToStart');}.bind(this));m.testStream(l);},_onRequestFailure:function(l){this._stopEventListeners();var m=this._getErrorName(l);if(this._shouldRetryRequest(m,this._pendingRequest)){this._configureRequestForRetry(this._pendingRequest,m);return;}if(m==='InvalidStateError'){h.getInstance().logErrorWithoutID('Invalid state while requesting user media');return;}this._pendingRequest=null;if(m==='PERMISSION_DENIED'||m==='PermissionDeniedError'||m==='PermissionDismissedError'){this.emit('accessDenied',m);}else{if(m==='NO_DEVICES_FOUND')m='DevicesNotFoundError';h.getInstance().logErrorWithoutID('getUserMedia error: '+m);this.emit('accessFailed',m);}},_getErrorName:function(l){if(l.name)return l.name;return l;},_shouldRetryRequest:function(l,m){return m.streamType!==this.STREAM_TYPE.NO_VIDEO&&(l==='DevicesNotFoundError'||l==='StreamFailedToStart');},_configureRequestForRetry:function(l,m){if(m==='StreamFailedToStart'&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources){if(l.videoSource)this._failedVideoSources.push(l.videoSource);window.MediaStreamTrack.getSources(function(n){for(var o=0;o<n.length;o++){var p=n[o];if(p.kind==='video'&&this._failedVideoSources.indexOf(p.id)===-1){l.videoSource=p.id;l.request();return;}}l.streamType=this.STREAM_TYPE.NO_VIDEO;l.request();}.bind(this));}else{l.streamType=this.STREAM_TYPE.NO_VIDEO;l.request();}}};g(k,{streamReady:true,accessGranted:true,accessDenied:true,accessFailed:true});e.exports=k;},null);
__d("MessengerProfileImageWrapper.react",["ReactComponentWithPureRenderMixin","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.createClass({displayName:"MessengerProfileImageWrapper",mixins:[g],propTypes:{isMessengerUser:l.bool,showBadge:l.bool,size:l.number},render:function(){return (h.createElement("div",{className:j("_4ldz",this.props.className),style:{width:this.props.size+'px',height:this.props.size+'px'}},h.createElement("div",{className:"_4ld-",style:{width:this.props.size+'px',height:this.props.size+'px'}},this.props.children),this._renderBadge()));},_renderBadge:function(){if(!this.props.showBadge||this.props.isMessengerUser==null)return null;return (h.createElement(n,{className:"_4ld_",isMessengerUser:this.props.isMessengerUser}));}}),n=h.createClass({displayName:"MessengerBadge",mixins:[g],propTypes:{isMessengerUser:l.bool,size:l.number},render:function(){return (h.createElement("div",{className:j(this.props.className,"_2pom")},h.createElement("div",{className:(("_2pon")+(this.props.isMessengerUser?' '+"_2poo":'')+(!this.props.isMessengerUser?' '+"_2pop":''))})));}});e.exports=m;},null);
__d("MessengerContactImage.react",["Image.react","MessengerProfileImageWrapper.react","ReactComponentWithPureRenderMixin","React"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=j,l=k.PropTypes,m=j.createClass({displayName:"MessengerContactImage",mixins:[i],propTypes:{isMessengerUser:l.bool,size:l.number.isRequired,src:l.string.isRequired},render:function(){return (j.createElement("div",{className:this.props.className},j.createElement(h,{isMessengerUser:this.props.isMessengerUser,size:this.props.size,showBadge:true},j.createElement(g,{height:this.props.size,src:this.props.src,width:this.props.size}))));}});e.exports=m;},null);
__d("MessengerButton.react",["ReactComponentWithPureRenderMixin","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.createClass({displayName:"MessengerButton",mixins:[g],propTypes:{label:l.string.isRequired,type:l.oneOf(['primary','secondary']).isRequired,use:l.oneOf(['default','danger']).isRequired},getDefaultProps:function(){return {use:'default'};},handleLinkClick:function(n){if(this.props.disabled){n.preventDefault();}else if(this.props.onClick)this.props.onClick(n);},render:function(){var n=this.props,o=n.className,p=n.label,q=(function(r,s){var t={},u=Object.prototype.hasOwnProperty;if(r==null)throw new TypeError();for(var v in r)if(u.call(r,v)&&!u.call(s,v))t[v]=r[v];return t;})(n,{className:1,label:1});return (h.createElement("a",h.__spread({className:j((("_3quh")+(' '+"_30yy")+(this.props.type==='primary'?' '+"_2t_":'')+(this.props.type==='secondary'?' '+"_2u0":'')+(this.props.use==='danger'?' '+"_3ay_":'')+(this.props.disabled?' '+"_4zab":'')),o),href:"#"},q,{onClick:this.handleLinkClick}),p));}});e.exports=m;},null);
__d("LayerFadeOnHide",["Animation","Layer","Style","UserAgent_DEPRECATED","emptyFunction","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(n){"use strict";this._layer=n;}m.prototype.enable=function(){"use strict";if(j.ie()<9)return;this._subscription=this._layer.subscribe('starthide',this._handleStartHide.bind(this));};m.prototype.disable=function(){"use strict";if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};m.prototype._getDuration=function(){"use strict";return 150;};m.prototype._handleStartHide=function(){"use strict";var n=true,o=h.subscribe('show',function(){o.unsubscribe();n=false;});l((function(){o.unsubscribe();o=null;var p=function(){this._layer.finishHide();}.bind(this);if(n){this._animate(p);}else p();}).bind(this),0);return false;};m.prototype._animate=function(n){"use strict";var o=this._layer.getRoot();new g(o).from('opacity',1).to('opacity',0).duration(this._getDuration()).ondone(function(){i.set(o,'opacity','');n();}).go();};m.forDuration=function(n){"use strict";for(var o in m)if(m.hasOwnProperty(o))q[o]=m[o];var p=m===null?null:m.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=m;function q(){if(m!==null)m.apply(this,arguments);}q.prototype._getDuration=k.thatReturns(n);return q;};Object.assign(m.prototype,{_subscription:null});e.exports=m;},null);
__d("MessengerDialog.react",["LayerFadeOnHide","LayerHideOnEscape","React","XUIDialog.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=i,n=m.PropTypes,o=i.createClass({displayName:"MessengerDialog",propTypes:{onToggle:n.func.isRequired,repositionOnUpdate:n.bool,shown:n.bool,type:n.oneOf(['alert','default']),width:n.number},getDefaultProps:function(){return {repositionOnUpdate:false,shown:true,type:'alert',width:400};},componentDidUpdate:function(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function(){return (i.createElement(j,i.__spread({behaviors:{LayerFadeOnHide:g,LayerHideOnEscape:h}},this.props,{className:l("_4ebx",this.props.className),ref:"dialog"}),i.createElement("div",{className:(("_4eby")+(this.props.type==='alert'?' '+"_2c9g":'')+(this.props.type==='default'?' '+"_2c9i":''))},this.props.children)));}});e.exports=o;},null);
__d("MessengerDialogBody.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g.createClass({displayName:"MessengerDialogBody",render:function(){return (g.createElement("div",{className:i("_4eb-",this.props.className)},this.props.children));}});e.exports=j;},null);
__d("MessengerDialogFooter.react",["LeftRight.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.createClass({displayName:"MessengerDialogFooter",propTypes:{leftContent:l.object},render:function(){return (h.createElement("div",{className:j("_4eb_",this.props.className)},h.createElement(g,null,h.createElement("div",{className:"_2_d1"},this.props.leftContent),h.createElement("div",null,this.props.children))));}});e.exports=m;},null);
__d("MessengerDialogHeader.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g.createClass({displayName:"MessengerDialogHeader",render:function(){return (g.createElement("h4",{className:i("_4ebz",this.props.className)},this.props.children));}});e.exports=j;},null);
__d("MessengerDialogTitle.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g.createClass({displayName:"MessengerDialogTitle",render:function(){return (g.createElement("div",{className:i("_19jt",this.props.className)},this.props.children));}});e.exports=j;},null);
__d("DOMWrapper",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g,h,i={setRoot:function(j){g=j;},getRoot:function(){return g||document.body;},setWindow:function(j){h=j;},getWindow:function(){return h||self;}};e.exports=i;},null);
__d("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent_DEPRECATED","guid","htmlSpecialChars"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={},n,o=h.getWindow().document;function p(u){var v=o.getElementById(u);if(v)v.parentNode.removeChild(v);delete m[u];}function q(){for(var u in m)if(m.hasOwnProperty(u))p(u);}function r(u){return u.replace(/\d+/g,function(v){return '000'.substring(v.length)+v;});}function s(u){if(!n){if(j.ie()>=9)g.add(window,'unload',q);n=true;}m[u]=u;}var t={embed:function(u,v,w,x){var y=k();u=l(u).replace(/&amp;/g,'&');w=Object.assign({allowscriptaccess:'always',flashvars:x,movie:u},w);if(typeof w.flashvars=='object')w.flashvars=i.encode(w.flashvars);var z=[];for(var aa in w)if(w.hasOwnProperty(aa)&&w[aa])z.push('<param name="'+l(aa)+'" value="'+l(w[aa])+'">');var ba=v.appendChild(o.createElement('span')),ca='<object '+(j.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+u+'" '+(w.height?'height="'+w.height+'" ':'')+(w.width?'width="'+w.width+'" ':'')+'id="'+y+'">'+z.join('')+'</object>';ba.innerHTML=ca;var da=ba.firstChild;s(y);return da;},remove:p,getVersion:function(){var u='Shockwave Flash',v='application/x-shockwave-flash',w='ShockwaveFlash.ShockwaveFlash',x;if(navigator.plugins&&typeof navigator.plugins[u]=='object'){var y=navigator.plugins[u].description;if(y&&navigator.mimeTypes&&navigator.mimeTypes[v]&&navigator.mimeTypes[v].enabledPlugin)x=y.match(/\d+/g);}if(!x)try{x=(new ActiveXObject(w)).GetVariable('$version').match(/(\d+),(\d+),(\d+),(\d+)/);x=Array.prototype.slice.call(x,1);}catch(z){}return x;},getVersionString:function(){var u=t.getVersion();return u?u.join('.'):'';},checkMinVersion:function(u){var v=t.getVersion();if(!v)return false;return r(v.join('.'))>=r(u);},isAvailable:function(){return !!t.getVersion();}};e.exports=t;},null);
__d("SoundPlayer",["Arbiter","Flash","URI","createArrayFromMixed"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={},l=null,m=false,n='so_sound_player',o='/swf/SoundPlayer.swf?v=1',p=null;function q(y){var z=new i(y);if(!z.getDomain())return new i(window.location.href).setPath(z.getPath()).toString();return y;}function r(y){var z=new i(y).getPath();if(/\.mp3$/.test(z))return 'audio/mpeg';if(/\.og[ga]$/.test(z))return 'audio/ogg';return '';}function s(){if(!p){var y=document.createElement('audio');if(!y||!y.canPlayType)return null;y.setAttribute('preload','auto');document.body.appendChild(y);p=y;}return p;}function t(){var y=document[n]||window[n];if(y)if(!y.playSound&&y.length)y=y[0];return (y&&y.playSound&&y.loopSound)?y:null;}function u(){return m;}function v(y,z,aa){l={path:y,sync:z,loop:aa};}function w(){m=true;if(l){var y=t();if(l.loop){y.loopSound(l.path,l.sync);}else y.playSound(l.path,l.sync);}}var x={init:function(y){y=j(y);var z;for(var aa=0;aa<y.length;++aa){z=y[aa];if(k[z])return;}var ba=s();for(aa=0;ba&&aa<y.length;++aa){z=y[aa];if(ba.canPlayType(z)){k[z]=true;return;}}k['audio/mpeg']=true;if(t())return;try{g.registerCallback(w,['sound/player_ready','sound/ready']);var da=document.createElement('div');da.id='sound_player_holder';document.body.appendChild(da);var ea=window[n]=h.embed(o,da,{allowscriptaccess:'always',wmode:'transparent'},{swf_id:n});ea.setAttribute('id',n);ea.setAttribute('width','1px');ea.setAttribute('height','1px');g.inform('sound/player_ready');}catch(ca){}},play:function(y,z){y=j(y);var aa=s(),ba,ca;for(var da=0;aa&&da<y.length;++da){ba=y[da];ca=r(ba);if(!aa.canPlayType(ca))continue;x.init([ca]);aa.src=q(ba);if(z){aa.setAttribute('loop','');}else aa.removeAttribute('loop');aa.play();return;}for(da=0;da<y.length;++da){ba=q(y[da]);ca=r(ba);if(ca!='audio/mpeg')continue;x.init([ca]);var ea=t();if(!u()){v(ba,true,z);return;}else if(ea){if(z){ea.loopSound(ba,true);}else ea.playSound(ba,true);return;}}},stop:function(y){y=j(y);for(var z=0;z<y.length;++z){var aa=q(y[z]),ba=s(),ca=t();if(ba&&ba.src==aa){ba.pause();ba.removeAttribute('src');}else ca&&ca.stopSound(aa);}}};e.exports=x;},null);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='fb_sounds_playing3';function k(){var o=h.getLocalStorage();if(o)try{var q=o[j];if(q){q=JSON.parse(q);if(Array.isArray(q))return q;}}catch(p){}return [];}function l(o){var p=h.getLocalStorage();if(p){var q=k();q.push(o);while(q.length>5)q.shift();try{p[j]=JSON.stringify(q);}catch(r){}}}function m(o){return k().some(function(p){return p===o;});}var n={play:function(o,p,q){o=i(o);p=p||(o[0]+Math.floor(Date.now()/1000));if(m(p))return;g.play(o,q);l(p);},isSupported:function(){return !!h.getLocalStorage();}};e.exports=n;},null);
__d("SoundRPC",["Event","SoundSynchronizer"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(k,l,m){h.play(k,l,m);}var j={playLocal:i,playRemote:function(k,l,m,n){var o={paths:l,sync:m,loop:n};k.postMessage(JSON.stringify(o),'*');},supportsRPC:function(){return !!window.postMessage;},_listen:function(){g.listen(window,'message',function(k){if(!/\.facebook.com$/.test(k.origin))return;var l=JSON.parse(k.data||'{}');i(l.paths,l.sync,l.loop);});}};e.exports=j;},null);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","isFacebookURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=null,o={init:function(s){if(!n)h.init(s);},play:function(s,t,u){if(n){i.playRemote(n.contentWindow,s,t,false);}else i.playLocal(s,t,u);},stop:function(s){if(!n)h.stop(s);}},p=new k(location.href);if(p.getSubdomain()&&p.getSubdomain()!=='www')p.setSubdomain('www');var q=p.getDomain();function r(){if(l.ie()<9)return false;if(g.RPC_DISABLED)return false;return j.isSupported()&&i.supportsRPC();}if(m(p)&&location.host!==q&&r()){n=document.createElement('iframe');n.setAttribute('src','//'+q+'/sound_iframe.php');n.style.display='none';document.body.appendChild(n);}e.exports=o;},null);
__d("ContextualLayerAutoFlip",["ContextualLayerDimensions","DOM","Vector","Rect","arrayContains"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(n,o){o=new j(o).convertTo(n.domain);var p=Math.max(n.l,o.l),q=Math.min(n.r,o.r);return Math.max(q-p,0);}function m(n){"use strict";this._layer=n;}m.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('adjust',this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition();};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition();};m.prototype._adjustOrientation=function(n,o){"use strict";var p=this.getValidPositions(o);if(!p.length){o.invalidate();return;}var q=g.getViewportRect(this._layer),r=this._getValidAlignments(o),s,t,u;for(s=0;s<r.length;s++){o.setAlignment(r[s]);for(t=0;t<p.length;t++){o.setPosition(p[t]);u=g.getLayerRect(this._layer,o);if(q.contains(u))return;}}o.setPosition(k(p,'below')?'below':p[0]);var v,w=0,x=0;for(s=0;s<r.length;s++){o.setAlignment(r[s]);u=g.getLayerRect(this._layer,o);v=l(q,u);if(v>x){x=v;w=s;}}o.setAlignment(r[w]);};m.prototype.getValidPositions=function(n){"use strict";var o=[n.getPosition(),n.getOppositePosition()],p=this._layer.getContextScrollParent();if(p===window||p===h.getDocumentScrollElement())return o;var q=this._layer.getContext(),r=i.getElementPosition(p,'viewport').y,s=i.getElementPosition(q,'viewport').y;if(n.isVertical()){return o.filter(function(u){if(u==='above'){return s>=r;}else{var v=r+p.offsetHeight,w=s+q.offsetHeight;return w<=v;}});}else{var t=r+p.offsetHeight;if(s>=r&&s+q.offsetHeight<=t){return o;}else return [];}};m.prototype._getValidAlignments=function(n){"use strict";var o=['left','right','center'],p=n.getAlignment(),q=o.indexOf(p);if(q>0){o.splice(q,1);o.unshift(p);}return o;};Object.assign(m.prototype,{_subscription:null});e.exports=m;},null);