/*!CK:786578083!*//*1438197740,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["WW2Ys"]); }

__d("MeasuredComponent.react",["EventListener","React","SubscriptionsHandler","emptyFunction","onlyChild","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"MeasuredComponent",propTypes:{onMeasure:n.func.isRequired,measureOnEvents:n.array,shouldRemeasure:n.func},getDefaultProps:function(){return {onMeasure:j,measureOnEvents:['resize','orientationchange'],shouldRemeasure:j.thatReturnsFalse};},componentWillReceiveProps:function(p){if(p.measureOnEvents!==this.props.measureOnEvents){this.detachEventListeners();this.attachEventListeners(p.measureOnEvents);}},attachEventListeners:function(p){this._subscriptionsHandler.engage();i.prototype.addSubscriptions.apply(this._subscriptionsHandler,p.map(function(q){return g.listen(a,q,this.measure);}.bind(this)));},detachEventListeners:function(){this._subscriptionsHandler.release();},measure:function(){var p=h.findDOMNode(this).getBoundingClientRect();this.props.onMeasure(p);},componentDidUpdate:function(p,q){if(this.props.shouldRemeasure(p.children,this.props.children))this.measure();},componentDidMount:function(){this._subscriptionsHandler=new i();this.attachEventListeners(this.props.measureOnEvents);l(this.measure);},componentWillUnmount:function(){this.detachEventListeners();this._subscriptionsHandler=null;},render:function(){return k(this.props.children);}});e.exports=o;},null);