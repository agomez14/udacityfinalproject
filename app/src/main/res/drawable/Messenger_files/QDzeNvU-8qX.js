/*!CK:2078694978!*//*1438093802,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["hiY8u"]); }

__d("BlueBar",["Arbiter","DOMQuery","Event","Run","csx","memoize"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m;function n(event){if(g.inform('BlueBar/homeClick')===false)event.preventDefault();}function o(){if(m){m.remove();m=null;}q.getBar=p("div._4f7n");q.getNavRoot=p("div._uaw");}function p(r){return l(function(){return h.scry(document,r)[0];});}var q={listen:function(r){if(!m){m=i.listen(r,'click',n);j.onUnload(o);}},getBar:p("div._4f7n"),getNavRoot:p("div._uaw")};e.exports=q;},null);
__d("NotificationConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={PayloadSourceType:{UNKNOWN:0,USER_ACTION:1,LIVE_SEND:2,ENDPOINT:3,INITIAL_LOAD:4,OTHER_APPLICATION:5,SYNC:6}};},null);
__d("NotificationTokens",["CurrentUser"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={tokenizeIDs:function(i){return i.map(function(j){return g.getID()+':'+j;});},untokenizeIDs:function(i){return i.map(function(j){return j.split(':')[1];});}};e.exports=h;},null);
__d("NotificationUpdates",["Arbiter","BizSiteIdentifier.brands","ChannelConstants","JSLogger","NotificationConstants","NotificationTokens","LiveTimer","createObjectFrom"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o={},p={},q={},r={},s={},t=[],u=0,v=j.create('notification_updates');function w(){if(u)return;var ba=o,ca=p,da=q,ea=r,fa=s;o={};p={};q={};r={};s={};y('notifications-updated',ba);if(Object.keys(ca).length)y('seen-state-updated',ca);if(Object.keys(da).length)y('read-state-updated',da);if(Object.keys(ea).length)y('hidden-state-updated',ea);if(Object.keys(fa).length)y('gnf-state-updated',fa);t.pop();}function x(){if(t.length)return t[t.length-1];return k.PayloadSourceType.UNKNOWN;}function y(event,ba){aa.inform(event,{updates:ba,source:x()});}g.subscribe(i.getArbiterType('notification_json'),function(ba,ca){var da=Date.now(),ea=ca.obj.nodes;if(ea){ea.forEach(function(fa){fa.receivedTime=da;});v.debug('notifications_received',ea);aa.handleUpdate(k.PayloadSourceType.LIVE_SEND,ca.obj);}});g.subscribe(i.getArbiterType('notifications_seen'),function(ba,ca){var da=l.tokenizeIDs(ca.obj.alert_ids);aa.handleUpdate(k.PayloadSourceType.LIVE_SEND,{seenState:n(da)});});g.subscribe(i.getArbiterType('notifications_read'),function(ba,ca){var da=l.tokenizeIDs(ca.obj.alert_ids);aa.handleUpdate(k.PayloadSourceType.LIVE_SEND,{readState:n(da)});});var z=null,aa=Object.assign(new g(),{getserverTime:function(){return z;},handleUpdate:function(ba,ca){if(ca.nodes&&Array.isArray(ca.nodes))ca.nodes=this._filterNodesBasedOnBusinessID(ca.nodes);if(ca.servertime){z=ca.servertime;m.restart(ca.servertime);}if(Object.keys(ca).length)this.synchronizeInforms(function(){t.push(ba);var da=Object.assign({payloadsource:x()},ca);this.inform('update-notifications',da);this.inform('update-seen',da);this.inform('update-read',da);this.inform('update-hidden',da);this.inform('update-gnf',da);}.bind(this));},didUpdateNotifications:function(ba){Object.assign(o,n(ba));w();},didUpdateSeenState:function(ba){Object.assign(p,n(ba));w();},didUpdateReadState:function(ba){Object.assign(q,n(ba));w();},didUpdateHiddenState:function(ba){Object.assign(r,n(ba));w();},didUpdateGNFState:function(ba){Object.assign(s,n(ba));w();},synchronizeInforms:function(ba){u++;try{ba();}catch(ca){throw ca;}finally{u--;w();}},_filterNodesBasedOnBusinessID:function(ba){return ba.filter(function(ca){return (ca.business_ids&&Object.keys(ca.business_ids).length>0)?(!!(ca.business_ids[h.getBusinessID()])):!h.isBizSite();});}});e.exports=aa;},null);
__d("NotificationStore",["KeyedCallbackManager","NotificationConstants","NotificationUpdates","RangedCallbackManager","MercuryServerDispatcher"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=new g(),m=new j(function(q){var r=l.getResource(q);return r.creation_time;},function(q,r){return r-q;}),n={},o=null;i.subscribe('update-notifications',function(q,r){if(r.page_info)n=r.page_info;if(r.nodes===(void 0))return;var s,t=[],u={},v=r.nodes||[],w;v.forEach(function(x){s=x.alert_id;w=l.getResource(s);if(!w||w.creation_time<x.creation_time){t.push(s);u[s]=x;}});l.addResourcesAndExecute(u);m.addResources(t);i.didUpdateNotifications(t);});k.registerEndpoints({'/ajax/notifications/client/get.php':{mode:k.IMMEDIATE,handler:function(q){i.handleUpdate(h.PayloadSourceType.ENDPOINT,q);}}});var p={getNotifications:function(q,r){var s=m.executeOrEnqueue(0,q,function(z){var aa=l.executeOrEnqueue(z,r);}),t=m.getUnavailableResources(s);if(t.length){m.unsubscribe(s);if(!p.canFetchMore()){l.executeOrEnqueue(m.getAllResources(),r);return;}var u=n,v=(u&&u.end_cursor)||null,w;if(v){var x=Math.max.apply(null,t),y=m.getCurrentArraySize();w=x-y+1;}else w=q;k.trySend('/ajax/notifications/client/get.php',{businessID:o,cursor:v,length:w});}},getAll:function(q){p.getNotifications(p.getCount(),q);},getCount:function(){return m.getAllResources().length;},canFetchMore:function(){var q=n;return (!q||!q.hasOwnProperty('has_next_page')||q.has_next_page);},setBusinessID:function(q){o=q;}};e.exports=p;},null);
__d("XNotificationsGenericNegativeFeedbackController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/notifications\/feedback\/generic\/negative\/",{notif_id:{type:"Int",required:true},undo:{type:"Bool",defaultValue:false}});},null);
__d("NotificationUserActions",["AsyncRequest","AsyncSignal","NotificationConstants","NotificationStore","NotificationTokens","NotificationUpdates","URI","XNotificationsGenericNegativeFeedbackController","createObjectFrom","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=i.PayloadSourceType.USER_ACTION,r='mark_spam',s='turn_off',t='undo',u='original_subscription_level',v=false;function w(ca){var da=new m('/ajax/notifications/mark_read.php').getQualifiedURI().toString();new h(da,ca).send();}function x(ca){var da={};ca.forEach(function(ea,fa){da['alert_ids['+fa+']']=ea;});return da;}function y(ca,da,ea,fa,ga){var ha=k.untokenizeIDs([ca])[0],ia={notification_id:ha,client_rendered:true,request_type:da};Object.assign(ia,ea);new g('/ajax/notifications/negative_req.php').setData(ia).setHandler(fa||p).setErrorHandler(ga||p).send();}function z(ca,da,ea,fa){var ga=n.getURIBuilder().setInt('notif_id',k.untokenizeIDs([ca])[0]).setBool('undo',fa).getURI(),ha=function(ia){if(fa){l.handleUpdate(q,{hiddenState:o([ca],false),gnfState:o([ca],false)});da();}else{var ja=ia.payload.show_after_ok;l.handleUpdate(q,{hiddenState:o([ca],!ja),gnfState:o([ca],true)});da(ia.payload.confirmation);}};new g(ga).setHandler(ha||p).setErrorHandler(ea||p).send();}function aa(ca,da,ea,fa,ga){var ha=ga?t:s;j.getAll(function(ia){var ja=Object.keys(ia).filter(function(ka){var la=ia[ka];return !!(la.application&&la.application.id&&la.application.id==da);});y(ca,ha,null,function(ka){ea(ka);l.handleUpdate(q,{hiddenState:o(ja,!ga)});},fa);});}var ba={markNotificationsAsSeen:function(ca){l.handleUpdate(q,{seenState:o(ca)});var da=k.untokenizeIDs(ca),ea=x(da);ea.seen=true;w(ea);},setNextIsFromReadButton:function(ca){v=ca;},markNotificationsAsRead:function(ca){l.handleUpdate(q,{readState:o(ca)});var da=k.untokenizeIDs(ca),ea=x(da);if(v){ea.from_read_button=true;v=false;}w(ea);},giveGenericNegativeFeedback:function(ca,da,ea){z(ca,da,ea,false);},undoGenericNegativeFeedback:function(ca,da,ea){z(ca,da,ea,true);},markNotificationAsHidden:function(ca,da,ea){l.handleUpdate(q,{hiddenState:o([ca])});y(ca,s,null,da,ea);},markNotificationAsVisible:function(ca,da,ea,fa){l.handleUpdate(q,{hiddenState:o([ca],false)});var ga=null;if(da!==null){ga={};ga[u]=da;}y(ca,t,ga,ea,fa);},markNotificationAsSpam:function(ca,da,ea){l.handleUpdate(q,{hiddenState:o([ca],true)});y(ca,r,null,da,ea);},markAppAsHidden:function(ca,da,ea,fa){var ga=false;aa(ca,da,ea,fa,ga);},markAppAsVisible:function(ca,da,ea,fa){var ga=true;aa(ca,da,ea,fa,ga);}};e.exports=ba;},null);
__d("Timestamp.react",["LiveTimer","React","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=h.createClass({displayName:"Timestamp",propTypes:{autoUpdate:k.bool},getDefaultProps:function(){return {autoUpdate:false};},componentDidMount:function(){if(this.props.autoUpdate)g.addTimeStamps(h.findDOMNode(this));},componentDidUpdate:function(m,n){if(this.props.autoUpdate&&this.props.time!==m.time)g.loop();},render:function(){var m=g.renderRelativeTimeToServer(this.props.time,this.props.shorten,this.props.minimize);return (h.createElement("abbr",h.__spread({},this.props,{className:i(this.props.className,"livetimestamp"),title:this.props.verbose,"data-utime":this.props.time,"data-minimize":this.props.minimize?true:null,"data-shorten":this.props.shorten?true:null}),m.text||this.props.text));}});e.exports=l;},null);
__d("UnicodeCJK",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g='a-zA-Z',h='\uFF21-\uFF3A\uFF41-\uFF5A',i=g+h,j='\u3040-\u309F',k='\u30A0-\u30FF',l='\u31F0-\u31FF',m='\uFF65-\uFF9F',n=k+l+m,o=j+n,p=[12352,12447],q=[12448,12543],r=q[0]-p[0],s='\u4E00-\u9FCF',t='\u3400-\u4DBF',u=s+t,v='\uAC00-\uD7AF',w=u+o+v,x=null,y=null,z=null,aa=null;function ba(ja){y=y||new RegExp('['+o+']');return y.test(ja);}function ca(ja){x=x||new RegExp('['+u+']');return x.test(ja);}function da(ja){z=z||new RegExp('['+w+']');return z.test(ja);}function ea(ja){var ka=ja.charCodeAt(0);return String.fromCharCode((ka<p[0]||ka>p[1])?ka:ka+r);}function fa(ja){if(!ba(ja))return ja;return ja.split('').map(ea).join('');}function ga(ja){aa=aa||new RegExp('^'+'['+o+']+'+'['+i+']'+'$');return aa.test(ja);}function ha(ja){if(ga(ja))return ja.substr(0,ja.length-1);return ja;}var ia={hasKana:ba,hasIdeograph:ca,hasIdeoOrSyll:da,hiraganaToKatakana:fa,isKanaWithTrailingLatin:ga,kanaRemoveTrailingLatin:ha};e.exports=ia;},null);
__d("UnicodeHangulKorean",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g=/[\u3130-\u318F\uAC00-\uD7AF]/;function h(aa){return g.test(aa);}var i=[4352,4353,4522,4354,4524,4525,4355,4356,4357,4528,4529,4530,4531,4532,4533,4378,4358,4359,4360,4385,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4448,4372,4373,4551,4552,4556,4558,4563,4567,4569,4380,4573,4575,4381,4382,4384,4386,4387,4391,4393,4395,4396,4397,4398,4399,4402,4406,4416,4423,4428,4593,4594,4439,4440,4441,4484,4485,4488,4497,4498,4500,4510,4513],j=12593,k=i.length,l=j+k;function m(aa){return String.fromCharCode(i[aa-j]);}var n=4352,o=4449,p=4519,q=44032,r=19,s=21,t=28,u=(s*t),v=(r*u),w=q+v;function x(aa){var ba=aa-q,ca=ba%t;return String.fromCharCode(n+ba/u)+String.fromCharCode(o+(ba%u)/t)+((ca>0)?String.fromCharCode(p+ca):'');}function y(aa){if(!h(aa))return aa;var ba=[];for(var ca=0;ca<aa.length;ca++){var da=aa.charAt(ca),ea=da.charCodeAt(0);ba.push((j<=ea&&ea<l)?m(ea):(q<=ea&&ea<w)?x(ea):da);}return ba.join('');}var z={toConjoiningJamo:y};e.exports=z;},null);
__d("UnicodeMatch",["UnicodeHangulKorean","UnicodeCJK","invariant","createObjectFrom","mapObject"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=['prefix_hangul_conjoining_jamo','prefix_kana_drop_trailing_latin','prefix_kana_hiragana_to_katakana'];function m(n){this.config=j(l,false);this.setConfigs(n||{});}m.prototype.setConfigs=function(n){k(n,function(o,p){return this.setConfig(p,o);}.bind(this),this);};m.prototype.setConfig=function(n,o){i(n in this.config);this.config[n]=o;};m.prototype.prefixMatchPrepare=function(n){if(n){if(this.config.prefix_hangul_conjoining_jamo)n=g.toConjoiningJamo(n);if(this.config.prefix_kana_drop_trailing_latin)n=h.kanaRemoveTrailingLatin(n);if(this.config.prefix_kana_hiragana_to_katakana)n=h.hiraganaToKatakana(n);}return n;};m.prototype.prefixMatch=function(n,o){n=this.prefixMatchPrepare(n);o=this.prefixMatchPrepare(o);return n.startsWith(o);};e.exports=m;},null);
__d("createIxElement",["DOM","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k,l){var m='img',n;h(k.sprited||k.uri);if(k.sprited){m=i(m,k.spriteMapCssClass,k.spriteCssClass);n=g.create('i',{className:m});if(l!=null)g.setContent(n,g.create('u',null,l));}else if(k.uri){n=g.create('img',{className:m,src:k.uri});if(l!=null)n.setAttribute('alt',l);if(k.width)n.setAttribute('width',k.width);if(k.height)n.setAttribute('height',k.height);}return n;}e.exports=j;},null);
__d("TypeaheadFacepile",["DOM"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(){}h.render=function(i){var j=[g.create('span',{className:'splitpic leftpic'},[g.create('img',{alt:'',src:i[0]})]),g.create('span',{className:'splitpic'+(i[2]?' toppic':'')},[g.create('img',{alt:'',src:i[1]})])];if(i[2])j.push(g.create('span',{className:'splitpic bottompic'},[g.create('img',{alt:'',src:i[2]})]));return g.create('span',{className:'splitpics clearfix'},j);};e.exports=h;},null);
__d("AccessibilityLogger",["AsyncSignal","Cookie"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={COOKIE:'a11y',DECAY_MS:6*60*60*1000,DEFAULT:{sr:0,'sr-ts':Date.now(),jk:0,'jk-ts':Date.now(),kb:0,'kb-ts':Date.now(),hcm:0,'hcm-ts':Date.now()},getCookie:function(){var j=i.DEFAULT,k=h.get(i.COOKIE);if(k){k=JSON.parse(k);for(var l in j)if(l in k)j[l]=k[l];}return j;},logKey:function(j,k){var l=i.getCookie();l[j]++;var m=Date.now();if(m-l[j+'-ts']>i.DECAY_MS){new g('/ajax/accessibilitylogging',{eventName:k,times_pressed:l[j]}).send();l[j+'-ts']=m;l[j]=0;}h.set(i.COOKIE,JSON.stringify(l));},logHCM:function(){i.logKey('hcm','hcm_users');},logSRKey:function(){i.logKey('sr','sr_users');},logJKKey:function(){i.logKey('jk','jk_users');},logFocusIn:function(){i.logKey('kb','kb_users');}};e.exports=i;},null);
__d("BadgeHelper",["DOM","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={xsmall:"_5dzz",small:"_5dz-",medium:"_5dz_",large:"_5d-0",xlarge:"_5d-1"},k={verified:"_56_f",topcommenter:"_59t2",page_blue_seal:"_1_4q",page_gray_seal:"_1_4r",work:"_5d62"};function l(n,o){return i(j[n],k[o],"_5dzy");}function m(n,o){var p=l(n,o);if(p)return g.create('span',{className:p});}e.exports={getClasses:l,renderBadge:m,sizes:Object.keys(j),types:Object.keys(k)};},null);
__d("BasicTypeaheadRenderer",["BadgeHelper","DOM"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=' \u00B7 ';function j(k,l){var m=[];if(k.icon)m.push(h.create('img',{alt:'',src:k.icon}));var n=k.debug_info;if(n)m.push(h.create('span',{className:'debugInfo'},n));if(k.text){var o=[k.text];if(k.is_verified)o.push(g.renderBadge('xsmall','verified'));m.push(h.create('span',{className:'text'},o));}if(k.subtext){var p=[k.subtext];if(k.saved_context){var q=h.create('span',{className:'saved'},[k.saved_context]);p.unshift(q,i);}m.push(h.create('span',{className:'subtext'},p));}var r=h.create('li',{className:k.type||''},m);if(k.text){r.setAttribute('title',k.text);r.setAttribute('aria-label',k.text);}return r;}j.className='basic';e.exports=j;},null);
__d("TypeaheadView",["ArbiterMixin","BasicTypeaheadRenderer","createIxElement","CSS","DOM","Event","ix","Parent","$","emptyFunction","getElementText","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=r(g);for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(w,x){"use strict";s.call(this);this.element=this.content=o(w);Object.assign(this,x);}v.prototype.init=function(){"use strict";this.init=p;this.initializeEvents();this.reset();};v.prototype.initializeEvents=function(){"use strict";l.listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)});};v.prototype.setTypeahead=function(w){"use strict";this.typeahead=w;};v.prototype.setAccessibilityControlElement=function(w){"use strict";this.accessibilityElement=w;};v.prototype.getElement=function(){"use strict";return this.element;};v.prototype.mouseup=function(event){"use strict";if(event.button!=2){this.select(true);event.prevent();}};v.prototype.mouseover=function(event){"use strict";if(this.ignoreMouseover){this.ignoreMouseover=false;return;}if(this.visible)this.highlight(this.getIndex(event));};v.prototype.reset=function(w){"use strict";if(!w)this.disableAutoSelect=false;this.index=-1;this.items=[];this.results=[];this.value='';this.content.innerHTML='';this.inform('reset');return this;};v.prototype.getIndex=function(event){"use strict";return this.items.indexOf(n.byTag(event.getTarget(),'li'));};v.prototype.getSelection=function(){"use strict";var w=this.results[this.index]||null;return this.visible?w:null;};v.prototype.isEmpty=function(){"use strict";return !this.results.length;};v.prototype.isVisible=function(){"use strict";return !!this.visible;};v.prototype.show=function(){"use strict";j.show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute('aria-activedescendant',k.getID(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-expanded','true');this.visible=true;return this;};v.prototype.hide=function(){"use strict";j.hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute('aria-expanded','false');this.accessibilityElement.removeAttribute('aria-activedescendant');}this.visible=false;return this;};v.prototype.render=function(w,x){"use strict";this.value=w;if(!x.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.reset(true);return;}var y={results:x,value:w};this.inform('beforeRender',y);x=y.results;var z=this.getDefaultIndex(x);if(this.index>0&&this.index!==this.getDefaultIndex(this.results)&&this.index<this.results.length){var aa=this.results[this.index];for(var ba=0,ca=x.length;ba<ca;++ba)if(aa.uid==x[ba].uid){z=ba;break;}}this.results=x;k.setContent(this.content,this.buildResults(x));this.items=this.getItems();this.highlight(z,false);this.inform('render',x);};v.prototype.getItems=function(){"use strict";return k.scry(this.content,'li');};v.prototype.buildResults=function(w){"use strict";var x,y=null;if(typeof this.renderer=='function'){x=this.renderer;y=this.renderer.className||'';}else{x=a.TypeaheadRenderers[this.renderer];y=this.renderer;}x=x.bind(this);var z=w.map(function(ba,ca){var da=ba.node||x(ba,ca);da.setAttribute('role','option');return da;}),aa=k.create('ul',{className:y,id:'typeahead_list_'+(this.typeahead?k.getID(this.typeahead):k.getID(this.element))},z);aa.setAttribute('role','listbox');return aa;};v.prototype.showLoadingIndicator=function(){"use strict";var w=i(m('/images/loaders/indicator_blue_small.gif')),x=k.create('li',{className:'typeaheadViewInternalLoading'},w),y=k.create('ul',{role:'listbox'},x);k.setContent(this.content,y);};v.prototype.getDefaultIndex=function(){"use strict";var w=(this.autoSelect&&!this.disableAutoSelect);return this.index<0&&!w?-1:0;};v.prototype.next=function(){"use strict";this.highlight(this.index+1);this.inform('next',this.selected);};v.prototype.prev=function(){"use strict";this.highlight(this.index-1);this.inform('prev',this.selected);};v.prototype.getItemText=function(w){"use strict";var x='';if(w){x=w.getAttribute('aria-label');if(!x){x=q(w);w.setAttribute('aria-label',x);}}return x;};v.prototype.setIsViewingSelectedItems=function(w){"use strict";this.viewingSelected=w;return this;};v.prototype.getIsViewingSelectedItems=function(){"use strict";return !!this.viewingSelected;};v.prototype.highlight=function(w,x){"use strict";if(this.selected){j.removeClass(this.selected,'selected');this.selected.setAttribute('aria-selected','false');}if(w>this.items.length-1){w=-1;}else if(w<-1)w=this.items.length-1;if(w>=0&&w<this.items.length){this.selected=this.items[w];j.addClass(this.selected,'selected');this.selected.setAttribute('aria-selected','true');if(this.accessibilityElement)setTimeout((function(){this.accessibilityElement.setAttribute('aria-activedescendant',k.getID(this.selected));}).bind(this),0);}else this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.index=w;this.disableAutoSelect=(w==-1);if(x!==false)this.inform('highlight',{index:w,selected:this.results[w],element:this.selected});};v.prototype.select=function(w){"use strict";if(this.headerIndex&&w)return;var x=this.index,y=this.results[x],z=this.element.getAttribute('id');if(y){var aa=function(ba){this.inform('select',{index:x,clicked:!!w,selected:ba,id:z,query:this.value});this.inform('afterSelect');}.bind(this);if(this.shouldValidateTypeaheadSelection(y)){this.validateTypeaheadSelection(y,aa);}else aa(y);}};v.prototype.shouldValidateTypeaheadSelection=function(w){"use strict";return false;};v.prototype.validateTypeaheadSelection=function(w,x){"use strict";};Object.assign(v.prototype,{events:['highlight','render','reset','select','beforeRender','next','prev'],renderer:h,autoSelect:false,ignoreMouseover:false});e.exports=v;},null);
__d("BucketedTypeaheadView",["DOM","TypeaheadView","fbt"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){"use strict";if(h!==null)h.apply(this,arguments);}l.prototype.render=function(m,n,o){"use strict";var p=true;for(var q=0;q<n.length;++q)if(n[q].type!=='hashtag')p=false;if(!p)n=this.buildBuckets(m,n);return k.render.call(this,m,n,o);};l.prototype.highlight=function(m,n){"use strict";this.headerIndex=false;if(m==-1&&this.index!==0)m=this.index;while(m>=0&&m<this.items.length&&!this.isHighlightable(this.results[m])){m=m+1;this.headerIndex=true;}k.highlight.call(this,m,n);};l.prototype.buildBuckets=function(m,n){"use strict";if(!this.typeObjects||!n||!n.length)return n;var o=[],p={};for(var q=0;q<n.length;++q){var r=n[q],s=r.render_type||r.type;if(!p.hasOwnProperty(s)){p[s]=o.length;o.push([this.buildBucketHeader(s)]);}r.classNames=r.classNames||s;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;r.globalIndex=q;o[r.groupIndex].push(r);}for(s in this.typeObjects)if(!p.hasOwnProperty(s)&&this.typeObjects[s].show_always){p[s]=o.length;o.push([this.buildBucketHeader(s)]);r=this.buildNoResultsEntry();r.classNames=r.type;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}var t=[];if(this.typeObjectsOrder){for(var u=0;u<this.typeObjectsOrder.length;++u){var v=this.typeObjectsOrder[u];if(p.hasOwnProperty(v))t=t.concat(o[p[v]]);}}else for(var w=0;w<o.length;++w)t=t.concat(o[w]);return t;};l.prototype.buildNoResultsEntry=function(){"use strict";return {uid:'disabled_result',type:'disabled_result',text:i._("No Results")};};l.prototype.buildBucketHeader=function(m){"use strict";var n=this.typeObjects[m];if(n===(void 0))throw new Error(m+" is undefined in "+JSON.stringify(this.typeObjects));if(n.markup){n.text=n.markup;delete n.markup;}return this.typeObjects[m];};l.prototype.buildResults=function(m){"use strict";var n=k.buildResults.call(this,m);if(this.typeObjects){return g.create('div',{className:'bucketed'},[n]);}else return n;};l.prototype.isHighlightable=function(m){"use strict";return m.type!='header'&&m.type!='disabled_result';};l.prototype.select=function(m){"use strict";var n=this.results[this.index];if(n&&this.isHighlightable(n))k.select.call(this,m);};l.prototype.updateResults=function(m){"use strict";this.results=m;};l.prototype.normalizeIndex=function(m){"use strict";var n=this.results.length;if(n===0){return -1;}else if(m<-1){return (m%n)+n+1;}else if(m>=n){return (m%n)-1;}else return m;};l.prototype.getDefaultIndex=function(m){"use strict";var n=(this.autoSelect&&!this.disableAutoSelect);if(this.index<0&&!n)return -1;if(m.length===0)return -1;var o=0;while(!this.isHighlightable(m)&&o<m.length)o++;return o;};l.prototype.prev=function(){"use strict";var m=this.results[this.normalizeIndex(this.index-1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index-1);m=this.results[this.normalizeIndex(this.index-1)];}return k.prev.call(this);};l.prototype.next=function(){"use strict";var m=this.results[this.normalizeIndex(this.index+1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index+1);m=this.results[this.normalizeIndex(this.index+1)];}return k.next.call(this);};e.exports=l;},null);
__d("ContextualTypeaheadView",["BucketedTypeaheadView","CSS","ContextualLayer","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","DOM","DOMDimensions","Style"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();for(var o in g)if(g.hasOwnProperty(o))q[o]=g[o];var p=g===null?null:g.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=g;function q(){"use strict";if(g!==null)g.apply(this,arguments);}q.prototype.init=function(){"use strict";this.initializeLayer();p.init.call(this);};q.prototype.initializeLayer=function(){"use strict";this.context=this.getContext();this.wrapper=l.create('div');l.appendContent(this.wrapper,this.element);h.addClass(this.element,'uiContextualTypeaheadView');this.layer=new i({context:this.context,position:'below',alignment:this.alignment,causalElement:this.causalElement,permanent:true,shouldSetARIAProperties:false},this.wrapper);this.layer.enableBehavior(k);if(n.isFixed(this.context)||this.autoflip)this.layer.enableBehavior(j);this.subscribe('render',this.renderLayer.bind(this));};q.prototype.show=function(){"use strict";if(this.minWidth){n.set(this.wrapper,'min-width',this.minWidth+'px');}else if(this.width){n.set(this.wrapper,'width',this.width+'px');}else n.set(this.wrapper,'width',m.getElementDimensions(this.context).width+'px');var r=p.show.call(this);this.layer.show();this.inform('show');return r;};q.prototype.hide=function(){"use strict";this.layer.hide();this.inform('hide');return p.hide.call(this);};q.prototype.renderLayer=function(){"use strict";if(!this.isVisible())return;if(this.layer.isShown()){this.layer.updatePosition();}else this.layer.show();};q.prototype.clearText=function(){"use strict";this.layer.getCausalElement().value='';};q.prototype.getContext=function(){"use strict";return this.element.parentNode;};e.exports=q;},null);
__d("DataSource",["ArbiterMixin","AsyncRequest","TokenizeUtil","UnicodeMatch","createArrayFromMixed","createObjectFrom","emptyFunction","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=n(g);for(var p in o)if(o.hasOwnProperty(p))r[p]=o[p];var q=o===null?null:o.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=o;function r(s){"use strict";o.call(this);this._maxResults=s.maxResults||10;this.token=s.token;this.queryData=s.queryData||{};this.queryEndpoint=s.queryEndpoint||'';this.bootstrapData=s.bootstrapData||{};this.bootstrapEndpoint=s.bootstrapEndpoint||'';this._indexedFields=s.indexedFields||['text','tokens'];this._titleFields=s.titleFields||[];this._alwaysPrefixMatch=s.alwaysPrefixMatch||false;this._deduplicationKey=s.deduplicationKey||null;this._enabledLocalCache=(s.enabledLocalCache!=null)?s.enabledLocalCache:true;this._enabledQueryCache=(s.enabledQueryCache!=null)?s.enabledQueryCache:true;this._disableAllCaches=(s.disableAllCaches!=null)?s.disableAllCaches:false;this._enabledMergeUids=(s.enabledMergeUids!=null)?s.enabledMergeUids:false;this._queryExactMatch=s.queryExactMatch||false;this._acrossTransitions=s.acrossTransitions||false;this._minQueryLength=s.minQueryLength||-1;this._enforceNewRequestIDUponFetch=s.enforceNewRequestIDUponFetch||false;this._minExactMatchLength=4;this._filters=[];this.setExclusions(s.exclusions);this.backendUnicodeMatch=new j({prefix_kana_hiragana_to_katakana:!!s.kanaNormalization});this.cacheUnicodeMatch=new j({prefix_kana_hiragana_to_katakana:!!s.kanaNormalization});}r.prototype.init=function(){"use strict";this.init=m;this._fields=l(this._indexedFields);this._activeQueries=0;this.dirty();};r.prototype.dirty=function(){"use strict";this.value='';this._bootstrapped=false;this._bootstrapping=false;this._data={};this.localCache={};this.queryCache={};this.queryIDs={};this.inform('dirty',{});return this;};r.prototype.bootstrap=function(s){"use strict";if(this._bootstrapped&&!s)return;this.bootstrapWithoutToken();this._bootstrapped=true;this._bootstrapping=true;this.inform('bootstrap',{bootstrapping:true});};r.prototype.bootstrapWithoutToken=function(){"use strict";this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:true,token:this.token});};r.prototype.bootstrapWithToken=function(){"use strict";var s=Object.assign({},this.bootstrapData);s.token=this.token;this.fetch(this.bootstrapEndpoint,s,{bootstrap:true,replaceCache:true,value:''});};r.prototype.query=function(s,t,u,v){"use strict";this.inform('beforeQuery',{value:s,local_only:t,exclusions:u,time_waited:v});var w=Date.now();if(this._disableAllCaches){this.dirty();if(!s){this.bootstrap();return true;}}else if(!this._enabledQueryCache){this.queryCache={};this.queryIDs={};}var x=this.buildUids(s,[],u),y=this.respond(s,x);this.value=s;this.inform('query',{value:s,results:y});var z=this.tokenizeBackend(s).flatValue;if(t||!z||this._isQueryTooShort(z)||!this.queryEndpoint||this.getQueryCache().hasOwnProperty(z)||!this.shouldFetchMoreResults(y)){this.inform('logPerformanceTiming',{field:'cache_keypress_render',value:Date.now()-w});this.inform('completeCacheFetch');return false;}this.inform('queryEndpoint',{value:s});this.fetch(this.queryEndpoint,this.getQueryData(s,x),{value:s,exclusions:u});return true;};r.prototype._isQueryTooShort=function(s){"use strict";return (s.length<this._minQueryLength);};r.prototype._tokenize=function(s,t){"use strict";return i.parse(s,t);};r.prototype.tokenizeBackend=function(s,t){"use strict";s=this.backendUnicodeMatch.prefixMatchPrepare(s);return this._tokenize(s,t);};r.prototype.tokenizeCache=function(s,t){"use strict";s=this.cacheUnicodeMatch.prefixMatchPrepare(s);return this._tokenize(s,t);};r.prototype.shouldFetchMoreResults=function(s){"use strict";return s.length<this._maxResults;};r.prototype.getQueryData=function(s,t){"use strict";var u=Object.assign({value:s},this.queryData);t=t||[];if(t.length)u.existing_ids=t.join(',');if(this._bootstrapping)u.bsp=true;return u;};r.prototype.setQueryData=function(s,t){"use strict";if(t)this.queryData={};Object.assign(this.queryData,s);return this;};r.prototype.setBootstrapData=function(s,t){"use strict";if(t)this.bootstrapData={};Object.assign(this.bootstrapData,s);return this;};r.prototype.getExclusions=function(){"use strict";return k(this._exclusions);};r.prototype.setExclusions=function(s){"use strict";this._exclusions=s?s.map(String):[];};r.prototype.addFilter=function(s){"use strict";var t=this._filters;t.push(s);return {remove:function(){t.splice(t.indexOf(s),1);}};};r.prototype.clearFilters=function(){"use strict";this._filters=[];};r.prototype.notify=function(s,t,u,v){"use strict";var w=this.buildData(t);this.inform('notify',{value:s,results:w,isAsync:!!u,rootid:v});return w;};r.prototype.respond=function(s,t,u){"use strict";var v=this.buildData(t);this.inform('respond',{value:s,results:v,isAsync:!!u});return v;};r.prototype.respondWithResults=function(s,t,u){"use strict";this.inform('respond',{value:s,results:t,isAsync:!!u});return t;};r.prototype.fetch=function(s,t,u){"use strict";if(!s)return;if(this._enforceNewRequestIDUponFetch||t.request_id===(void 0)){t.request_id=this._guid();u.request_id=t.request_id;}var v=new h().setURI(s).setData(t).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(w){this.fetchHandler(w,u||{});}.bind(this));if(s===this.queryEndpoint)v.setFinallyHandler(function(){this._activeQueries--;if(!this._activeQueries)this.inform('activity',{activity:false});}.bind(this));v.setErrorHandler(function(w){return this.asyncErrorHandler(w,u);}.bind(this));this.inform('beforeFetch',{request:v,fetch_context:u});v.send();if(s===this.queryEndpoint){if(!this._activeQueries)this.inform('activity',{activity:true});this._activeQueries++;}};r.prototype.fetchHandler=function(s,t){"use strict";var u=t.value,v=t.exclusions;if(s.getPayload().requestID!==(void 0))t.request_id=s.getPayload().requestID;var w=this.getQueryIDs(),x=this.tokenizeBackend(u||'').flatValue;w[x]=t.request_id;if(!u&&t.replaceCache)this.localCache={};this.inform('buildQueryCache',{});var y=s.getPayload().entries;this.addEntries(y,u);this.inform('fetchComplete',{entries:y,response:s,value:u,fetch_context:t});var z=(!u&&this.value)?this.value:u;this.respond(z,this.buildUids(z,[],v),true);if(!u){if(this._bootstrapping){this._bootstrapping=false;this.inform('bootstrap',{bootstrapping:false});}if(t.token&&s.getPayload().token!==t.token)this.bootstrapWithToken();}};r.prototype.addEntries=function(s,t){"use strict";var u=this.processEntries(k(s||[]),t),v=u;if(this._enabledMergeUids)v=this.buildUids(t,u);if(t){var w=this.getQueryCache(),x=this.tokenizeBackend(t).flatValue;w[x]=v;}else this.fillCache(v);return u;};r.prototype.processEntries=function(s,t){"use strict";return s.map(function(u,v){var w=(u.uid=u.uid+''),x=this.getEntry(w);if(!x){x=u;x.query=t;x.bootstrapped=!t;this.setEntry(w,x);}else Object.assign(x,u);x.index===(void 0)&&(x.index=v);return w;},this);};r.prototype.getAllEntries=function(){"use strict";return this._data||{};};r.prototype.getEntry=function(s){"use strict";return this._data[s]||null;};r.prototype.setEntry=function(s,t){"use strict";this._data[s]=t;};r.prototype.fillCache=function(s){"use strict";if(!this._enabledLocalCache)return;var t=this.localCache;s.forEach(function(u){var v=this.getEntry(u);if(!v)return;var w=this.tokenizeCache(this.getTextToIndex(v)).tokens;for(var x=0,y=w.length;x<y;++x){var z=w[x];if(!t.hasOwnProperty(z))t[z]={};t[z][u]=true;}},this);};r.prototype.getTextToIndex=function(s){"use strict";if(s.textToIndex&&!s.needs_update)return s.textToIndex;s.needs_update=false;s.textToIndex=this.getTextToIndexFromFields(s,this._indexedFields);return s.textToIndex;};r.prototype.getTextToIndexFromFields=function(s,t){"use strict";var u=[];for(var v=0;v<t.length;++v){var w=s[t[v]];if(w)u.push(w.join?w.join(' '):w);}return u.join(' ');};r.prototype.mergeUids=function(s,t,u,v){"use strict";this.inform('mergeUids',{local_uids:s,query_uids:t,new_uids:u,value:v});var w=function(x,y){var z=this.getEntry(x),aa=this.getEntry(y);if(z.extended_match!==aa.extended_match)return z.extended_match?1:-1;if(z.index!==aa.index)return z.index-aa.index;if(z.text.length!==aa.text.length)return z.text.length-aa.text.length;return z.uid<aa.uid;}.bind(this);this._checkExtendedMatch(v,s);return this.deduplicateByKey(s.sort(w).concat(t,u));};r.prototype._checkExtendedMatch=function(s,t){"use strict";var u=this._alwaysPrefixMatch?i.isPrefixMatch:i.isQueryMatch;for(var v=0;v<t.length;++v){var w=this.getEntry(t[v]);w.extended_match=w.tokens?!u(s,w.text):false;}};r.prototype.buildUids=function(s,t,u){"use strict";if(!t)t=[];if(!s)return t;if(!u)u=[];var v=this.buildCacheResults(s,this.localCache),w=this.buildQueryResults(s),x=this.mergeUids(v,w,t,s),y=l(u.concat(this._exclusions)),z=x.filter(function(aa){if(y.hasOwnProperty(aa)||!this.getEntry(aa))return false;for(var ba=0;ba<this._filters.length;++ba)if(!this._filters[ba](this.getEntry(aa),s))return false;return (y[aa]=true);},this);return this.uidsIncludingExact(s,z);};r.prototype.uidsIncludingExact=function(s,t){"use strict";var u=t.length;if(s.length<this._minExactMatchLength||u<=this._maxResults)return t;for(var v=0;v<u;++v){var w=this.getEntry(t[v]);w.text_lower||(w.text_lower=w.text.toLowerCase());if(w.text_lower===this.tokenizeCache(s).flatValue){if(v>=this._maxResults){var x=t.splice(v,1)[0];t.splice(this._maxResults-1,0,x);}break;}}return t;};r.prototype.buildData=function(s){"use strict";var t=[],u=Math.min(s.length,this._maxResults);for(var v=0;v<u;++v)t.push(this.getEntry(s[v]));return t;};r.prototype.findBestPreviousQuery=function(s,t){"use strict";var u=0,v=null;if(this._queryExactMatch)return t.hasOwnProperty(s)?s:null;for(var w in t)if(s.indexOf(w)===0&&w.length>u){u=w.length;v=w;}return v;};r.prototype.findQueryCache=function(s){"use strict";var t=this.findBestPreviousQuery(s,this.getQueryCache());return this.getQueryCache()[t]||[];};r.prototype.buildQueryResults=function(s){"use strict";var t=this.tokenizeBackend(s).flatValue,u=this.findQueryCache(t);if(this.getQueryCache().hasOwnProperty(t))return u;var v=this.filterQueryResults(t,u);return v;};r.prototype.filterQueryResults=function(s,t){"use strict";var u=this._alwaysPrefixMatch?i.isPrefixMatch:i.isQueryMatch;return t.filter(function(v){return u(s,this.getTextToIndex(this.getEntry(v)));},this);};r.prototype.buildCacheResults=function(s,t){"use strict";var u=this.tokenizeCache(s,this._alwaysPrefixMatch),v=this._alwaysPrefixMatch?u.sortedTokens:u.tokens,w=v.length,x=u.isPrefixQuery?w-1:null,y={},z={},aa={},ba=[],ca=false,da={},ea=0;for(var fa=0;fa<w;++fa){var ga=v[fa];if(!da.hasOwnProperty(ga)){ea++;da[ga]=true;}else continue;for(var ha in t)if((!y.hasOwnProperty(ha)&&ha===ga)||((this._alwaysPrefixMatch||x===fa)&&this.cacheUnicodeMatch.prefixMatch(ha,ga))){if(ha===ga){if(z.hasOwnProperty(ha))ca=true;y[ha]=true;}else{if(y.hasOwnProperty(ha)||z.hasOwnProperty(ha))ca=true;z[ha]=true;}for(var ia in t[ha])if(fa===0||(aa.hasOwnProperty(ia)&&aa[ia]==ea-1))aa[ia]=ea;}}for(var ja in aa)if(aa[ja]==ea)ba.push(ja);if(ca||ea<w)ba=this.filterQueryResults(s,ba);if(this._titleFields&&this._titleFields.length>0)ba=this.filterNonTitleMatchQueryResults(s,ba);return ba;};r.prototype.filterNonTitleMatchQueryResults=function(s,t){"use strict";return t.filter(function(u){var v=this.tokenizeCache(s),w=v.tokens.length;if(w===0)return true;var x=this.getTitleTerms(this.getEntry(u)),y=v.tokens[0];return ((w===1)||this._alwaysPrefixMatch)?(i.isPrefixMatch(y,x)||this.cacheUnicodeMatch.prefixMatch(x,y)):i.isQueryMatch(y,x);},this);};r.prototype.getTitleTerms=function(s){"use strict";if(!s.titleToIndex)s.titleToIndex=this.getTextToIndexFromFields(s,this._titleFields);return s.titleToIndex;};r.prototype.deduplicateByKey=function(s){"use strict";if(!this._deduplicationKey)return s;var t=l(s.map(this._getDeduplicationKey.bind(this)),s);return s.filter(function(u){return t[this._getDeduplicationKey(u)]==u;}.bind(this));};r.prototype._getDeduplicationKey=function(s){"use strict";var t=this.getEntry(s);if(t[this._deduplicationKey]){return t[this._deduplicationKey]+'';}else return '__'+s+'__';};r.prototype.getQueryCache=function(){"use strict";return this.queryCache;};r.prototype.getQueryIDs=function(){"use strict";return this.queryIDs;};r.prototype.setMaxResults=function(s){"use strict";this._maxResults=s;this.value&&this.respond(this.value,this.buildUids(this.value));};r.prototype.getMaxResults=function(){"use strict";return this._maxResults;};r.prototype.updateToken=function(s){"use strict";this.token=s;this.dirty();return this;};r.prototype._guid=function(){"use strict";var s=Date.now(),t='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(u){var v=Math.floor((s+Math.random()*16)%16);s=Math.floor(s/16);var w=(u=='x'?v:(v&7|8)).toString(16);return w;});return t;};Object.assign(r.prototype,{events:['bootstrap','query','respond'],asyncErrorHandler:m});e.exports=r;},null);
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DataStore","DOM","Event","Parent","Run","Style","emptyFunction","ge","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=q(g,h);for(var s in r)if(r.hasOwnProperty(s))u[s]=r[s];var t=r===null?null:r.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=r;function u(v,w,x,y){"use strict";r.call(this);this.args={data:v,view:w,core:x};i.set(y,'Typeahead',this);this.element=y;}u.prototype.init=function(v){"use strict";this.init=o;this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(v||[]);this.inform('init',this);this.data.bootstrap();this.core.focus();};u.prototype.getData=function(){"use strict";if(!this.data){var v=this.args.data;this.data=v;this.data.init();}return this.data;};u.prototype.getView=function(){"use strict";if(!this.view){var v=this.args.view,w=v.node||p(v.node_id);if(!w){w=j.create('div',{className:'uiTypeaheadView'});j.appendContent(this.element,w);}if(typeof v.ctor==='string'){this.view=new window[v.ctor](w,v.options||{});}else this.view=new v.ctor(w,v.options||{});this.view.init();this.view.setTypeahead(this.element);}return this.view;};u.prototype.getCore=function(){"use strict";if(!this.core){var v=this.args.core;if(typeof v.ctor==='string'){this.core=new window[v.ctor](v.options||{});}else this.core=new v.ctor(v.options||{});this.core.init(this.getData(),this.getView(),this.getElement());}return this.core;};u.prototype.getElement=function(){"use strict";return this.element;};u.prototype.setHeight=function(v){"use strict";if(v!=='auto')v=v+'px';n.set(this.element,'height',v);};u.prototype.swapData=function(v){"use strict";return this.$Typeahead0(v,true);};u.prototype.swapDataNoCoreReset=function(v){"use strict";return this.$Typeahead0(v,false);};u.prototype.$Typeahead0=function(v,w){"use strict";var x=this.core;this.data=this.args.data=v;v.init();if(x){x.data=v;x.initData();if(w)x.reset();this.proxyEvents();}v.bootstrap();return v;};u.prototype.proxyEvents=function(){"use strict";[this.data,this.view,this.core].forEach(function(v){v.subscribe(v.events,this.inform.bind(this));},this);};u.prototype.initBehaviors=function(v){"use strict";v.forEach(function(w){if(typeof w==='string'){if(a.TypeaheadBehaviors&&a.TypeaheadBehaviors[w]){a.TypeaheadBehaviors[w](this);}else m.onLoad(function(){if(a.TypeaheadBehaviors)(a.TypeaheadBehaviors[w]||o)(this);}.bind(this));}else this.enableBehavior(w);},this);};u.getInstance=function(v){"use strict";var w=l.byClass(v,'uiTypeahead');return w?i.get(w,'Typeahead'):null;};u.initNow=function(v,w,x){"use strict";if(x)x.init(v);v.init(w);};u.init=function(v,w,x,y){"use strict";if(!j.isNodeOfType(v,['input','textarea']))v=j.scry(v,'input')[0]||j.scry(v,'textarea')[0];var z=false;try{z=document.activeElement===v;}catch(aa){}if(z){u.initNow(w,x,y);}else var ba=k.listen(v,'focus',function(){u.initNow(w,x,y);ba.remove();});};e.exports=u;},null);
__d("StickyPlaceholderInput",["Event","CSS","DOM","Input","Parent","emptyFunction","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();function n(r){return k.byClass(r,'uiStickyPlaceholderInput');}function o(r){return i.scry(r,'.placeholder')[0];}function p(r){r=r||window.event;var s=r.target||r.srcElement;if(i.isNodeOfType(s,['input','textarea'])){var t=n(s);if(t)setTimeout(function(){h.conditionClass(t,'uiStickyPlaceholderEmptyInput',!s.value.length);},0);}}var q={init:function(){q.init=l;g.listen(document.documentElement,{keydown:p,paste:p,focusout:p});},registerInput:function(r){q.init();var s=r.getAttribute('placeholder')||'';if(s.length)if(document.activeElement===r){var t=g.listen(r,'blur',function(){q.manipulateInput(r,s);t.remove();});}else q.manipulateInput(r,s);},manipulateInput:function(r,s){var t=i.create('div',{className:'placeholder','aria-hidden':'true'},s),u=i.create('div',{className:'uiStickyPlaceholderInput'},t);if(i.isNodeOfType(r,'textarea'))h.addClass(u,'uiStickyPlaceholderTextarea');g.listen(t,'click',function(){r.focus();});if(r.value===s)r.value='';r.setAttribute('placeholder','');i.replace(r,u);i.appendContent(u,r);h.conditionClass(u,'uiStickyPlaceholderEmptyInput',!r.value.length);},setPlaceholderText:function(r,s){var t=n(r);if(!t){j.setPlaceholder(r,s);}else{var u=o(t);u&&i.setContent(u,s);}},getPlaceholderText:function(r){var s=n(r),t=o(s);return t&&m(t);},update:function(r){var s=n(r);if(s)h.conditionClass(s,'uiStickyPlaceholderEmptyInput',!r.value.length);},getVisibleText:function(r){var s=n(r);if(h.hasClass(s,'uiStickyPlaceholderEmptyInput')){var t=o(s);return t&&m(t);}else return r.value;}};e.exports=q;},null);
__d("TypeaheadCore",["Arbiter","ArbiterMixin","CSS","DOM","Event","Focus","Input","InputSelection","Keys","StickyPlaceholderInput","UserAgent_DEPRECATED","bind","emptyFunction","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=t(h);for(var v in u)if(u.hasOwnProperty(v))x[v]=u[v];var w=u===null?null:u.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=u;function x(y){"use strict";u.call(this);Object.assign(this,y);}x.prototype.init=function(y,z,aa){"use strict";this.init=s;this.data=y;this.view=z;this.root=aa;this.initInput();this.inputWrap=j.find(aa,'div.wrap');this.hiddenInput=j.find(aa,'input.hiddenInput');this.value='';this.nextQuery=null;this.selectedText=null;if(this.setValueOnSelect&&i.hasClass(this.inputWrap,'selected'))this.selectedText=this.getValue();this.initView();this.initData();this.initEvents();this.initToggle();this._exclusions=[];};x.prototype.initInput=function(){"use strict";this.element=j.find(this.root,'.textInput');var y=j.scry(this.element,'input')[0];if(y)this.element=y;};x.prototype.initView=function(){"use strict";this.view.subscribe('highlight',l.set.bind(null,this.element));this.view.subscribe('select',function(y,z){this.select(z.selected);}.bind(this));this.view.subscribe('afterSelect',function(){this.afterSelect();}.bind(this));};x.prototype.initData=function(){"use strict";this.data.subscribe('notify',function(y,z){if(this.root.id==z.rootid&&!this.element.disabled&&z.value==this.getValue())this.view.render(z.value,z.results,z.isAsync);}.bind(this));this.data.subscribe('respond',function(y,z){if(z.forceDisplay||z.value==this.getValue()&&!this.element.disabled&&(this.element.getAttribute('singlestate')!=='true'||z.nullState))this.view.render(z.value,z.results,z.isAsync);}.bind(this));this.data.subscribe('activity',function(y,z){this.fetching=z.activity;if(!this.fetching)this.nextQuery&&this.performQuery();if(this.loading!=this.fetching){this.loading=this.fetching;this.inform('loading',{loading:this.loading});}}.bind(this));};x.prototype.initEvents=function(){"use strict";k.listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var y={blur:r(this,'blur'),focus:r(this,'focus'),click:r(this,'click'),keyup:r(this,'keyup'),keydown:r(this,'keydown'),keypress:r(this,'keypress')};if(q.firefox())y.input=y.keyup;k.listen(this.element,y);};x.prototype.initToggle=function(){"use strict";this.subscribe('blur',this.view.hide.bind(this.view));this.subscribe('focus',this.view.show.bind(this.view));};x.prototype.viewMousedown=function(){"use strict";this.selecting=true;};x.prototype.viewMouseup=function(){"use strict";this.selecting=false;};x.prototype.blur=function(){"use strict";if(this.selecting){this.selecting=false;return;}this.inform('blur');};x.prototype.click=function(){"use strict";var y=n.get(this.element);if(y.start==y.end)this.element.select();this.inform('click');};x.prototype.focus=function(){"use strict";this.checkValue();this.inform('focus');};x.prototype.keyup=function(){"use strict";if(this.resetOnKeyup&&!this.getValue())this.view.reset();this.checkValue();if(this.getValue().length===0)this.inform('change',null);};x.prototype.keydown=function(event){"use strict";if(!this.view.isVisible()||this.view.isEmpty()){setTimeout(this.checkValue.bind(this),0);return;}switch(k.getKeyCode(event)){case o.TAB:this.handleTab(event);return;case o.UP:this.view.prev();break;case o.DOWN:this.view.next();break;case o.ESC:this.view.reset();break;default:setTimeout(this.checkValue.bind(this),0);return;}event.kill();};x.prototype.keypress=function(event){"use strict";if(this.view.getSelection()&&k.getKeyCode(event)==o.RETURN){this.view.select();event.kill();}};x.prototype.handleTab=function(event){"use strict";if(this.preventFocusChangeOnTab)if(this.view.getSelection()){event.kill();}else event.prevent();this.view.select();};x.prototype.select=function(y){"use strict";if(y&&this.setValueOnSelect){var z=y.orig_text||y.text;this.setValue(z);this.setHiddenValue(y.uid);this.selectedText=z;i.addClass(this.inputWrap,'selected');}};x.prototype.afterSelect=function(){"use strict";this.keepFocused?l.set(this.element):this.element.blur();if(!this.noResetAfterSelect)this.resetOnSelect?this.reset():this.view.reset();};x.prototype.unselect=function(){"use strict";if(this.setValueOnSelect){this.selectedText=null;i.removeClass(this.inputWrap,'selected');}this.setHiddenValue();this.inform('unselect',this);};x.prototype.setEnabled=function(y){"use strict";var z=y===false;this.element.disabled=z;i.conditionClass(this.root,'uiTypeaheadDisabled',z);};x.prototype.reset=function(){"use strict";this.unselect();this.setValue();!this.keepFocused&&m.reset(this.element);this.view.reset();this.inform('reset');};x.prototype.getElement=function(){"use strict";return this.element;};x.prototype.setExclusions=function(y){"use strict";this._exclusions=y.map(String);};x.prototype.getExclusions=function(){"use strict";return this._exclusions;};x.prototype.setValue=function(y){"use strict";this.value=this.nextQuery=y||'';m.setValue(this.element,this.value);p.update(this.element);this.inform('change',y);};x.prototype.setHiddenValue=function(y){"use strict";this.hiddenInput.value=(y||y===0)?y:'';g.inform('Form/change',{node:this.hiddenInput});};x.prototype.getValue=function(){"use strict";return m.getValue(this.element);};x.prototype.getHiddenValue=function(){"use strict";return this.hiddenInput.value||'';};x.prototype.checkValue=function(){"use strict";var y=this.getValue();if(y==this.value)return;if(this.selectedText&&this.selectedText!=y)this.unselect();var z=Date.now(),aa=z-this.time;this.time=z;this.value=this.nextQuery=y;this.performQuery(aa);};x.prototype.performQuery=function(y){"use strict";if(this.selectedText)return;y=y||0;if(this.fetching&&y<this.queryTimeout){this.data.query(this.nextQuery,true,this._exclusions,y);}else{this.data.query(this.nextQuery,false,this._exclusions,y);this.nextQuery=null;}};x.prototype.updateHeight=function(){"use strict";};Object.assign(x.prototype,{events:['blur','focus','click','unselect','loading'],keepFocused:true,resetOnSelect:false,resetOnKeyup:true,setValueOnSelect:false,noResetAfterSelect:false,queryTimeout:250,preventFocusChangeOnTab:false});e.exports=x;},null);
__d("queryThenMutateDOM",["Run","createArrayFromMixed","emptyFunction","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k,l,m={},n=[],o=[];function p(s,t,u){if(!s&&!t)return;if(u&&m.hasOwnProperty(u)){return;}else if(u)m[u]=1;n.push(t||i);o.push(s||i);r();if(!k){k=true;g.onLeave(function(){k=false;l=false;m={};n.length=0;o.length=0;});}}p.prepare=function(s,t,u){return function(){var v=h(arguments);v.unshift(this);var w=Function.prototype.bind.apply(s,v),x=t.bind(this);p(w,x,u);};};function q(){m={};var s=o.length,t=n.length,u=[],v;while(s--){v=o.shift();u.push(v());}while(t--){v=n.shift();v(u.shift());}l=false;r();}function r(){if(!l&&(o.length||n.length)){l=true;j(q);}}e.exports=p;},null);
__d("MusicButtonStore",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={},h={addButton:function(i,j){g[i]=j;return j;},getButton:function(i){return g[i];},getButtons:function(){return g;},removeButton:function(i){g[i]&&g[i].resetLoadingTimers();delete g[i];}};e.exports=h;},null);
__d("MusicConstants",["URI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={DEBUG:false,CONFIG:{PARTNER_TIMEOUT:8000},LIVE_LISTEN_MIN_SPOTIFY_VERSION:'spotify-0.6.6.0.g5a9eaca5',enableDebug:function(){this.DEBUG=true;},sameURLs:function(i,j){var k=/\/$/;if(i&&j){i=new g(i);j=new g(j);return i.getDomain()==j.getDomain()&&i.getPath()==j.getPath();}return false;},greaterOrEqualToMinimumVersion:function(i,j){var k=/(?:\d+\.)+/,l=i.match(k)[0].split('.').slice(0,-1),m=j.match(k)[0].split('.').slice(0,-1);if(l.length!==m.length)return false;for(var n=0;n<m.length;n++)if(+l[n]<+m[n]){return false;}else if(+l[n]>+m[n])return true;return true;},sanitizeForProviders:function(i){var j={};for(var k in i)if(this.ALLOWED_EXTERNAL_CONTEXT_PARAMS[k])j[k]=i[k];return j;},OP:{RESUME:'RESUME',PAUSE:'PAUSE',PLAY:'PLAY',VERSION:'VERSION'},STATUS_CHANGE_OP:{STATUS:'STATUS',LOGIN:'LOGIN',REINFORM:'REINFORM'},STATUS_CHANGE_EVENT:{playing:'PLAY_STATE_CHANGED',track:'TRACK_CHANGED'},DIAGNOSTIC_EVENT:{ALL_PAUSED:'ALL_PAUSED',ALL_OFFLINE:'ALL_OFFLINE',OFFLINE:'OFFLINE',ONLINE:'ONLINE',SEARCHING:'SEARCHING',HIT:'HIT',MISS:'MISS',RESIGN:'RESIGN',IFRAME_POLLING:'IFRAME_POLLING',RELAUNCH:'RELAUNCH',STATE_CHANGE:'STATE_CHANGE',WRONG_VERSION:'WRONG_VERSION',SERVICE_ERROR:'SERVICE_ERROR',INCORRECT_ONLINE_STATE:'INCORRECT_ONLINE_STATE',LOG_SEND_OP:'LOG_SEND_OP',REQUEUE_OP:'REQUEUE_OP'},ALLOWED_STATUS_PARAMS:{playing:'playing',track:'track',context:'context',client_version:'client_version',start_time:'start_time',expires_in:'expires_in',open_graph_state:'open_graph_state'},ALLOWED_EXTERNAL_CONTEXT_PARAMS:{uri:true,song:true,radio_station:true,album:true,playlist:true,musician:true,song_list:true,offset:true,title:true,request_id:true,listen_with_friends:true,needs_tos:true},LIVE_LISTEN_OP:{NOW_LEADING:'NOW_LEADING',NOW_LISTENING:'NOW_LISTENING',END_SESSION:'END_SESSION',SONG_PLAYING:'SONG_PLAYING',LISTENER_UPDATE:'LISTENER_UPDATE',QUEUE_SESSION:'QUEUE_SESSION',PLAY_ERROR:'PLAY_ERROR',SESSION_UPDATED:'SESSION_UPDATED',QUEUING_SESSION:'QUEUING_SESSION'},MUSIC_BUTTON:{ACTIVATE:'ACTIVATE'},ERROR:{1:'SERVICE_UNAVAILABLE_WITHOUT_PREMIUM',2:'SERVICE_UNAVAILABLE_WITHOUT_PREMIUM_OR_WAIT',3:'SERVICE_UNAVAILABLE_BILLING_ISSUE',4:'SERVICE_UNAVAILABLE_TECHNICAL_ISSUE',5:'AUDIO_AD_PLAYING',99:'SERVICE_TEMPORARILY_UNAVAILABLE',101:'SONG_UNAVAILABLE_WITHOUT_PURCHASE',102:'SONG_UNAVAILABLE_WITHOUT_PREMIUM',103:'SONG_UNAVAILABLE_INDEFINITELY'}};e.exports=a.MusicConstants||h;},null);
__d("MusicEvents",["Arbiter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports=a.MusicEvents=new g();},null);
__d("MusicButton",["BanzaiODS","Bootloader","CSS","DOM","MusicButtonStore","MusicConstants","MusicEvents","Parent","BanzaiScuba","TooltipData","cx","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=function(t,u,v,w,x,y){this.provider=t;this.buttonElem=u;this.url=v;this.context=w||{};this.mediaType=x;this.setState(this.STATES.OFFLINE);this.tooltip=y||'';m.subscribe(l.MUSIC_BUTTON.ACTIVATE,this.processClick.bind(this));};Object.assign(s,{tracksetableTypes:[]});Object.assign(s.prototype,{SHOW_LOADING_TIMEOUT:500,HIDE_LOADING_TIMEOUT:l.CONFIG.PARTNER_TIMEOUT,RECENTLY_ONLINE_TIMEOUT:6000,STATES:{PLAYING:'music_playing',PAUSED:'music_paused',LOADING:'music_loading',DISABLED:'music_disabled',OFFLINE:'music_offline'},setState:function(t){if(t!==this.STATES.LOADING){this.resetLoadingTimers();this.previousState=this.state||t;}if(t===this.STATES.PLAYING){p.set(this.buttonElem,this.tooltip);}else p.set(this.buttonElem,'');var u=this.buttonElem.parentNode;this.state&&i.removeClass(u,this.state);this.state=t;i.addClass(u,this.state);},isTracksetable:function(t){return s.tracksetableTypes.indexOf(this.mediaType)!==-1;},handleIncomingEvent:function(t,u){clearTimeout(this._showLoadingTimer);if(u&&u.provider&&u.provider!=this.provider)return;switch(t){case l.DIAGNOSTIC_EVENT.ONLINE:case l.STATUS_CHANGE_EVENT.track:case l.STATUS_CHANGE_EVENT.playing:var v=u&&u.track&&u.track.uri,w=u&&u.context&&u.context.uri;if(u&&u.playing&&(l.sameURLs(v,this.url)||l.sameURLs(w,this.url))){this.setState(this.STATES.PLAYING);}else if(this.state===this.STATES.LOADING&&(this.previousState===this.STATES.PAUSED||this.previousState===this.STATES.OFFLINE)){clearTimeout(this._attemptingPlayTimer);this._attemptingPlayTimer=r(this.setState.bind(this,this.STATES.PAUSED),this.RECENTLY_ONLINE_TIMEOUT);}else if(!this._attemptingPlayTimer)this.setState(this.STATES.PAUSED);break;case l.DIAGNOSTIC_EVENT.OFFLINE:this.setState(this.STATES.OFFLINE);break;case l.DIAGNOSTIC_EVENT.ALL_OFFLINE:this.setState(this.STATES.OFFLINE);break;}},processClick:function(t,u){if(u!=this.buttonElem){if(this.state===this.STATES.LOADING)this.previousState&&this.setState(this.previousState);return;}var v=new o('music_play_button_click',null,{addBrowserFields:true,addPredictedGeographyFields:true,addUser:true});v.addNormal('uses_bridge','1');v.addNormal('state',this.state);v.addNormal('provider',this.provider);v.addNormal('class','MusicButton');v.addNormal('insights_source',this.context.appear_source_log_str);v.addDenorm('url',this.url);v.post();if(this.state!=this.STATES.PLAYING){g.bumpEntityKey('music_play_button','music_play_button_click');g.bumpEntityKey('music_play_button','music_play_button_click.'+this.provider);var w=n.byClass(this.buttonElem,"_4--s");if(w){i.addClass(w,"_4--t");setTimeout(i.removeClass.bind(null,w,"_4--t"),3000);}}var x=this.isTracksetable()&&n.byClass(this.buttonElem,'music_trackset_container'),y=[];if(x){var z=x.getAttribute('data-trackset-title'),aa=this.provider,ba=j.scry(x,'.music_button');for(var ca=0;ca<ba.length;ca++){var da=k.getButton([ba[ca].id]);if(da&&da.provider==aa&&da.isTracksetable())y.push(da.url);}}if(!a.Music)this.showLoading(true);h.loadModules(["Music"],function(ea){var fa=(x&&y.length>1)?ea.playPauseSongList(this.provider,this.url,y,z,this.context):ea.playPauseSong(this.provider,this.url,this.context);this.showLoading(!fa);}.bind(this));},showLoading:function(t){this.resetLoadingTimers();this._hideLoadingTimer=r(this._timeout.bind(this,t),this.HIDE_LOADING_TIMEOUT);this._showLoadingTimer=r(this.setState.bind(this,this.STATES.LOADING),this.SHOW_LOADING_TIMEOUT);},resetLoadingTimers:function(){clearTimeout(this._hideLoadingTimer);clearTimeout(this._showLoadingTimer);clearTimeout(this._attemptingPlayTimer);this._attemptingPlayTimer=null;},destroy:function(){this.resetLoadingTimers();this.buttonElem=null;},_timeout:function(t){a.Music&&a.Music.reInform([this.provider]);if(!t&&this.state===this.STATES.LOADING)this.setState(this.STATES.PAUSED);}});e.exports=s;},null);
__d("MusicButtonManager",["Event","DOM","KeyedCallbackManager","Layer","MusicButton","MusicButtonStore","MusicConstants","MusicEvents","Parent","$","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=new i(),s=null,t={},u=0;function v(ca){var da=ca.getTarget(),ea=o.byClass(da,'music_button');ea=ea||(!(ca.getModifiers&&ca.getModifiers().any)&&w(da));if(!ea)return;return x(ea,ca);}function w(ca){var da=o.byClass(ca,'music_button_trigger')&&o.byClass(ca,'music_button_trigger_group');if(da){var ea=h.scry(da,'.music_button');if(ea.length)return ea[0];}return null;}function x(ca,event){event&&event.stop();n.inform(m.MUSIC_BUTTON.ACTIVATE,ca);return false;}function y(ca){a.Music&&a.Music.reInform(ca);}function z(ca,da){var ea=l.getButtons();for(var fa in ea)if(ea[fa].noGC||q(fa)){ea[fa].handleIncomingEvent(ca,da);}else l.removeButton(fa);}var aa={init:function(ca){if(s)return;s=true;k.tracksetableTypes=ca||[];g.listen(document.body,'click',v);n.subscribe([m.STATUS_CHANGE_EVENT.playing,m.STATUS_CHANGE_EVENT.track,m.DIAGNOSTIC_EVENT.OFFLINE,m.DIAGNOSTIC_EVENT.ALL_OFFLINE,m.DIAGNOSTIC_EVENT.ONLINE],z);},add:function(ca,da,ea,fa,ga,ha){s||aa.init();var ia=da.id,ja=l.getButton(ia);if(ja)return ja;ja=l.addButton(ia,new k(ca,da,ea,Object.assign({button_id:ia},fa),ga,ha));var ka=o.byClass(da,'uiOverlay');if(ka){ja.noGC=true;var la=j.subscribe('destroy',function(ma,na){if(h.contains(na.getRoot(),da)){l.removeButton(ia);j.unsubscribe(la);}});}if(ca&&!t[ca])t[ca]=setTimeout(function(){var ma=Object.keys(t);ma.length&&y(ma);t={};},0);return ja;},addButton:function(ca,da,ea,fa,ga,ha){if(!q(da))return;var ia=p(da);return aa.add(ca,ia,ea,fa,ga,ha);},asyncAddMusicButton:function(ca,da){ca.setAttribute('id','music_button_'+u++);ba(ca,da);},tryAddButtonInDOM:function(ca,da){var ea=q(ca);ea&&ba(ea,da);},addMusicData:function(ca,da,ea,fa,ga,ha){r.setResource(ca,{provider:da,uri:ea,context:fa,media_type:ga,tooltip:ha});}};function ba(ca,da){var ea=h.find(ca,'a.button_anchor').getAttribute('href');r.executeOrEnqueue(ea,function(fa){return aa.add(fa.provider,ca,fa.uri,fa.context,fa.media_type,da?fa.tooltip:'');});}e.exports=a.MusicButtonManager||aa;},null);
__d("UITinyViewportAction",["Arbiter","ArbiterMixin","BanzaiScuba","CSS","Event","getDocumentScrollElement","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=document.documentElement,o,p,q,r,s=false,t=false,u=false,v=false,w={init:function(x){var y=m.bind(null,function(){r=r||l();p=n.clientWidth<r.scrollWidth-1;q=n.clientHeight<400;o=q||p;},function(){if(o!==s||p!==t||q!==u){j.conditionClass(n,'tinyViewport',o);j.conditionClass(n,'tinyWidth',p);j.conditionClass(n,'tinyHeight',q);j.conditionClass(n,'canHaveFixedElements',!o);w.inform('change',o);s=o;t=p;u=q;}if(!v){var z=new i('www_tinyview_port',null,{addBrowserFields:true});z.addInteger('clientWidth',n.clientWidth);z.addInteger('clientHeight',n.clientHeight);z.addNormal('view',o?'tiny':'normal');z.post();v=true;}},'TinyViewport');y();g.subscribe('quickling/response',y);k.listen(window,'resize',y);},isTiny:function(){return o;},isTinyWidth:function(){return p;},isTinyHeight:function(){return q;}};Object.assign(w,h);e.exports=w;},null);
__d("TypeaheadShowLoadingIndicator",["CSS"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._typeahead=i;}h.prototype.enable=function(){"use strict";this._subscription=this._typeahead.subscribe('loading',function(i,j){g.conditionClass(this._typeahead.getElement(),'typeaheadLoading',j.loading);g.conditionClass(this._typeahead.getView().getElement(),'typeaheadViewLoading',j.loading);}.bind(this));};h.prototype.disable=function(){"use strict";this._typeahead.unsubscribe(this._subscription);this._subscription=null;};Object.assign(h.prototype,{_subscription:null});e.exports=h;},null);
__d("legacy:ShowLoadingIndicatorTypeaheadBehavior",["TypeaheadShowLoadingIndicator"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.showLoadingIndicator=function(h){h.enableBehavior(g);};},3);