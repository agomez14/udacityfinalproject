/*!CK:3481953110!*//*1435072557,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["IXZyE"]); }

__d("FullScreen",["Event","Arbiter","CSS","UserAgent","UserAgent_DEPRECATED","throttle","Keys"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={},o=false,p=function(u){if(g.getKeyCode(u)===m.ESC)u.stopPropagation();},q=function(){if(!o){document.addEventListener('keydown',p,true);o=true;}},r=function(){if(o){document.removeEventListener('keydown',p,true);o=false;}},s=Object.assign(new h(),{listenForEvent:function(u){var v=l(this.onChange,0,this);if(!n[u.id]){n[u.id]=true;g.listen(u,{webkitfullscreenchange:v,mozfullscreenchange:v,MSFullscreenChange:v,fullscreenchange:v});}},enableFullScreen:function(u){this.listenForEvent(u);if(u.webkitRequestFullScreen){if(k.chrome()){u.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}else u.webkitRequestFullScreen();}else if(u.mozRequestFullScreen){u.mozRequestFullScreen();}else if(u.msRequestFullscreen){q();u.msRequestFullscreen();}else if(u.requestFullScreen){u.requestFullScreen();}else return false;return true;},disableFullScreen:function(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen){document.exitFullScreen();}else return false;return true;},getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;},isFullScreen:function(){return (document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement);},toggleFullScreen:function(u){if(this.isFullScreen()){this.disableFullScreen();return false;}else return this.enableFullScreen(u);return false;},onChange:function(){var u=this.isFullScreen();i.conditionClass(document.body,'fullScreen',u);this.inform('changed');if(!u)r();},isSupportedWithKeyboardInput:function(){return this.isSupported()&&!j.isBrowser('Safari');},isSupported:function(){var u=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return u||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen;}}),t=l(s.onChange,0,s);g.listen(document,{webkitfullscreenchange:t,mozfullscreenchange:t,MSFullscreenChange:t,fullscreenchange:t});e.exports=s;},null);