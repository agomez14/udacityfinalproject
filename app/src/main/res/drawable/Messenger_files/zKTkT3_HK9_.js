/*!CK:1588151752!*//*1438099853,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["4oAqg"]); }

__d("CrashLogger",["CrashLogger-upstream","Run"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();g.setEndSessionCallback=function(i){h.onUnload(i);};e.exports=g;},null);
__d("ModuleSpeedLogger",["BanzaiScuba","NavigationMetrics"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i='module_speed',j,k={};function l(o){return o>0?o*1000:0;}function m(o,p,q){var r=new g(i,null,{addBrowserFields:true,addGeoFields:true,addPredictedGeographyFields:true,addMobileDeviceFields:true});r.addNormal('load_id',o);r.addNormal('page',p.page);r.addNormal('page_type',p.pageType);r.addNormal('path',q);if(p[q]&&p.start)r.addInteger('path_duration',p[q]-p.start);return r;}function n(o,p,q,r,s){var t=0,u=0,v=0;r.forEach(function(x){var y=s[x];if(y.compileTime>=j.aggregation_threshold.compile_time||y.factoryTime>=j.aggregation_threshold.factory_time){var z=m(o,p,q);z.addNormal('module',x);z.addInteger('weight',1);z.addInteger('compile_time',l(y.compileTime));z.addInteger('factory_time',l(y.factoryTime));z.addNormal('source_meta_module',y.module);z.addNormal('source_meta_function',y.name);z.addInteger('source_meta_line',y.line);z.addInteger('source_meta_column',y.column);z.post();}else{t++;u+=y.compileTime;v+=y.factoryTime;}});if(t>0){var w=m(o,p,q);w.addNormal('module','<truncated>');w.addInteger('weight',t);w.addInteger('compile_time',l(u)/t);w.addInteger('factory_time',l(v)/t);w.post();}}e.exports.init=function(o){j=o;h.addListener(h.Events.NAVIGATION_DONE,function(p,q){if(Math.random()>j.client_side_sampling_rate)return;var r=b.__getModuleTimeDetails(),s=Object.keys(r).filter(function(u){var v=r[u].factoryEnd;return v>q.start&&v<=q.tti;}),t=Object.keys(r).filter(function(u){var v=r[u].factoryEnd;return v>q.start&&v<=q.e2e;});n(p,q,'tti',s,r);n(p,q,'e2e',t,r);});};},null);