/*!CK:2179438164!*//*1438011507,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["rIXoX"]); }

__d("VideoPlayerLogger",["Banzai","ErrorUtils","TimeSpentImmediateActiveSecondsLogger","VideoPlayerLoggerEvents","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSource","VideoPlayerInitializationEvents","VideoPlayerLoggerPlayerStates","ex"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r='video_player';function s(t,u){"use strict";this.$VideoPlayerLogger0=t;this.$VideoPlayerLogger1=null;this.$VideoPlayerLogger2={};this.$VideoPlayerLogger3=u;this.$VideoPlayerLogger4=0;this.$VideoPlayerLogger5();}s.prototype.logEvent=function(event,t){"use strict";t=Object.assign({},t,this.$VideoPlayerLogger3);if(this.$VideoPlayerLogger2.hasOwnProperty(event)){t.initial_event=false;}else t.initial_event=this.$VideoPlayerLogger2[event]=true;if(!t.hasOwnProperty('time_ms'))t.time_ms=Date.now();if(!t.hasOwnProperty('time'))t.time=Math.round(t.time_ms/1000);if(this.$VideoPlayerLogger1)Object.assign(t,this.$VideoPlayerLogger1);switch(event){case o.PLAYER_INITIALIZATION:this.$VideoPlayerLogger6=t.time_ms;break;case o.REQUESTED_PLAYING:case o.STARTED_PLAYING:case o.PLAYER_ALLOCATED:case o.PLAYER_SENT_REQUEST:case o.PLAYER_RECEIVED_FIRST_BYTE:case o.BUFFER_READY:case o.METADATA_READY:if(!t.initial_event)break;t.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger6;break;}switch(event){case j.REQUESTED_PLAYING:this.$VideoPlayerLogger5();this.$VideoPlayerLogger7();if(this.$VideoPlayerLogger2[j.STARTED_PLAYING]){t.state=p.UNPAUSED;}else t.state=p.STARTED;break;case j.STARTED_PLAYING:case j.UNPAUSED:case j.FINISHED_PLAYING:case j.CANCELLED_REQUESTED_PLAYING:case j.ERROR:case j.PAUSED:if(event===j.ERROR&&t.state!==l.PLAYBACK_FAILURE)break;if(event===j.CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger2[j.STARTED_PLAYING]){t.state=p.UNPAUSED;}else t.state=p.STARTED;this.$VideoPlayerLogger8();this.$VideoPlayerLogger9(t);this.$VideoPlayerLogger5();break;}var u={logData:t,event:event,scriptPath:this.$VideoPlayerLoggera,source:this.$VideoPlayerLogger0};if(!event)h.reportError(new Error(q('VideoPlayerLogger: Missing event name')),false);if(this.$VideoPlayerLogger0===n.ANIMATED_IMAGE_SHARE)return;if(t.ad_client_token){g.post(r,u,g.VITAL);}else g.post(r,u);if(event===j.FINISHED_PLAYING||event===j.PAUSED){var v=t.time_ms||Date.now(),w=t.video_time_position-t.video_last_start_time_position;if(w>=0)i.maybeReportActiveInterval('video',v-Math.floor(w*1000),v);}};s.prototype.setScriptPath=function(t){"use strict";this.$VideoPlayerLoggera=t;};s.prototype.setFTData=function(t){"use strict";this.$VideoPlayerLogger1=t;};s.prototype.startBuffering=function(){"use strict";this.$VideoPlayerLogger7();};s.prototype.endBuffering=function(){"use strict";this.$VideoPlayerLogger8();};s.prototype.$VideoPlayerLogger7=function(){"use strict";if(this.$VideoPlayerLoggerb<=0)this.$VideoPlayerLoggerb=Date.now();};s.prototype.$VideoPlayerLogger8=function(){"use strict";if(this.$VideoPlayerLoggerb>0){var t=(Date.now()-this.$VideoPlayerLoggerb);this.$VideoPlayerLoggerc=this.$VideoPlayerLoggerc+t;this.$VideoPlayerLogger4=this.$VideoPlayerLogger4+t;this.$VideoPlayerLoggerd++;this.$VideoPlayerLoggerb=0;}};s.prototype.getCurrentStallTime=function(){"use strict";return this.$VideoPlayerLogger4;};s.prototype.$VideoPlayerLogger9=function(t){"use strict";t.stall_time=Math.max(0,this.$VideoPlayerLoggerc);t.stall_count=this.$VideoPlayerLoggerd;};s.prototype.$VideoPlayerLogger5=function(){"use strict";this.$VideoPlayerLoggerc=0;this.$VideoPlayerLoggerb=0;this.$VideoPlayerLoggerd=0;};Object.assign(s,{Sources:n,Errors:k,FallbackReasons:m,ErrorStates:l,PlayerStates:p});e.exports=s;},null);